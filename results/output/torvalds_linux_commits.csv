项目名称,项目URL,提交ID,提交者,提交时间,提交信息,提交链接
torvalds/linux,https://github.com/torvalds/linux,2061f18,Linus Torvalds,2025-12-05T04:10:28Z,"Merge tag 'caps-pr-20251204' of git://git.kernel.org/pub/scm/linux/kernel/git/sergeh/linux  Pull capabilities update from Serge Hallyn:  ""Ryan Foster had sent a patch to add testing of the   rootid_owns_currentns() function. That patch pointed out   that this function was not as clear as it should be. Fix it:     - Clarify the intent of the function in the name     - Split the function so that the base functionality is easier to test      from a kunit test""  * tag 'caps-pr-20251204' of git://git.kernel.org/pub/scm/linux/kernel/git/sergeh/linux:   Clarify the rootid_owns_currentns",https://github.com/torvalds/linux/commit/2061f18ad76ecaddf8ed17df81b8611ea88dbddd
torvalds/linux,https://github.com/torvalds/linux,deb879f,Linus Torvalds,2025-12-05T03:42:53Z,"Merge tag 'drm-next-2025-12-05' of https://gitlab.freedesktop.org/drm/kernel  Pull more drm updates from Dave Airlie:  ""There was some additional intel code for color operations we wanted to   land. However I discovered I missed a pull for the xe vfio driver   which I had sorted into 6.20 in my brain, until Thomas mentioned it.    This contains the xe vfio code, a bunch of xe fixes that were waiting   and the i915 color management support. I'd like to include it as part   of keeping the two main vendors on the same page and giving a good   cross-driver experience for userspace when it starts using it.    vfio:    - add a vfio_pci variant driver for Intel    xe/i915 display:    - add plane color management support    xe:    - Add scope-based cleanup helper for runtime PM    - vfio xe driver prerequisites and exports    - fix vfio link error    - Fix a memory leak    - Fix a 64-bit division    - vf migration fix    - LRC pause fix""  * tag 'drm-next-2025-12-05' of https://gitlab.freedesktop.org/drm/kernel: (25 commits)   drm/i915/color: Enable Plane Color Pipelines   drm/i915/color: Add 3D LUT to color pipeline   drm/i915/color: Add registers for 3D LUT   drm/i915/color: Program Plane Post CSC Registers   drm/i915/color: Program Pre-CSC registers   drm/i915/color: Add framework to program PRE/POST CSC LUT   drm/i915: Add register definitions for Plane Post CSC   drm/i915: Add register definitions for Plane Degamma   drm/i915/color: Add plane CTM callback for D12 and beyond   drm/i915/color: Preserve sign bit when int_bits is Zero   drm/i915/color: Add framework to program CSC   drm/i915/color: Create a transfer function color pipeline   drm/i915/color: Add helper to create intel colorop   drm/i915: Add intel_color_op   drm/i915/display: Add identifiers for driver specific blocks   drm/xe/pf: fix VFIO link error   drm/xe: Protect against unset LRC when pausing submissions   drm/xe/vf: Start re-emission from first unsignaled job during VF migration   drm/xe/pf: Use div_u64 when calculating GGTT profile   drm/xe: Fix memory leak when handling pagefault vma   ...",https://github.com/torvalds/linux/commit/deb879faa9d2f327ac5c079d9d1a1747b79260e3
torvalds/linux,https://github.com/torvalds/linux,028bd4a,Linus Torvalds,2025-12-05T03:30:09Z,"Merge tag 'tpmdd-next-6.19-rc1-v4' of git://git.kernel.org/pub/scm/linux/kernel/git/jarkko/linux-tpmdd  Pull tpm updates from Jarkko Sakkinen:  ""This contains changes to unify TPM return code translation between   trusted_tpm2 and TPM driver itself. Other than that the changes are   either bug fixes or minor imrovements""  * tag 'tpmdd-next-6.19-rc1-v4' of git://git.kernel.org/pub/scm/linux/kernel/git/jarkko/linux-tpmdd:   KEYS: trusted: Use tpm_ret_to_err() in trusted_tpm2   tpm: Use -EPERM as fallback error code in tpm_ret_to_err   tpm: Cap the number of PCR banks   tpm: Remove tpm_find_get_ops   tpm: add WQ_PERCPU to alloc_workqueue users   tpm_crb: add missing loc parameter to kerneldoc   tpm_crb: Fix a spelling mistake   selftests: tpm2: Fix ill defined assertions",https://github.com/torvalds/linux/commit/028bd4a14631ea2a1c923930bff96ffd0fda03a6
torvalds/linux,https://github.com/torvalds/linux,16460bf,Linus Torvalds,2025-12-05T03:27:11Z,"Merge tag 'ata-6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/libata/linux  Pull ata updates from Niklas Cassel:   - Add DT binding for the Eswin EIC7700 SoC SATA Controller (Yulin Lu)   - Allow 'iommus' property in the Synopsys DWC AHCI SATA controller DT    binding (Rob Herring)   - Replace deprecated strcpy with strscpy in the pata_it821x driver    (Thorsten Blum)   - Add Iomega Clik! PCMCIA ATA/ATAPI Adapter PCMCIA ID to the    pata_pcmcia driver (René Rebe)   - Add ATA_QUIRK_NOLPM quirk for two Silicon Motion SSDs with broken LPM    support (me)   - Add flag WQ_PERCPU to the workqueue in the libata-sff helper library    to explicitly request the use of the per-CPU behavior (Marco    Crivellari)  * tag 'ata-6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/libata/linux:   ata: libata-core: Disable LPM on Silicon Motion MD619{H,G}XCLDE3TC   ata: pata_pcmcia: Add Iomega Clik! PCMCIA ATA/ATAPI Adapter   ata: libata-sff: add WQ_PERCPU to alloc_workqueue users   dt-bindings: ata: snps,dwc-ahci: Allow 'iommus' property   ata: pata_it821x: Replace deprecated strcpy with strscpy in it821x_display_disk   dt-bindings: ata: eswin: Document for EIC7700 SoC ahci",https://github.com/torvalds/linux/commit/16460bf96c31377c14d9f11a6da8c6f508e3443e
torvalds/linux,https://github.com/torvalds/linux,bc69ed9,Linus Torvalds,2025-12-05T02:59:21Z,"Merge tag 'for_linus' of git://git.kernel.org/pub/scm/linux/kernel/git/mst/vhost  Pull virtio updates from Michael Tsirkin:  ""Just a bunch of fixes and cleanups, mostly very simple. Several   features were merged through net-next this time around""  * tag 'for_linus' of git://git.kernel.org/pub/scm/linux/kernel/git/mst/vhost:   virtio_pci: drop kernel.h   vhost: switch to arrays of feature bits   vhost/test: add test specific macro for features   virtio: clean up features qword/dword terms   vduse: add WQ_PERCPU to alloc_workqueue users   virtio_balloon: add WQ_PERCPU to alloc_workqueue users   vdpa/pds: use %pe for ERR_PTR() in event handler registration   vhost: Fix kthread worker cgroup failure handling   virtio: vdpa: Fix reference count leak in octep_sriov_enable()   vdpa/mlx5: Fix incorrect error code reporting in query_virtqueues   virtio: fix map ops comment   virtio: fix virtqueue_set_affinity() docs   virtio: standardize Returns documentation style   virtio: fix grammar in virtio_map_ops docs   virtio: fix grammar in virtio_queue_info docs   virtio: fix whitespace in virtio_config_ops   virtio: fix typo in virtio_device_ready() comment   virtio: fix kernel-doc for mapping/free_coherent functions   virtio_vdpa: fix misleading return in void function",https://github.com/torvalds/linux/commit/bc69ed975203c3ffe34f873531f3052914d4e497
torvalds/linux,https://github.com/torvalds/linux,55aa394,Linus Torvalds,2025-12-05T02:54:37Z,"Merge tag 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/rdma/rdma  Pull rdma updates from Jason Gunthorpe:  ""This has another new RDMA driver 'bng_en' for latest generation   Broadcom NICs. There might be one more new driver still to come.    Otherwise it is a fairly quite cycle. Summary:     - Minor driver bug fixes and updates to cxgb4, rxe, rdmavt, bnxt_re,      mlx5     - Many bug fix patches for irdma     - WQ_PERCPU annotations and system_dfl_wq changes     - Improved mlx5 support for ""other eswitches"" and multiple PFs     - 1600Gbps link speed reporting support. Four Digits Now!     - New driver bng_en for latest generation Broadcom NICs     - Bonding support for hns     - Adjust mlx5's hmm based ODP to work with the very large address      space created by the new 5 level paging default on x86     - Lockdep fixups in rxe and siw""  * tag 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/rdma/rdma: (65 commits)   RDMA/rxe: reclassify sockets in order to avoid false positives from lockdep   RDMA/siw: reclassify sockets in order to avoid false positives from lockdep   RDMA/bng_re: Remove prefetch instruction   RDMA/core: Reduce cond_resched() frequency in __ib_umem_release   RDMA/irdma: Fix SRQ shadow area address initialization   RDMA/irdma: Remove doorbell elision logic   RDMA/irdma: Do not set IBK_LOCAL_DMA_LKEY for GEN3+   RDMA/irdma: Do not directly rely on IB_PD_UNSAFE_GLOBAL_RKEY   RDMA/irdma: Add missing mutex destroy   RDMA/irdma: Fix SIGBUS in AEQ destroy   RDMA/irdma: Add a missing kfree of struct irdma_pci_f for GEN2   RDMA/irdma: Fix data race in irdma_free_pble   RDMA/irdma: Fix data race in irdma_sc_ccq_arm   RDMA/mlx5: Add support for 1600_8x lane speed   RDMA/core: Add new IB rate for XDR (8x) support   IB/mlx5: Reduce IMR KSM size when 5-level paging is enabled   RDMA/bnxt_re: Pass correct flag for dma mr creation   RDMA/bnxt_re: Fix the inline size for GenP7 devices   RDMA/hns: Support reset recovery for bond   RDMA/hns: Support link state reporting for bond   ...",https://github.com/torvalds/linux/commit/55aa394a5ed871208eac11c5f4677cafd258c4dd
torvalds/linux,https://github.com/torvalds/linux,056daec,Linus Torvalds,2025-12-05T02:50:11Z,"Merge tag 'for-linus-iommufd' of git://git.kernel.org/pub/scm/linux/kernel/git/jgg/iommufd  Pull iommufd updates from Jason Gunthorpe:  ""This is a pretty consequential cycle for iommufd, though this pull is   not too big. It is based on a shared branch with VFIO that introduces   VFIO_DEVICE_FEATURE_DMA_BUF a DMABUF exporter for VFIO device's MMIO   PCI BARs. This was a large multiple series journey over the last year   and a half.    Based on that work IOMMUFD gains support for VFIO DMABUF's in its   existing IOMMU_IOAS_MAP_FILE, which closes the last major gap to   support PCI peer to peer transfers within VMs.    In Joerg's iommu tree we have the ""generic page table"" work which aims   to consolidate all the duplicated page table code in every iommu   driver into a single algorithm. This will be used by iommufd to   implement unique page table operations to start adding new features   and improve performance.    In here:     - Expand IOMMU_IOAS_MAP_FILE to accept a DMABUF exported from VFIO.      This is the first step to broader DMABUF support in iommufd, right      now it only works with VFIO. This closes the last functional gap      with classic VFIO type 1 to safely support PCI peer to peer DMA by      mapping the VFIO device's MMIO into the IOMMU.     - Relax SMMUv3 restrictions on nesting domains to better support      qemu's sequence to have an identity mapping before the vSID is      established""  * tag 'for-linus-iommufd' of git://git.kernel.org/pub/scm/linux/kernel/git/jgg/iommufd:   iommu/arm-smmu-v3-iommufd: Allow attaching nested domain for GBPA cases   iommufd/selftest: Add some tests for the dmabuf flow   iommufd: Accept a DMABUF through IOMMU_IOAS_MAP_FILE   iommufd: Have iopt_map_file_pages convert the fd to a file   iommufd: Have pfn_reader process DMABUF iopt_pages   iommufd: Allow MMIO pages in a batch   iommufd: Allow a DMABUF to be revoked   iommufd: Do not map/unmap revoked DMABUFs   iommufd: Add DMABUF to iopt_pages   vfio/pci: Add vfio_pci_dma_buf_iommufd_map()",https://github.com/torvalds/linux/commit/056daec2925dc200b22c30419bc7b9e01f7843c4
torvalds/linux,https://github.com/torvalds/linux,a3ebb59,Linus Torvalds,2025-12-05T02:42:48Z,"Merge tag 'vfio-v6.19-rc1' of https://github.com/awilliam/linux-vfio  Pull VFIO updates from Alex Williamson:   - Move libvfio selftest artifacts in preparation of more tightly    coupled integration with KVM selftests (David Matlack)   - Fix comment typo in mtty driver (Chu Guangqing)   - Support for new hardware revision in the hisi_acc vfio-pci variant    driver where the migration registers can now be accessed via the PF.    When enabled for this support, the full BAR can be exposed to the    user (Longfang Liu)   - Fix vfio cdev support for VF token passing, using the correct size    for the kernel structure, thereby actually allowing userspace to    provide a non-zero UUID token. Also set the match token callback for    the hisi_acc, fixing VF token support for this this vfio-pci variant    driver (Raghavendra Rao Ananta)   - Introduce internal callbacks on vfio devices to simplify and    consolidate duplicate code for generating VFIO_DEVICE_GET_REGION_INFO    data, removing various ioctl intercepts with a more structured    solution (Jason Gunthorpe)   - Introduce dma-buf support for vfio-pci devices, allowing MMIO regions    to be exposed through dma-buf objects with lifecycle managed through    move operations. This enables low-level interactions such as a    vfio-pci based SPDK drivers interacting directly with dma-buf capable    RDMA devices to enable peer-to-peer operations. IOMMUFD is also now    able to build upon this support to fill a long standing feature gap    versus the legacy vfio type1 IOMMU backend with an implementation of    P2P support for VM use cases that better manages the lifecycle of the    P2P mapping (Leon Romanovsky, Jason Gunthorpe, Vivek Kasireddy)   - Convert eventfd triggering for error and request signals to use RCU    mechanisms in order to avoid a 3-way lockdep reported deadlock issue    (Alex Williamson)   - Fix a 32-bit overflow introduced via dma-buf support manifesting with    large DMA buffers (Alex Mastro)   - Convert nvgrace-gpu vfio-pci variant driver to insert mappings on    fault rather than at mmap time. This conversion serves both to make    use of huge PFNMAPs but also to both avoid corrected RAS events    during reset by now being subject to vfio-pci-core's use of    unmap_mapping_range(), and to enable a device readiness test after    reset (Ankit Agrawal)   - Refactoring of vfio selftests to support multi-device tests and split    code to provide better separation between IOMMU and device objects.    This work also enables a new test suite addition to measure parallel    device initialization latency (David Matlack)  * tag 'vfio-v6.19-rc1' of https://github.com/awilliam/linux-vfio: (65 commits)   vfio: selftests: Add vfio_pci_device_init_perf_test   vfio: selftests: Eliminate INVALID_IOVA   vfio: selftests: Split libvfio.h into separate header files   vfio: selftests: Move vfio_selftests_*() helpers into libvfio.c   vfio: selftests: Rename vfio_util.h to libvfio.h   vfio: selftests: Stop passing device for IOMMU operations   vfio: selftests: Move IOVA allocator into iova_allocator.c   vfio: selftests: Move IOMMU library code into iommu.c   vfio: selftests: Rename struct vfio_dma_region to dma_region   vfio: selftests: Upgrade driver logging to dev_err()   vfio: selftests: Prefix logs with device BDF where relevant   vfio: selftests: Eliminate overly chatty logging   vfio: selftests: Support multiple devices in the same container/iommufd   vfio: selftests: Introduce struct iommu   vfio: selftests: Rename struct vfio_iommu_mode to iommu_mode   vfio: selftests: Allow passing multiple BDFs on the command line   vfio: selftests: Split run.sh into separate scripts   vfio: selftests: Move run.sh into scripts directory   vfio/nvgrace-gpu: wait for the GPU mem to be ready   vfio/nvgrace-gpu: Inform devmem unmapped after reset   ...",https://github.com/torvalds/linux/commit/a3ebb59eee2e558e8f8f27fc3f75cd367f17cd8e
torvalds/linux,https://github.com/torvalds/linux,ce5cfb0,Linus Torvalds,2025-12-05T02:05:06Z,"Merge tag 'iommu-updates-v6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/iommu/linux  Pull iommu updates from Joerg Roedel:   - Introduction of the generic IO page-table framework with support for    Intel and AMD IOMMU formats from Jason.     This has good potential for unifying more IO page-table    implementations and making future enhancements more easy. But this    also needed quite some fixes during development. All known issues    have been fixed, but my feeling is that there is a higher potential    than usual that more might be needed.   - Intel VT-d updates:     - Use right invalidation hint in qi_desc_iotlb()     - Reduce the scope of INTEL_IOMMU_FLOPPY_WA   - ARM-SMMU updates:     - Qualcomm device-tree binding updates for Kaanapali and Glymur SoCs       and a new clock for the TBU.     - Fix error handling if level 1 CD table allocation fails.     - Permit more than the architectural maximum number of SMRs for       funky Qualcomm mis-implementations of SMMUv2.   - Mediatek driver:     - MT8189 iommu support   - Move ARM IO-pgtable selftests to kunit   - Device leak fixes for a couple of drivers   - Random smaller fixes and improvements  * tag 'iommu-updates-v6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/iommu/linux: (81 commits)   iommupt/vtd: Support mgaw's less than a 4 level walk for first stage   iommupt/vtd: Allow VT-d to have a larger table top than the vasz requires   powerpc/pseries/svm: Make mem_encrypt.h self contained   genpt: Make GENERIC_PT invisible   iommupt: Avoid a compiler bug with sw_bit   iommu/arm-smmu-qcom: Enable use of all SMR groups when running bare-metal   iommupt: Fix unlikely flows in increase_top()   iommu/amd: Propagate the error code returned by __modify_irte_ga() in modify_irte_ga()   MAINTAINERS: Update my email address   iommu/arm-smmu-v3: Fix error check in arm_smmu_alloc_cd_tables   dt-bindings: iommu: qcom_iommu: Allow 'tbu' clock   iommu/vt-d: Restore previous domain::aperture_end calculation   iommu/vt-d: Fix unused invalidation hint in qi_desc_iotlb   iommu/vt-d: Set INTEL_IOMMU_FLOPPY_WA depend on BLK_DEV_FD   iommu/tegra: fix device leak on probe_device()   iommu/sun50i: fix device leak on of_xlate()   iommu/omap: simplify probe_device() error handling   iommu/omap: fix device leaks on probe_device()   iommu/mediatek-v1: add missing larb count sanity check   iommu/mediatek-v1: fix device leaks on probe()   ...",https://github.com/torvalds/linux/commit/ce5cfb0fa20dc6454da039612e34325b7b4a8243
torvalds/linux,https://github.com/torvalds/linux,5797d10,Linus Torvalds,2025-12-05T01:55:18Z,"Merge tag 'cxl-for-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/cxl/cxl  Pull compute express link (CXL) updates from Dave Jiang:  ""The additions of note are adding CXL region remove support for locked   CXL decoders, adding unit testing support for XOR address translation,   and adding unit testing support for extended linear cache.    Misc:    - Remove incorrect page-allocator quirk section in documentation    - Remove unused devm_cxl_port_enumerate_dports() function    - Fix typo in cdat.c code comment    - Replace use of system_wq with system_percpu_wq    - Add locked CXL decoder support for region removal    - Return when generic target updated    - Rename region_res_match_cxl_range() to spa_maps_hpa()    - Clarify comment in spa_maps_hpa()    Enable unit testing for XOR address translation of SPA to DPA and vice versa:    - Refactor address translation funcs for testing in cxl_region    - Make the XOR calculations available for testing    - Add cxl_translate module for address translation testing in      cxl_test    Extended Linear Cache changes:    - Add extended linear cache size sysfs attribute    - Adjust failure emission of extended linear cache detection in      cxl_acpi    - Added extended linear cache unit testing support in cxl_test    Preparation refactor patches for PRM translation support:    - Simplify cxl_rd_ops allocation and handling    - Group xor arithmetric setup code in a single block    - Remove local variable @inc in cxl_port_setup_targets()""  * tag 'cxl-for-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/cxl/cxl: (22 commits)   cxl/test: Assign overflow_err_count from log->nr_overflow   cxl/test: Remove ret_limit race condition in mock_get_event()   cxl/test: remove unused mock function for cxl_rcd_component_reg_phys()   cxl/test: Add support for acpi extended linear cache   cxl/test: Add cxl_test CFMWS support for extended linear cache   cxl/test: Standardize CXL auto region size   cxl/region: Remove local variable @inc in cxl_port_setup_targets()   cxl/acpi: Group xor arithmetric setup code in a single block   cxl: Simplify cxl_rd_ops allocation and handling   cxl: Clarify comment in spa_maps_hpa()   cxl: Rename region_res_match_cxl_range() to spa_maps_hpa()   acpi/hmat: Return when generic target is updated   cxl: Add handling of locked CXL decoder   cxl/region: Add support to indicate region has extended linear cache   cxl: Adjust extended linear cache failure emission in cxl_acpi   cxl/test: Add cxl_translate module for address translation testing   cxl/acpi: Make the XOR calculations available for testing   cxl/region: Refactor address translation funcs for testing   cxl/pci: replace use of system_wq with system_percpu_wq   cxl: fix typos in cdat.c comments   ...",https://github.com/torvalds/linux/commit/5797d10ea4fade7df0f920c368cad07f705afc63
torvalds/linux,https://github.com/torvalds/linux,43dfc13,Linus Torvalds,2025-12-05T01:29:41Z,"Merge tag 'pci-v6.19-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/pci/pci  Pull PCI updates from Bjorn Helgaas:  ""Enumeration:     - Enable host bridge emulation for PCI_DOMAINS_GENERIC platforms (Dan      Williams)     - Switch vmd from custom domain number allocator to the common      allocator to prevent a potential race with new non-VMD buses (Dan      Williams)     - Enable Precision Time Measurement (PTM) only if device advertises      support for a relevant role, to prevent invalid PTM Requests that      cause ACS violations that are reported as AER Uncorrectable      Non-Fatal errors (Mika Westerberg)    Resource management:     - Prevent resource tree corruption when BAR resize fails (Ilpo      Järvinen)     - Restore BARs to the original size if a BAR resize fails (Ilpo      Järvinen)     - Remove BAR release from BAR resize attempts by the xe, i915, and      amdgpu drivers so the PCI core can restore BARs if the resize fails      (Ilpo Järvinen)     - Move Resizable BAR code to rebar.c (Ilpo Järvinen)     - Add pci_rebar_size_supported() and use it in i915 and xe (Ilpo      Järvinen)     - Add pci_rebar_get_max_size() and use it in xe and amdgpu (Ilpo      Järvinen)    Power management and error handling:     - For drivers using PCI legacy suspend, save config state at suspend      so that state (not any earlier state from enumeration, probe, or      error recovery) will be restored when resuming (Lukas Wunner)     - For devices with no driver or a driver that lacks power management,      save config state at hibernate so that state (not any earlier state      from enumeration, probe, or error recovery) will be restored when      resuming (Lukas Wunner)     - Save device config space on device addition, before driver binding,      so error recovery works more reliably (Lukas Wunner)     - Drop pci_save_state() from several drivers that no longer need it      since the PCI core always does it and pci_restore_state() no longer      invalidates the saved state (Lukas Wunner)     - Document use of pci_save_state() by drivers to capture the state      they want restored during error recovery (Lukas Wunner)    Power control:     - Add a struct pci_ops.assert_perst() function pointer to      assert/deassert PCIe PERST# and implement it for the qcom driver      (Krishna Chaitanya Chundru)     - Add DT binding and pwrctrl driver for the Toshiba TC9563 PCIe      switch, which must be held in reset after poweron so the pwrctrl      driver can configure the switch via I2C before bringing up the      links (Krishna Chaitanya Chundru)    Endpoint framework:     - Convert the endpoint doorbell test to use a threaded IRQ to fix a      'sleeping while atomic' issue (Bhanu Seshu Kumar Valluri)     - Add endpoint VNTB MSI doorbell support to reduce latency between      host and endpoint (Frank Li)    New native PCIe controller drivers:     - Add CIX Sky1 host controller DT binding and driver (Hans Zhang)     - Add NXP S32G host controller DT binding and driver (Vincent      Guittot)     - Add Renesas RZ/G3S host controller DT binding and driver (Claudiu      Beznea)     - Add SpacemiT K1 host controller DT binding and driver (Alex Elder)    Amlogic Meson PCIe controller driver:     - Update DT binding to name DBI region 'dbi', not 'elbi', and update      driver to support both (Manivannan Sadhasivam)    Apple PCIe controller driver:     - Move struct pci_host_bridge allocation from pci_host_common_init()      to callers, which significantly simplifies pcie-apple (Marc      Zyngier)    Broadcom STB PCIe controller driver:     - Disable advertising ASPM L0s support correctly (Jim Quinlan)     - Add a panic/die handler to print diagnostic info in case PCIe      caused an unrecoverable abort (Jim Quinlan)    Cadence PCIe controller driver:     - Add module support for Cadence platform host and endpoint      controller driver (Manikandan K Pillai)     - Split headers into 'legacy' (LGA) and 'high perf' (HPA) to prepare      for new CIX Sky1 driver (Manikandan K Pillai)    MediaTek PCIe controller driver:     - Convert DT binding to YAML schema (Christian Marangi)     - Add Airoha AN7583 DT compatible and driver support (Christian      Marangi)    Qualcomm PCIe controller driver:     - Add Qualcomm Kaanapali to SM8550 DT binding (Qiang Yu)     - Add required 'power-domains' and 'resets' to qcom sa8775p, sc7280,      sc8280xp, sm8150, sm8250, sm8350, sm8450, sm8550, x1e80100 DT      schemas (Krzysztof Kozlowski)     - Look up OPP using both frequency and data rate (not just frequency)      so RPMh votes can account for both (Krishna Chaitanya Chundru)    Rockchip DesignWare PCIe controller driver:     - Add Rockchip RK3528 compatible strings in DT binding (Yao Zi)    STMicroelectronics STM32MP25 PCIe controller driver:     - Fix a race between link training and endpoint register      initialization (Christian Bruel)     - Align endpoint allocations to match the ATU requirements (Christian      Bruel)    Synopsys DesignWare PCIe controller driver:     - Clear L1 PM Substate Capability 'Supported' bits unless glue driver      says it's supported, which prevents users from enabling non-working      L1SS. Currently only qcom and tegra194 support L1SS (Bjorn Helgaas)     - Remove now-superfluous L1SS disable code from tegra194 (Bjorn      Helgaas)     - Configure L1SS support in dw-rockchip when DT says      'supports-clkreq' (Shawn Lin)    TI Keystone PCIe controller driver:     - Fail the probe instead of silently succeeding if ks_pcie_of_data      didn't specify Root Complex or Endpoint mode (Siddharth Vadapalli)     - Make keystone buildable as a loadable module, except on ARM32 where      hook_fault_code() is __init (Siddharth Vadapalli)""  * tag 'pci-v6.19-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/pci/pci: (100 commits)   MAINTAINERS: Add Manivannan Sadhasivam as PCI/pwrctrl maintainer   MAINTAINERS: Add CIX Sky1 PCIe controller driver maintainer   PCI: sky1: Add PCIe host support for CIX Sky1   dt-bindings: PCI: Add CIX Sky1 PCIe Root Complex bindings   PCI: cadence: Add support for High Perf Architecture (HPA) controller   MAINTAINERS: Add NXP S32G PCIe controller driver maintainer   PCI: s32g: Add NXP S32G PCIe controller driver (RC)   PCI: dwc: Add register and bitfield definitions   dt-bindings: PCI: s32g: Add NXP S32G PCIe controller   PCI: Add Renesas RZ/G3S host controller driver   PCI: host-generic: Move bridge allocation outside of pci_host_common_init()   dt-bindings: PCI: Add Renesas RZ/G3S PCIe controller binding   PCI: Validate pci_rebar_size_supported() input   Documentation: PCI: Amend error recovery doc with pci_save_state() rules   treewide: Drop pci_save_state() after pci_restore_state()   PCI/ERR: Ensure error recoverability at all times   PCI/PM: Stop needlessly clearing state_saved on enumeration and thaw   PCI/PM: Reinstate clearing state_saved in legacy and !PM codepaths   PCI: dw-rockchip: Configure L1SS support   PCI: tegra194: Remove unnecessary L1SS disable code   ...",https://github.com/torvalds/linux/commit/43dfc13ca972988e620a6edb72956981b75ab6b0
torvalds/linux,https://github.com/torvalds/linux,b1dd1e2,Linus Torvalds,2025-12-05T01:10:08Z,"Merge tag 'efi-next-for-v6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/efi/efi  Pull EFI updates from Ard Biesheuvel:  ""The usual trickle of EFI contributions:     - Parse SMBIOS tables in memory directly on Macbooks that do not      implement the EFI SMBIOS protocol     - Obtain EDID information from the primary display while running in      the EFI stub, and expose it via bootparams on x86 (generic method      is in the works, and will likely land during the next cycle)     - Bring CPER handling for ARM systems up to data with the latest EFI      spec changes     - Various cosmetic changes""  * tag 'efi-next-for-v6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/efi/efi:   docs: efi: add CPER functions to driver-api   efi/cper: align ARM CPER type with UEFI 2.9A/2.10 specs   efi/cper: Add a new helper function to print bitmasks   efi/cper: Adjust infopfx size to accept an extra space   RAS: Report all ARM processor CPER information to userspace   efi/libstub: x86: Store EDID in boot_params   efi/libstub: gop: Add support for reading EDID   efi/libstub: gop: Initialize screen_info in helper function   efi/libstub: gop: Find GOP handle instead of GOP data   efi: Fix trailing whitespace in header file   efi/memattr: Convert efi_memattr_init() return type to void   efi: stmm: fix kernel-doc ""bad line"" warnings   efi/riscv: Remove the useless failure return message print   efistub/x86: Add fallback for SMBIOS record lookup",https://github.com/torvalds/linux/commit/b1dd1e2f3e4ed970949ab4bb982bb0165f3e979d
torvalds/linux,https://github.com/torvalds/linux,c7685d1,Dave Airlie,2025-12-05T00:27:56Z,"Merge tag 'topic/drm-intel-plane-color-pipeline-2025-12-04' of https://gitlab.freedesktop.org/drm/i915/kernel into drm-next  drm/i915 topic pull request for v6.19:  Features and functionality: - Add plane color management support (Uma, Chaitanya)  Signed-off-by: Dave Airlie <airlied@redhat.com> From: Jani Nikula <jani.nikula@intel.com> Link: https://patch.msgid.link/e7129c6afd6208719d2f5124da86e810505e7a7b@intel.com",https://github.com/torvalds/linux/commit/c7685d11108acb387e44e3d81194d0d8959eaa44
torvalds/linux,https://github.com/torvalds/linux,86fafc5,Dave Airlie,2025-12-05T00:21:11Z,Merge tag 'drm-xe-next-fixes-2025-12-04' of https://gitlab.freedesktop.org/drm/xe/kernel into drm-next  Driver Changes: - Fix a memory leak (Mika) - Fix a 64-bit division (Michal Wajdeczko) - vf migration fix (Matt Brost) - LRC pause Fix (Tomasz lis)  Signed-off-by: Dave Airlie <airlied@redhat.com>  From: Thomas Hellstrom <thomas.hellstrom@linux.intel.com> Link: https://patch.msgid.link/aTIGiHJnnMtqbDOO@fedora,https://github.com/torvalds/linux/commit/86fafc584c1977e2bfa05a88bfb8eae78f984f5b
torvalds/linux,https://github.com/torvalds/linux,e73c226,Dave Airlie,2025-12-05T00:16:43Z,Merge tag 'topic/xe-vfio-2025-12-04' of https://gitlab.freedesktop.org/drm/xe/kernel into drm-next  Driver Changes: - fix VFIO link error for built-in xe module (Arnd Bergmann)  Signed-off-by: Dave Airlie <airlied@redhat.com>  From: Thomas Hellstrom <thomas.hellstrom@linux.intel.com> Link: https://patch.msgid.link/aTIA9in2Bo_fA9TN@fedora,https://github.com/torvalds/linux/commit/e73c2262041abd630699224159646aa31e5b7697
torvalds/linux,https://github.com/torvalds/linux,55a271a,Dave Airlie,2025-12-05T00:16:14Z,Merge tag 'topic/xe-vfio-2025-12-01' of https://gitlab.freedesktop.org/drm/xe/kernel into drm-next  Cross-subsystem Changes: - Add device specific vfio_pci driver variant for intel graphics (Michal Winiarski)  Driver Changes: - Add scope-based cleanup helper for runtime PM (Matt Roper) - Additional xe driver prerequisites and exports (Michal Winiarski)  Signed-off-by: Dave Airlie <airlied@redhat.com>  From: Thomas Hellstrom <thomas.hellstrom@linux.intel.com> Link: https://patch.msgid.link/aS1bNpqeem6PIHrA@fedora,https://github.com/torvalds/linux/commit/55a271a0f7e073032e9c8b1c1e30916d90be5a8a
torvalds/linux,https://github.com/torvalds/linux,b0206c4,Linus Torvalds,2025-12-05T00:12:03Z,"Merge tag 'for-v6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/sre/linux-power-supply  Pull power supply and reset updates from Sebastian Reichel:   ""Power-supply core:    - documentation fixes    power-supply drivers:    - add BD71828 charger driver    - add Richtek RT9756 driver    - max77705: add adaptive input current support    - max77705: add support for multiple devices    - misc small fixes    reset drivers:    - add spacemit-p1 poweroff/reboot driver""  * tag 'for-v6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/sre/linux-power-supply:   Revert ""power: supply: qcom_battmgr: support disabling charge control""   Documentation: power: rt9756: Document exported sysfs entries   power: supply: rt9756: Add Richtek RT9756 smart cap divider charger   dt-bindings: power: supply: Add Richtek RT9756 smart cap divider charger   driver: reset: spacemit-p1: add driver for poweroff/reboot   power: supply: apm_power: only unset own apm_get_power_status   power: supply: use ktime_divns() to avoid 64-bit division   docs: power: clean up power_supply_class.rst   power: supply: qcom_battmgr: support disabling charge control   power: supply: qcom_battmgr: clamp charge control thresholds   power: supply: wm831x: Check wm831x_set_bits() return value   power: supply: rt9467: Prevent using uninitialized local variable in rt9467_set_value_from_ranges()   power: supply: rt9467: Return error on failure in rt9467_set_value_from_ranges()   power: supply: max17040: Check iio_read_channel_processed() return code   power: supply: cw2015: Check devm_delayed_work_autocancel() return code   power: supply: rt5033_charger: Fix device node reference leaks   power: supply: max77705: Fix potential IRQ chip conflict when probing two devices   power: supply: max77705_charger: implement aicl feature   MAINTAINERS: Add entry for BD71828 charger   power: supply: Add bd718(15/28/78) charger driver",https://github.com/torvalds/linux/commit/b0206c4eb6375155b9d50cad1500d2bca5cc8b3f
torvalds/linux,https://github.com/torvalds/linux,6044a1e,Linus Torvalds,2025-12-04T23:50:37Z,"Merge tag 'devicetree-for-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/robh/linux  Pull devicetree updates from Rob Herring:  ""DT bindings:     - Convert lattice,ice40-fpga-mgr, apm,xgene-storm-dma,      brcm,sr-thermal, amazon,al-thermal, brcm,ocotp, mt8173-mdp, Actions      Owl SPS, Marvell AP80x System Controller, Marvell CP110 System      Controller, cznic,moxtet, and apm,xgene-slimpro-mbox to DT schema      format     - Add i.MX95 fsl,irqsteer, MT8365 Mali Bifrost GPU, Anvo ANV32C81W      EEPROM, and Microchip pic64gx PLIC     - Add missing LGE, AMD Seattle, and APM X-Gene SoC platform      compatibles     - Updates to brcm,bcm2836-l1-intc, brcm,bcm2835-hvs, and bcm2711-hdmi      bindings to fix warnings on BCM2712 platforms     - Drop obsolete db8500-thermal.txt     - Treewide clean-up of extra blank lines and inconsistent quoting     - Ensure all .dtbo targets are applied to a base .dtb     - Speed up dt_binding_check by skipping running validation on empty      examples    DT core:     - Add of_machine_device_match() and of_machine_get_match_data()      helpers and convert users treewide     - Fix bounds checking of address properties in FDT code. Rework the      code to have a single implementation of the bounds checks.     - Rework of_irq_init() to ignore any implicit interrupt-parent (i.e.      in a parent node) on nodes without an interrupt. This matches the      spec description and fixes some RISC-V platforms.     - Avoid a spurious message on overlay removal     - Skip DT kunit tests on RISCV+ACPI""  * tag 'devicetree-for-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/robh/linux: (55 commits)   dt-bindings: kbuild: Skip validating empty examples   dt-bindings: interrupt-controller: brcm,bcm2836-l1-intc: Drop interrupt-controller requirement   dt-bindings: display: Fix brcm,bcm2835-hvs bindings for BCM2712   dt-bindings: display: bcm2711-hdmi: Add interrupt details for BCM2712   of: Skip devicetree kunit tests when RISCV+ACPI doesn't populate root node   soc: tegra: Simplify with of_machine_device_match()   soc: qcom: ubwc: Simplify with of_machine_get_match_data()   powercap: dtpm: Simplify with of_machine_get_match_data()   platform: surface: Simplify with of_machine_get_match_data()   irqchip/atmel-aic: Simplify with of_machine_get_match_data()   firmware: qcom: scm: Simplify with of_machine_device_match()   cpuidle: big_little: Simplify with of_machine_device_match()   cpufreq: sun50i: Simplify with of_machine_device_match()   cpufreq: mediatek: Simplify with of_machine_get_match_data()   cpufreq: dt-platdev: Simplify with of_machine_get_match_data()   of: Add wrappers to match root node with OF device ID tables   dt-bindings: eeprom: at25: Add Anvo ANV32C81W   of/reserved_mem: Simplify the logic of __reserved_mem_alloc_size()   of/reserved_mem: Simplify the logic of fdt_scan_reserved_mem_reg_nodes()   of/reserved_mem: Simplify the logic of __reserved_mem_reserve_reg()   ...",https://github.com/torvalds/linux/commit/6044a1ee9dca906a807ba786421dc4254191ffd5
torvalds/linux,https://github.com/torvalds/linux,fde4ce0,Linus Torvalds,2025-12-04T23:44:48Z,"Merge tag 'hid-for-linus-2025120201' of git://git.kernel.org/pub/scm/linux/kernel/git/hid/hid  Pull HID updates from Jiri Kosina:   - Proper mapping of HID_GD_Z to ABS_DISTANCE for stylus/pen types of    devices (Ping Cheng)   - Power management/hibernation improvements in intel-ish (Zhang Lixu)   - Improved support for several Logitech devices, e.g. G Pro X    Superlight 2, new iteration of Lighspeed receiver, G13, G510 (Nathan    Rossi, Mavroudis Chatzilazaridis, Leo L Schwab, Hans de Goede)   - Support for UcLogic XP-PEN Artist 24 Pro (Joshua Goins)   - WinWing Orion2 throttle support improvement (Ivan Gorinov)   - other assorted small fixes and device ID additions  * tag 'hid-for-linus-2025120201' of git://git.kernel.org/pub/scm/linux/kernel/git/hid/hid: (37 commits)   drivers: hid: renegotiate resolution multipliers with device after reset   HID: evision: Fix Report Descriptor for Evision Wireless Receiver 320f:226f   HID: logitech-dj: Fix probe failure when used with KVM   HID: logitech-dj: Remove duplicate error logging   HID: logitech-dj: Add support for G Pro X Superlight 2 receiver   selftests/hid-tablet: add ABS_DISTANCE test for stylus/pen   HID: input: map HID_GD_Z to ABS_DISTANCE for stylus/pen   HID: bpf: fix typo in HID usage table   HID: bpf: add the Huion Kamvas 27 Pro   HID: bpf: add heuristics to the Huion Inspiroy 2S eraser button   HID: bpf: Add support for XP-Pen Deco02   HID: bpf: Add support for the XP-Pen Deco 01 V3   HID: bpf: Add support for the Waltop Batteryless Tablet   HID: bpf: Add fixup for Logitech SpaceNavigator variants   HID: bpf: support for Huion Kamvas 16 Gen 3   HID: bpf: add support for Huion Kamvas 13 (Gen 3) (model GS1333)   HID: bpf: Add support for the Inspiroy 2M   Documentation: hid-alps: Format DataByte* subsection headings   Documentation: hid-alps: Fix packet format section headings   HID: nintendo: add WQ_PERCPU to alloc_workqueue users   ...",https://github.com/torvalds/linux/commit/fde4ce068d1bccacf1e2d6a28697a3847f28e0a6
torvalds/linux,https://github.com/torvalds/linux,d1b46f5,Linus Torvalds,2025-12-04T23:29:27Z,"Merge tag 'backlight-next-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/lee/backlight  Pull backlight updates from Lee Jones:  ""Additions:    - Add support for Awinic AW99706 backlight driver    Fixes:    - Add GPIOLIB dependency to backlight ktd2801 driver    - Add devlink to LED Backlight's supplier LEDs to enforce correct      removal order and prevent NULL pointer dereferences    - Fix kernel-doc warnings in lp855x.h    Removals:    - Do not include <linux/fb.h> in backlight.h    - Fix unused function warnings from suspend/resume ops in aw99706.c      by switching to DEFINE_SIMPLE_DEV_PM_OPS and using pm_ptr()    Bindings:    - Add Awinic AW99706 backlight binding to MAINTAINERS    - Add Awinic AW99706 backlight binding documentation""  * tag 'backlight-next-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/lee/backlight:   backlight: aw99706: Fix unused function warnings from suspend/resume ops   backlight: lp855x: Fix lp855x.h kernel-doc warnings   dt-bindings: leds: backlight: Add Awinic AW99706 backlight   backlight: aw99706: Add support for Awinic AW99706 backlight   backlight: led-bl: Add devlink to supplier LEDs   backlight: ktd2801: Depend on GPIOLIB   backlight: Do not include <linux/fb.h> in header file",https://github.com/torvalds/linux/commit/d1b46f53a51e328202ae049f44b86336d124aeac
torvalds/linux,https://github.com/torvalds/linux,7b8653a,Linus Torvalds,2025-12-04T23:25:19Z,"Merge tag 'leds-next-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/lee/leds  Pull LED updates from Lee Jones:  ""Updates:    - Add optional GPIO enable pin support to PWM LED driver    Fixes:    - Allow LED module 0 to be added to module bank in lp50xx driver    - Fix upboard LED driver module alias to ensure proper auto-loading    - Update LP5009 to support 3 modules for a total of 9 LEDs    - Skip LEDs without color components in cros_ec driver instead of      failing probe    - Fix GPIO descriptor leaks in netxbig error paths by releasing      acquired GPIOs    - Allow LED_COLOR_ID_MULTI in qcom-lpg driver for greater flexibility    - Enable LP55XX common LED use without FW_LOADER_USER_HELPER    - Ensure lp50xx chip is enabled before any I2C communication    Cleanups:    - Use fwnode_for_each_child_node() instead of      fwnode_for_each_available_child_node() in LED drivers    - Use device_get_next_child_node() instead of      fwnode_get_next_available_child_node() in LED flash drivers    - Replace sprintf() with sysfs_emit() in sysfs show functions for      improved bounds checking    - Replace system_wq() with system_percpu_wq() in the input event      trigger    - Reorder include files to alphabetic order in the PWM LED driver    - Do not enable TRILED in qcom-lpg when configuring PWM    - Drop duplicate LEDS_EXPRESSWIRE config from Kconfig    Removals:    - Remove arcxcnn_bl.txt Device Tree binding documentation    Devicetree bindings:    - Convert ArcticSand arc2c0608 LED driver binding to DT Schema    - Add default-brightness property to common LED binding    - Add enable-gpios property to PWM LED binding    - Add PM7550 to qcom,spmi-flash-led compatible    - Explain standalone PWM usage in qcom-lpg binding""  * tag 'leds-next-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/lee/leds: (21 commits)   leds: rgb: leds-qcom-lpg: Don't enable TRILED when configuring PWM   dt-bindings: leds: qcom-lpg: Explain standalone PWM usage   leds: rgb: leds-qcom-lpg: Allow LED_COLOR_ID_MULTI   leds: pwm: Reorder include files to alphabetic order   leds: pwm: Add optional GPIO enable pin support   dt-bindings: leds: pwm: Add enable-gpios property   leds: trigger: Replace use of system_wq() with system_percpu_wq()   leds: led-class: Replace sprintf() with sysfs_emit() in sysfs show functions   dt-bindings: leds: qcom,spmi-flash-led: Add PM7550   leds: netxbig: Fix GPIO descriptor leak in error paths   leds: leds-lp50xx: Enable chip before any communication   leds: Drop duplicate LEDS_EXPRESSWIRE config   leds: leds-cros_ec: Skip LEDs without color components   leds: leds-lp50xx: LP5009 supports 3 modules for a total of 9 LEDs   leds: upboard: Fix module alias   leds: leds-lp50xx: Allow LED 0 to be added to module bank   leds: lp55xx_common: Enable use without FW_LOADER_USER_HELPER   dt-bindings: leds: Add default-brightness property to common.yaml   leds: flash: Use fwnode_get_next_child_node() instead   leds: Use fwnode_for_each_child_node() instead   ...",https://github.com/torvalds/linux/commit/7b8653a5799b9b15d7b3d98a0203d09963be4c87
torvalds/linux,https://github.com/torvalds/linux,980190a,Linus Torvalds,2025-12-04T23:18:33Z,"Merge tag 'mfd-next-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/lee/mfd  Pull MFD updates from Lee Jones:  ""Updates:    - Add Core, Regulator, Onkey and Battery Charger support for the NXP      PF1550 Power Management IC (PMIC)    - Introduce __SMC_KEY macro to fix GCC 15.2.1 errors in macsmc    - Add board definitions for TQMxCU1-HPCM and TQMxCU2-HPCM to the      tqmx86 driver    - Add support for Broadcom BCM2712 SoC to the bcm2835-pm driver    - Hook up the qnap-mcu-eeprom sub-device to qnap-mcu    Fixes:    - Enable compile testing for the Altera SOCFPGA System Manager driver    - Fix device reference leak in altr_sysmgr_regmap_lookup_by_phandle()    - Reserve the unused second I2C address for DA9063 to prevent      userspace interference    - Fix resource leak in da9055_device_init() by calling      regmap_del_irq_chip() in the error path    - Fix potential IRQ chip conflict when probing multiple MAX77620      devices by using devm_kmemdup for regmap_irq_chip    - Return -EPROBE_DEFER when a syscon devuice is not found to allow      deferred probing    - Update email address for the PF1550 PMIC driver in MAINTAINERS    - Correct file entry for PF1550 MFD driver in MAINTAINERS from      pfd1550.h to pf1550.h    - Calculate checksum on the actual number of received bytes in      qnap-mcu for error messages    - Use -EPROTO instead of -EIO for checksum errors in qnap-mcu    - Add proper error handling for command errors (e.g., ""@8"", ""@9"") in      qnap-mcu    - Fix missing irq_domain_remove() in error path of      mt63{58,97}_irq_init()    Cleanups:    - Mark SMC write buffer arguments as const in apple_smc_write(),      apple_smc_rw(), and apple_smc_write_atomic()    - Simplify the error handling path in da9055_device_init() by      removing a redundant mfd_remove_devices() call    - Use regmap_reg_range() and a real one-element array for      pmic_status_range in rohm-bd718x7 for cleaner initialization    - Remove select I2C_K1 from MFD_SPACEMIT_P1 to avoid build failures      when I2C_K1's dependencies are disabled    - Remove unneeded semicolon from ls2k_bmc_recover_pci_data()    - Drop OF dependency for MFD_MAX5970 in Kconfig to allow wider      compile testing and non-OF systems    - Make OF ID table style consistent in simple-mfd-i2c driver    - Update header inclusions in simple-mfd-i2c to follow IWYU (Include      What You Use) principle    - Move checksum verification logic to a separate function in qnap-mcu    - Use chained IRQs for S2MPG10 in the Samsung SEC driver to simplify      interrupt handling    - Drop a stray semicolon from sec-irq.c    Removals:    - Remove the unused TI WL1273 FM radio core driver    - Remove the unused wl1273-core.h header and tidy up its reference in      documentation    Device tree bindings:    - Add Device Tree binding for the NXP PF1550 PMIC    - Add missing GPIO pins and supply properties to the Silergy SY7636A      PMIC binding    - Add interrupt-controller property to the Maxim MAX77705 binding for      sub-device interrupt source determination    - Add Device Tree binding for the Renesas R2A11302FT PMIC    - Allow the wakeup-source property in the Dialog DA9063 binding    - Make interrupt-related properties optional in the TI TPS65910 PMIC      binding    - Document the Qualcomm PMIV0104 PMIC compatible string    - Document the Qualcomm PM7550 PMIC compatible string    - Enable power button subnode for TWL603x in the TI TWL binding    - Convert the Dialog DA9052/53 I2C binding from .txt to .yaml format,      including compatible string fallback and interrupt properties    - Document control-scb and sysreg-scb syscons on pic64gx with      fallback compatibles    - Document sama7g5-sfrbu and sama7d65-sfrbu syscons with fallback to      atmel,sama5d2-sfrbu    - Fix LEDs node schema in fsl,mc13xxx binding by adding led@ child      nodes and missing properties    - Add mt7981-topmisc compatible string to the syscon binding""  * tag 'mfd-next-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/lee/mfd: (42 commits)   mfd: sec: Drop a stray semicolon   mfd: qnap-mcu: Hook up the EEPROM sub-device   dt-bindings: mfd: syscon: Add mt7981-topmisc   dt-bindings: mfd: fsl,mc13xxx: Fix LEDs node schema   mfd: mt6358-irq: Fix missing irq_domain_remove() in error path   mfd: mt6397-irq: Fix missing irq_domain_remove() in error path   dt-bindings: mfd: Document syscons falling back to atmel,sama5d2-sfrbu   dt-bindings: mfd: Document control-scb and sysreg-scb on pic64gx   dt-bindings: mfd: Convert dlg,da9052-i2c.txt to yaml format   mfd: sec: Use chained IRQs for s2mpg10   mfd: qnap-mcu: Add proper error handling for command errors   mfd: qnap-mcu: Move checksum verification to its own function   mfd: qnap-mcu: Use EPROTO in stead of EIO on checksum errors   mfd: qnap-mcu: Calculate the checksum on the actual number of bytes received   mfd: simple-mfd-i2c: Don't use ""proxy"" headers   mfd: simple-mfd-i2c: Make ID table style consistent   mfd: Kconfig: Drop OF dependency on MFD_MAX5970   mfd: ls2kbmc: Remove unneeded semicolon from ls2k_bmc_recover_pci_data()   dt-bindings: mfd: twl: Enable power button also for TWL603X   MAINTAINERS: Adjust file entry in NXP PF1550 PMIC MFD DRIVER   ...",https://github.com/torvalds/linux/commit/980190a9473dd2c842518057bf9ddcbaeba75209
torvalds/linux,https://github.com/torvalds/linux,aa833fc,Thomas Hellström,2025-12-04T20:20:59Z,"drm/xe: Fix duplicated put due to merge resolution  An incorrect backmerge resolution resulted in an incorrect duplicate put. Fix.  Reported-by: Linus Torvalds <torvalds@linux-foundation.org> Closes: https://lore.kernel.org/dri-devel/CAHk-=whaiMayMx=LrL7P119MLBX6exM_mEu4S2uBRT+xWQ-mbA@mail.gmail.com/ Fixes: Fixes: ce0478b02ed2 (""Merge tag 'v6.18-rc6' into drm-next"") Signed-off-by: Thomas Hellström <thomas.hellstrom@linux.intel.com> Acked-by: Dave Airlie <airlied@redhat.com> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>",https://github.com/torvalds/linux/commit/aa833fc394baad601b8f7779c1ae2ada3a06ce07
torvalds/linux,https://github.com/torvalds/linux,dd463c5,Linus Torvalds,2025-12-04T22:10:16Z,"Merge tag 'mmc-v6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/ulfh/mmc  Pull MMC updates from Ulf Hansson:  ""MMC core:    - Allow more host caps to be modified through debugfs    - Skip to set the default 200mA SD current limit    MMC host:    - Convert a few more DT bindings to the DT schema    - dw_mmc: Add Shawn Lin as co-maintainer for the dw_mmc drivers    - dw_mmc-rockchip:        - Add memory clock auto-gating support        - Add support for the RK3506 variant    - meson-mx-sdio:        - Ignore disabled ""mmc-slot"" child-nodes        - Refactoring and general code improvements    - renesas_sdhi:        - Enable bigger data ports where available        - Manage reset in probe and during system-wide suspend/resume    - sdhci-brcmstb:        - Add support for the BCM72116 and BCM74371 variants        - Save/restore registers during system-wide suspend/resume    - sdhci-msm:        - Add support for the sm8750 and the Kaanapali variants        - Avoid early clock doubling during HS400 transition    - sdhci-of-dwcmshc:        - Add command queue support for Rockchip SOCs        - Add support for the Eswin EIC7700 variant""  * tag 'mmc-v6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/ulfh/mmc: (40 commits)   mmc: sdhci-of-dwcmshc: reduce CIT for better performance   mmc: sdhci-of-dwcmshc: Disable internal clock auto gate for Rockchip SOCs   mmc: sdhci-msm: Avoid early clock doubling during HS400 transition   MAINTAINERS: Add Shawn Lin as co-maintainer for dw_mmc drivers   mmc: sdhci-of-dwcmshc: Fix command queue support for RK3576   mmc: renesas_sdhi: Add suspend/resume hooks   mmc: renesas_sdhi: Switch to SYSTEM_SLEEP_PM_OPS()/RUNTIME_PM_OPS() and pm_ptr()   mmc: renesas_sdhi: Deassert the reset signal on probe   dt-bindings: mmc: am654: Simplify dma-coherent property   mmc: meson-mx-sdio: Ignore disabled ""mmc-slot"" child-nodes   mmc: meson-mx-sdio: Fix indentation in meson_mx_mmc_irq_thread()   mmc: meson-mx-sdio: Use dev_err_probe() where appropriate   mmc: meson-mx-sdio: Use devm_mmc_alloc_host() helper   mmc: meson-mx-sdio: Refactor internal clock initialization   mmc: meson-mx-sdio: Use devm_clk_get_enabled()   mmc: meson-mx-sdio: Switch to regmap for register access   mmc: core: add WQ_PERCPU to alloc_workqueue users   mmc: dw_mmc-rockchip: Add memory clock auto-gating support   mmc: omap: add WQ_PERCPU to alloc_workqueue users   mmc: mtk-sd: replace use of system_wq with system_percpu_wq   ...",https://github.com/torvalds/linux/commit/dd463c51a327d341d3ece63dd50e1a0f8f09c468
torvalds/linux,https://github.com/torvalds/linux,3f1c07f,Thomas Hellström,2025-12-04T21:54:56Z,Merge drm/drm-next into drm-xe-next-fixes  Backmerging to be able do to a clean PR.  Signed-off-by: Thomas Hellström <thomas.hellstrom@linux.intel.com>,https://github.com/torvalds/linux/commit/3f1c07fc21c68bd3bd2df9d2c9441f6485e934d9
torvalds/linux,https://github.com/torvalds/linux,52206f8,Linus Torvalds,2025-12-04T21:50:39Z,"Merge tag 'pmdomain-v6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/ulfh/linux-pm  Pull pmdomain updates from Ulf Hansson:  ""pmdomain core:    - Allow power-off for out-of-band wakeup-capable devices    - Drop the redundant call to dev_pm_domain_detach() for the amba bus    - Extend the genpd governor for CPUs to account for IPIs    pmdomain providers:    - bcm: Add support for BCM2712    - mediatek: Add support for MFlexGraphics power domains    - mediatek: Add support for MT8196 power domains    - qcom: Add RPMh power domain support for Kaanapali    - rockchip: Add support for RV1126B    pmdomain consumers:    - usb: dwc3: Enable out of band wakeup for i.MX95    - usb: chipidea: Enable out of band wakeup for i.MX95""  * tag 'pmdomain-v6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/ulfh/linux-pm: (26 commits)   pmdomain: Extend the genpd governor for CPUs to account for IPIs   smp: Introduce a helper function to check for pending IPIs   pmdomain: mediatek: convert from clk round_rate() to determine_rate()   amba: bus: Drop dev_pm_domain_detach() call   pmdomain: bcm: bcm2835-power: Prepare to support BCM2712   pmdomain: mediatek: mtk-mfg: select MAILBOX in Kconfig   pmdomain: mediatek: Add support for MFlexGraphics   pmdomain: mediatek: Fix build-errors   cpuidle: psci: Replace deprecated strcpy in psci_idle_init_cpu   pmdomain: rockchip: Add support for RV1126B   pmdomain: mediatek: Add support for MT8196 HFRPSYS power domains   pmdomain: mediatek: Add support for MT8196 SCPSYS power domains   pmdomain: mediatek: Add support for secure HWCCF infra power on   pmdomain: mediatek: Add support for Hardware Voter power domains   pmdomain: qcom: rpmhpd: Add RPMh power domain support for Kaanapali   usb: dwc3: imx8mp: Set out of band wakeup for i.MX95   usb: chipidea: ci_hdrc_imx: Set out of band wakeup for i.MX95   usb: chipidea: core: detach power domain for ci_hdrc platform device   pmdomain: core: Allow power-off for out-of-band wakeup-capable devices   PM: wakeup: Add out-of-band system wakeup support for devices   ...",https://github.com/torvalds/linux/commit/52206f82d9244546e5790f5ad64465343aa7ffd5
torvalds/linux,https://github.com/torvalds/linux,500920f,Linus Torvalds,2025-12-04T20:33:38Z,"Merge tag 'gpio-updates-for-v6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/brgl/linux  Pull gpio updates from Bartosz Golaszewski:  ""There's one new driver, lots of various updates to existing ones, some   refactoring support for new models and misc tweaks and fixes.    The biggest new feature in GPIO core is adding support for managed,   enable-counted sharing of GPIO pins, something that - until now - was   only hacked around with the GPIOD_FLAGS_BIT_NONEXCLUSIVE request flag   which basically allowed drivers to ""fight it out"" for the descriptor   and provided no synchronization. It was enabled on Qualcomm platforms   (and thus is enabled on arm64 defconfig) and I plan on removing   GPIOD_FLAGS_BIT_NONEXCLUSIVE once all drivers using it are switched to   the new mechanism.    GPIO core:    - add proper support for shared GPIOs that's aiming to replace the      current sharing mechanism (which provides no synchronization ot      enable counting) and enable it for Qualcomm platforms    - improve the software node GPIO lookup by using the fwnode      representation instead of the software node's name which was prone      to bugs (GPIO controllers don't have to use the software node's      name as their kernel label)    - remove the last user of legacy-of-mm-gpiochip.h and drop the header    - move closer to removing the legacy gpio_request_one() routine    - rename some symbols for consistency    - shrink GPIO printk() helpers by reusing existing code    - remove some redundant kernel messages    - use min() instead of min_t() in GPIO ACPI code    - use system_percpu_wq instead of system_wq in GPIO character device      code    New drivers:    - add a driver for the QIXIS FPGA GPIO controller    Driver improvements:    - use modernized variants of power management macros across a wide      array of drivers in order to avoid having to use the __maybe_unused      attribute    - convert gpio-elkhartlake and reset-gpio to using the auxiliary bus      instead of the platform bus as they are not really described in      firmware    - use lock guards and update symbol prefixes in gpio-mmio    - support the bryx radio interface kit in gpio-mpsse + refactor the      driver    - use software nodes for configuring the reset-gpio driver, including      setting up the reference to the shared ""reset"" pin    - check and propagate the return value of gpiod_set_value() to      user-space in gpio-virtuser (this was previously not possible as      this function returned void)    - extend the gpio-regmap helper with more features (bypass cache for      aliased inputs, force writes for aliased data registers, add a new      configuration parameter)    - remove unneeded includes from gpio-aspeed and gpio-latch    - add support for Tegra410 to gpio-tegra186    - replace PCI-specific PM with generic device-level PM in gpio-bt8xx    - use dynamic GPIO range allocation in gpio-loongson-64bit    - improve handling of level-triggered interrupts in gpio-pca953x    - add suspend/resume support to gpio-fxl6408    - add support for more models to gpio-menz127    - optimize gpio-mvebu interrupt handling by avoiding unnecessary      calls to mvebu_gpio_irq_handler()    - make locking more consistent in gpio-grgpio    Device-tree bindings:    - document new NXP and Microchip models    Documentation:    - add a comprehensive compatibility and feature list for      gpio-pca953x, which is a great addition as it's probably the most      commonly used GPIO expander driver    - kernel-doc tweaks    Late fixes:    - use BYTE_CTRL_MODE for 2K2000/3000 models in gpio-loongson""  * tag 'gpio-updates-for-v6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/brgl/linux: (80 commits)   gpio: loongson: Switch 2K2000/3000 GPIO to BYTE_CTRL_MODE   gpio: regmap: fix kernel-doc notation   gpio: shared: fix a deadlock   gpio: shared-proxy: set suppress_bind_attrs   gpio: shared: ignore GPIO hogs when traversing the device tree   gpio: shared: ignore special __symbols__ node when traversing device tree   gpio: shared: handle the reset-gpios corner case   gpio: zynq: Use modern PM macros   gpio: xilinx: Use modern PM macros   gpio: xgene: Use modern PM macros   gpio: uniphier: Use modern PM macros   gpio: tqmx86: Use modern PM macros   gpio: pch: Use modern PM macros   gpio: omap: Use modern PM macros   gpio: msc313: Use modern PM macros   gpio: mlxbf2: Use modern PM macros   gpio: ml-ioh: Use modern PM macros   gpio: pl061: Use modern PM macros   gpio: htc-egpio: Use modern PM macros   gpio: brcmstb: Use modern PM macros   ...",https://github.com/torvalds/linux/commit/500920fa76819b4909a32081e153bce80ce74824
torvalds/linux,https://github.com/torvalds/linux,205f1a0,Linus Torvalds,2025-12-04T20:26:36Z,"Merge tag 'firewire-updates-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/ieee1394/linux1394  Pull firewire updates from Takashi Sakamoto:  ""This includes two changes for core functions, which affects all use   cases of this subsystem:     - Handle per-device interoperability quirks       Some devices have quirks affecting interoperability. To identify      such quirks at an early stages of device detection, the step for      reading the configuration ROM contents has been changed. As a side      effect, the entire detection process is now performed at the basic      transaction speed (S100), without a trial to probe higher      supported speeds.       With this change, the following devices should now work with fewer      issues:       - TASCAM FW-1884, FW-1804, and FW-1082       - MOTU Audio Express     - Safer removals of host card       There was a race condition between host card removal and handling      of bus reset events in the workqueue. This appears to be a long      standing issue, and recent changes to use more workqueues escalate      it.       To solve it, a new callback has been added to the 1394 OHCI PCI      driver to unregister the interrupt sources and wait for workqueue      completions when removing a card instance""  * tag 'firewire-updates-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/ieee1394/linux1394:   firewire: core: abort pending transactions at card removal   firewire: core: add WQ_UNBOUND to alloc_workqueue users   firewire: core: clear sources of hardware interrupt at card removal   firewire: core: code refactoring to find and pop transaction entry   firewire: core: code refactoring to remove transaction entry   firewire: core: use cleanup function to release cached configuration ROM   ALSA: firewire-tascam: reserve resources for transferred isochronous packets at S400   firewire: core: handle device quirk of TASCAM FW-1884/FW-1804/FW-1082   firewire: core: determine transaction speed after detecting quirks   firewire: core: code refactoring to compute transaction speed   firewire: core: handle device quirk of MOTU Audio Express   firewire: core: detect device quirk when reading configuration ROM",https://github.com/torvalds/linux/commit/205f1a0d188658ff3043d91c988378d8a81344c2
torvalds/linux,https://github.com/torvalds/linux,02892f9,Linus Torvalds,2025-12-04T20:19:49Z,"Merge tag 'hwmon-for-v6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/groeck/linux-staging  Pull hwmon updates from Guenter Roeck:  ""New drivers:    - Apple Silicon SMC    - TSC1641 I2C power monitor    - MPS MP9945    - MAX17616    - MP2925 and MP2929    Added support for new devices to existing drivers:    - dell-smm: Add Dell G5 5505 to fan control whitelist    - aspeed-g6-pwm-tach: Support for AST2700    - asus-ec-sensors: Support for ROG STRIX X470-I GAMING, ROG STRIX      X870-F GAMING WIFI, ROG STRIX X870E-H GAMING WIFI7, and Pro WS      TRX50-SAGE WIFI    - k10temp: Support for AMD Steam Deck APU ID    - pmbus/isl68137: Support for raa229141    - aht10: Support for dht20    - adt7410: Support for ADT7422    - peci: Support for Intel Emerald Rapids    - nct6775: Support for ASUS ROG STRIX X870E-H GAMING WIFI7    - pmbus/max34440: Support for ADPM12200    - ntc-thermistor: Support for Murata ncp18wm474    Infrastructure updates:    - Utilize subsystem locking in various drivers    - ltc4282, ltc2947: Use the new energy64 attribute    Bug fixes:    - Various drivers: Fixes to avoid TOCTOU, mostly in macro functions      evaluating parameters multiple times, as well as missing locks    - max6697: Fix regmap leak on probe failure    - sy7636a: Fix regulator_enable resource leak on error path    - asus-ec-sensors: Correct Pro WS TRX50-SAGE WIFI entry    Other changes and improvements:    - w83781d, lm78: Drop REALLY_SLOW_IO    - Fix broken datasheet links in various drivers    And various other minor fixes and improvements""  * tag 'hwmon-for-v6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/groeck/linux-staging: (110 commits)   hwmon: (dell-smm) Add Dell G5 5505 to fan control whitelist   hwmon: (max16065) Use local variable to avoid TOCTOU   hwmon: (w83l786ng) Convert macros to functions to avoid TOCTOU   hwmon: (max6697) fix regmap leak on probe failure   hwmon/w83781d: Drop REALLY_SLOW_IO setting   hwmon/lm78: Drop REALLY_SLOW_IO setting   hwmon: sy7636a: Fix regulator_enable resource leak on error path   hwmon: (adm1026) Convert macros to functions to avoid TOCTOU   hwmon: (adm1029) Add locking to avoid TOCTOU   hwmon: (lm87) Convert macros to functions to avoid TOCTOU   hwmon: (asus-ec-sensors) correct Pro WS TRX50-SAGE WIFI entry   hwmon: (vt8231) Convert macros to functions to avoid TOCTOU   hwmon: (emc2103) Add locking to avoid TOCTOU   hwmon: (aspeed-g6-pwm-tach): Add AST2700 compatible string   dt-bindings: hwmon: Add AST2700 compatible   hwmon: (asus-ec-sensors) add ROG STRIX X470-I GAMING   hwmon: (vt1211) Convert macros to functions to avoid TOCTOU   hwmon: (k10temp) Add AMD Steam Deck APU ID   hwmon: Add Apple Silicon SMC hwmon driver   Documentation/hwmon: Fix broken datasheet links for zl6100   ...",https://github.com/torvalds/linux/commit/02892f90a9851f508e557b3c75e93fc178310d5f
torvalds/linux,https://github.com/torvalds/linux,fca5327,Linus Torvalds,2025-12-04T19:37:13Z,Merge tag 'gnss-6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/johan/gnss  Pull GNSS updates from Johan Hovold:   - add support for claiming and deasserting the safeboot pin found on    recent u-blox receivers   - fix timepulse pin description in the devicetree binding  ... and some related binding updates  * tag 'gnss-6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/johan/gnss:   dt-bindings: gnss: fix timepulse description   dt-bindings: gnss: u-blox: use lowercase company name   dt-bindings: gnss: u-blox: use open-drain reset and safeboot in example   gnss: ubx: add support for the safeboot gpio   dt-bindings: gnss: u-blox: add safeboot gpio,https://github.com/torvalds/linux/commit/fca5327eaa8117b18c8faf79154d6eafecaf4892
torvalds/linux,https://github.com/torvalds/linux,fa5ef10,Linus Torvalds,2025-12-04T19:24:24Z,"Merge tag 'spi-v6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/broonie/spi  Pull spi updates from Mark Brown:  ""This release is almost entirely new drivers, with a couple of small   changes in generic code.    The biggest individual update is a rename of the existing Microchip   driver and the addition of a new driver for the silicon SPI controller   in their PolarFire SoCs. The overlap between the soft IP supported by   the current driver and this new one is regrettably all in the IP and   not in the register interface offered to software.     - Add a time offset parameter for offloads, allowing them to be      defined in relation to each other. This is useful for IIO type      applcations where you trigger an operation then read the result      after a delay.     - Add a tracepoint for flash exec_ops, bringing the flash support      more in line with the debuggability of vanilla SPI.     - Support for Airoha EN7523, Arduino MCUs, Aspeed AST2700, Microchip      PolarFire SPI controllers, NXP i.MX51 ECSPI target mode, Qualcomm      IPQ5414 and IPQ5332, Renesas RZ/T2H, RZ/V2N and RZ/2NH and SpacemiT      K1 QuadSPI.    There's also a small set of ASoC cleanups that I mistakenly applied to   the SPI tree and then put more stuff on top of before it was brought   to my attention, sorry about that""  * tag 'spi-v6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/broonie/spi: (80 commits)   spi: microchip-core: Refactor FIFO read and write handlers   spi: ch341: fix out-of-bounds memory access in ch341_transfer_one   spi: microchip-core: Remove unneeded PM related macro   spi: microchip-core: Use SPI_MODE_X_MASK   spi: microchip-core: Utilise temporary variable for struct device   spi: microchip-core: Replace dead code (-ENOMEM error message)   spi: microchip-core: use min() instead of min_t()   spi: dt-bindings: airoha: add compatible for EN7523   spi: airoha-snfi: en7523: workaround flash damaging if UART_TXD was short to GND   spi: dt-bindings: renesas,rzv2h-rspi: Document RZ/V2N SoC support   spi: dt-bindings: renesas,rzv2h-rspi: Document RZ/V2N SoC support   spi: microchip: Enable compile-testing for FPGA SPI controllers   spi: Fix potential uninitialized variable in probe()   spi: rzv2h-rspi: add support for RZ/T2H and RZ/N2H   spi: dt-bindings: renesas,rzv2h-rspi: document RZ/T2H and RZ/N2H   spi: rzv2h-rspi: add support for loopback mode   spi: rzv2h-rspi: add support for variable transfer clock   spi: rzv2h-rspi: add support for using PCLK for transfer clock   spi: rzv2h-rspi: make transfer clock rate finding chip-specific   spi: rzv2h-rspi: avoid recomputing transfer frequency   ...",https://github.com/torvalds/linux/commit/fa5ef105618ae9b5aaa51b3f09e41d88d4514207
torvalds/linux,https://github.com/torvalds/linux,0a9431f,Linus Torvalds,2025-12-04T19:20:29Z,"Merge tag 'regulator-v6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/broonie/regulator  Pull regulator updates from Mark Brown:  ""This is a relatively busy release for the regulator API, as well as a   good collection of new drivers we've got a little bit of core work and   a bunch of cleanup throughout the subsystem:     - Support for propagating undervoltage events to child regulators     - Undo enables done on supplies when setting enabling regulators via      constraints fails     - Pull in some gpiolib changes adding support for shared GPIOs to the      gpiolib core, using them to replace the open coded variant of this      that we've had in the regulator API for a long time     - Support for Fitipower FP9931 and JD9330, Mediatek MT6316, MT6363      and MT6373, NXP PF1550 and Qualcomm PMH01XX and PMCX0102    The PF1550 support was originally going to go via the MFD tree but   Krzysztof's cleanup work overlapped with it so I pulled in Lee's   signed tag with support for the device""  * tag 'regulator-v6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/broonie/regulator: (50 commits)   regulator: fp9931: Fix spelling mistake ""failid"" -> ""failed""   regulator: core: Protect regulator_supply_alias_list with regulator_list_mutex   regulator: pf9453: Constify pointers to 'regulator_desc' wrap struct   regulator: pca9450: Constify pointers to 'regulator_desc' wrap struct   regulator: mt6358: Constify pointers to 'regulator_desc' wrap struct   regulator: bd96801: Constify pointers to 'regulator_desc' wrap struct   regulator: bd718x7: Constify pointers to 'regulator_desc' wrap struct   regulator: bd71828: Constify pointers to 'regulator_desc' wrap struct   regulator: bd71815: Constify pointers to 'regulator_desc' wrap struct   regulator: Use container_of_const() when all types are const   regulator: pca9450: Fix error code in probe()   regulator: qcomm-labibb: replace use of system_wq with system_dfl_wq   regulator: Add FP9931/JD9930 driver   dt-bindings: regulator: Add Fitipower FP9931/JD9930   dt-bindings: vendor-prefixes: Add Fitipower   regulator: make the subsystem aware of shared GPIOs   regulator: renesas-usb-vbus-regulator: Remove unused headers   regulator: pca9450: Add support for setting debounce settings   regulator: dt-bindings: pca9540: add debounce timer configuration   regulator: core: disable supply if enabling main regulator fails   ...",https://github.com/torvalds/linux/commit/0a9431fa74ac9b744bff5b65082ff96fd3d80297
torvalds/linux,https://github.com/torvalds/linux,ba1401f,Linus Torvalds,2025-12-04T19:16:44Z,"Merge tag 'regmap-v6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/broonie/regmap  Pull regmap updates from Mark Brown:  ""Another small update for regmap, we have one new feature plus a little   bit of cleanup:     - Support for sparseness information in the flat cache, allowing      users that really need the performance properties it provides to      benefit from the interface and startup time improvements that      sparsness provides without needing to go all the way to a more      fancy data structure     - Cleanup work from Andy Shevchenko, refactoring the cache interface      in preparation for some future stuff he's working on""  * tag 'regmap-v6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/broonie/regmap:   regmap: sdw-mbq: Reorder regmap_mbq_context struct for better packing   regmap: i3c: Use ARRAY_SIZE()   regcache: maple: Split ->populate() from ->init()   regcache: flat: Split ->populate() from ->init()   regcache: flat: Remove unneeded check and error message for -ENOMEM   regcache: rbtree: Split ->populate() from ->init()   regcache: Add ->populate() callback to separate from ->init()   regmap: warn users about uninitialized flat cache   regmap: add flat cache with sparse validity",https://github.com/torvalds/linux/commit/ba1401f9cced493948a691a670308832588e8f60
torvalds/linux,https://github.com/torvalds/linux,edd2b98,Linus Torvalds,2025-12-04T19:07:46Z,"Merge tag 'mtd/for-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/mtd/linux  Pull mtd updates from Miquel Raynal:  ""Core MTD changes:     - We must ignore error -ENOENT from parsers on subpartitions which is      a legitimate return value     - PM support is added to the intel-dg driver    Raw NAND changes:     - The major change in this is the support for the Allwinner H616 NAND      controller, which lead to numerous changes and cleanups in the      driver.     - Another notable change in this driver is the use of field_get() and      field_prep(), but since the global support for this helpers is      going to be merged in the same release as we start using these      helpers, we undefine them in the first place to avoid warnings.     - Marvell drivers layout handling changes have also landed, they fix      previous definitions and abuses that have been made previously,      which implied to relax the ECC parameters validation in the core a      bit.     - The Cadence NAND controller driver gets NV-DDR interface support.    SPI NAND changes:     - Support for FudanMicro FM25S01BI3 and ESMT F50L1G41LC is added.    SPI NOR changes:     - Fix SMPT parsing for S25FS-S flash family. They report variable      dummy cycles for reads. This results in the default of 0 being      used. This works for other Infineon chips, but not for the S25FS-S      family. They need 8 dummy cycles. Add fixup hooks to specify that.      Also add fixup hooks to fix incorrect map ID data in SFDP.     - Add support for a bunch of Winbond flashes. Their block protection      information is not discoverable, so they need to have an entry in      the flash tables to describe that.     - Some cleanups for Micron flash support.     - Add support for Micron mt35xu01gbba.     - Some SPI controllers like the Intel one on the PCI bus do not      support the read CR opcode (0x35). Do not use the opcode if the      controller does not support it.    Aside from these main changes, there is the usual load of API updates,   kdoc fixes, potential memory leaks fixes, etc""  * tag 'mtd/for-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/mtd/linux: (51 commits)   mtd: sm_ftl: Fix typo in comment in sm_read_lba   mtd: sm_ftl: Replace deprecated strncpy with sysfs_emit in sm_attr_show   mtd: lpddr_cmds: fix signed shifts in lpddr_cmds   mtd: docg3: fix kernel-doc warnings   mtd: spinand: add support for FudanMicro FM25S01BI3   mtd: rawnand: renesas: Handle devm_pm_runtime_enable() errors   mtd: nand: realtek-ecc: Fix Kconfig dependencies   mtd: rawnand: sunxi: #undef field_{get,prep}() before local definition   mailmap: update Pratyush Yadav's email address   mtd: spi-nor: core: Check read CR support   mtd: spi-nor: micron-st: add TODO for fixing mt35xu02gcba   mtd: spi-nor: micron-st: add mt35xu01gbba support   mtd: spi-nor: micron-st: use SFDP of mt35xu512aba   mtd: spi-nor: micron-st: move set_octal_dtr to late_init()   mtd: spi-nor: micron-st: rename the die_late_init functions   mtd: spinand: esmt: add support for F50L1G41LC   mtd: rawnand: lpc32xx_slc: Convert to use devm_gpiod_get_optional()   mtd: mtdpart: ignore error -ENOENT from parsers on subpartitions   mtd: maps: pcmciamtd: fix potential memory leak in pcmciamtd_detach()   mtd: spi-nor: spansion: SMPT fixups for S25FS-S   ...",https://github.com/torvalds/linux/commit/edd2b9832d604a234b60a4910c7496f351cd1e12
torvalds/linux,https://github.com/torvalds/linux,77956cf,Linus Torvalds,2025-12-04T19:04:38Z,"Merge tag 'pwm/for-6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/ukleinek/linux  Pull pwm updates from Uwe Kleine-König:  ""In addition to the usual mix of core cleanups, driver changes, minor   fixes and device tree updates the highlight this cycle is Rust support   for the core and a first Rust driver both provided by Michal   Wilczynski.    Michal wrote about these changes on      https://mwilczynski.dev/posts/bringing-rust-to-the-pwm-subsystem/    which is a nice read""  * tag 'pwm/for-6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/ukleinek/linux: (22 commits)   pwm: rzg2l-gpt: Allow checking period_tick cache value only if sibling channel is enabled   pwm: bcm2835: Make sure the channel is enabled after pwm_request()   pwm: mediatek: Make use of struct_size macro   pwm: mediatek: Remove unneeded semicolon   pwm: airoha: Add support for EN7581 SoC   pwm: mediatek: Convert to waveform API   pwm: max7360: Clean MAX7360 code   pwm: Drop unused function pwm_apply_args()   pwm: Use %u to printf unsigned int pwm_chip::npwm and pwm_chip::id   pwm: Simplify printf to emit chip->npwm in $debugfs/pwm   pwm: th1520: Use module_pwm_platform_driver! macro   pwm: th1520: Fix clippy warning for redundant struct field init   pwm: Fix Rust formatting   dt-bindings: pwm: thead: Add T-HEAD TH1520 PWM controller   pwm: Add Rust driver for T-HEAD TH1520 SoC   rust: pwm: Fix broken intra-doc link   rust: pwm: Drop wrapping of PWM polarity and state   rust: pwm: Add module_pwm_platform_driver! macro   rust: pwm: Add complete abstraction layer   rust: pwm: Add Kconfig and basic data structures   ...",https://github.com/torvalds/linux/commit/77956cf36494cc5e5649b187f552b90fb14d0674
torvalds/linux,https://github.com/torvalds/linux,0426584,Linus Torvalds,2025-12-04T18:36:54Z,"Merge tag 'chrome-platform-v6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/chrome-platform/linux  Pull chrome platform updates from Tzung-Bi Shih:  ""Improvements:     - Support legacy probe behavior in cros_ec_lightbar and      cros_ec_sensorhub    Fixes:     - Don't fall back to legacy probe behavior if it isn't a legacy      device in cros_usbpd_notify     - Fix an UAF after unbinding driver in cros_ec_ishtp""  * tag 'chrome-platform-v6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/chrome-platform/linux:   platform/chrome: sensorhub: Support devices without FIFO_INT_ENABLE   platform/chrome: cros_ec_ishtp: Fix UAF after unbinding driver   platform/chrome: cros_ec_lightbar: Check if ec supports suspend commands   platform/chrome: cros_usbpd_notify: defer probe when parent EC driver isn't ready",https://github.com/torvalds/linux/commit/04265849c856ace113e75ae88069b8665bd4dcbe
torvalds/linux,https://github.com/torvalds/linux,2aa680d,Linus Torvalds,2025-12-04T18:08:40Z,"Merge tag 'sound-6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tiwai/sound  Pull sound updates from Takashi Iwai:  ""The majority of changes at this time were about ASoC with a lot of   code refactoring works. From the functionality POV, there isn't much   to see, but we have a wide range of device-specific fixes and updates.   Here are some highlights:     - Continued ASoC API cleanup work, spanned over many files     - Added a SoundWire SCDA generic class driver with regmap support     - Enhancements and fixes for Cirrus, Intel, Maxim and Qualcomm.     - Support for ASoC Allwinner A523, Mediatek MT8189, Qualcomm QCM2290,      QRB2210 and SM6115, SpacemiT K1, and TI TAS2568, TAS5802, TAS5806,      TAS5815, TAS5828 and TAS5830     - Usual HD-audio and USB-audio quirks and fixups     - Support for Onkyo SE-300PCIE, TASCAM IF-FW/DM MkII    Some gpiolib changes for shared GPIOs are included along with this PR   for covering ASoC drivers changes""  * tag 'sound-6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tiwai/sound: (739 commits)   ALSA: hda/realtek: Add PCI SSIDs to HP ProBook quirks   ALSA: usb-audio: Simplify with usb_endpoint_max_periodic_payload()   ALSA: hda/realtek: fix mute/micmute LEDs don't work for more HP laptops   ALSA: rawmidi: Fix inconsistent indenting warning reported by smatch   ALSA: dice: fix buffer overflow in detect_stream_formats()   ASoC: codecs: Modify awinic amplifier dsp read and write functions   ASoC: SDCA: Fixup some more Kconfig issues   ASoC: cs35l56: Log a message if firmware is missing   ASoC: nau8325: Delete a stray tab   firmware: cs_dsp: Add test cases for client_ops == NULL   firmware: cs_dsp: Don't require client to provide a struct cs_dsp_client_ops   ASoC: fsl_micfil: Set channel range control   ASoC: fsl_micfil: Add default quality for different platforms   ASoC: intel: sof_sdw: Add codec_info for cs42l45   ASoC: sdw_utils: Add cs42l45 support functions   ASoC: intel: sof_sdw: Add ability to have auxiliary devices   ASoC: sdw_utils: Move codec_name to dai info   ASoC: sdw_utils: Add codec_conf for every DAI   ASoC: SDCA: Add terminal type into input/output widget name   ASoC: SDCA: Align mute controls to ALSA expectations   ...",https://github.com/torvalds/linux/commit/2aa680df68062e4e0c356ec2aa7100c13654907b
torvalds/linux,https://github.com/torvalds/linux,860daa4,Uma Shankar,2025-12-03T08:52:11Z,"drm/i915/color: Enable Plane Color Pipelines  Expose color pipeline and add ability to program it.  v2: Set bit to enable multisegmented lut v3: s/drm_color_lut_32/drm_color_lut32 (Simon) v4: - Fix dsb programming     - Remove multi-segment LUT, they will be added in later patches     - Add pipeline only to TGL+     - Code Refactor  Reviewed-by: Suraj Kandpal <suraj.kandpal@intel.com> Signed-off-by: Chaitanya Kumar Borah <chaitanya.kumar.borah@intel.com> Signed-off-by: Uma Shankar <uma.shankar@intel.com> Signed-off-by: Jani Nikula <jani.nikula@intel.com> Link: https://patch.msgid.link/20251203085211.3663374-16-uma.shankar@intel.com",https://github.com/torvalds/linux/commit/860daa4b0d09a398a0ac9ae6fe67efd73a275968
torvalds/linux,https://github.com/torvalds/linux,65db7a1,Chaitanya Kumar Borah,2025-12-03T08:52:10Z,"drm/i915/color: Add 3D LUT to color pipeline  Add helpers to program the 3D LUT registers and arm them.  LUT_3D_READY in LUT_3D_CLT is cleared off by the HW once the LUT buffer is loaded into it's internal working RAM. So by the time we try to load/commit new values, we expect it to be cleared off. If not, log an error and return without writing new values. Do it only when writing with MMIO. There is no way to read register within DSB execution.  v2: - Add information regarding LUT_3D_READY to commit message (Jani) - Log error instead of a drm_warn and return without committing changes   if 3DLUT HW is not ready to accept new values. - Refactor intel_color_crtc_has_3dlut()   Also remove Gen10 check (Suraj) v3: - Addressed review comments (Suraj)  Reviewed-by: Suraj Kandpal <suraj.kandpal@intel.com> Signed-off-by: Chaitanya Kumar Borah <chaitanya.kumar.borah@intel.com> Signed-off-by: Uma Shankar <uma.shankar@intel.com> Link: https://patch.msgid.link/20251203085211.3663374-15-uma.shankar@intel.com Signed-off-by: Jani Nikula <jani.nikula@intel.com>",https://github.com/torvalds/linux/commit/65db7a1f9cf772d733358de032fee60ad770c1e8
torvalds/linux,https://github.com/torvalds/linux,55b0f3c,Chaitanya Kumar Borah,2025-12-03T08:52:09Z,"drm/i915/color: Add registers for 3D LUT  Add registers needed to program 3D LUT  v2: - Follow convention documented in i915_reg.h (Jani) - Removing space in trailer (Suraj) - Move registers to intel_color_regs.h  BSpec: 69378, 69379, 69380 Reviewed-by: Suraj Kandpal <suraj.kandpal@intel.com> Signed-off-by: Chaitanya Kumar Borah <chaitanya.kumar.borah@intel.com> Signed-off-by: Uma Shankar <uma.shankar@intel.com> Link: https://patch.msgid.link/20251203085211.3663374-14-uma.shankar@intel.com Signed-off-by: Jani Nikula <jani.nikula@intel.com>",https://github.com/torvalds/linux/commit/55b0f3cd09a1d8e29f4a33d229ef82d69b25d917
torvalds/linux,https://github.com/torvalds/linux,bf0fd73,Uma Shankar,2025-12-03T08:52:08Z,"drm/i915/color: Program Plane Post CSC Registers  Extract the LUT and program plane post csc registers.  v2: Add DSB support v3: Add support for single segment 1D LUT v4: - s/drm_color_lut_32/drm_color_lut32 (Simon) - Move declaration to beginning of the function (Suraj) - Remove multisegmented code, add it later - Remove dead code for SDR planes, add it later v5: - Fix iterator issues v6: Removed redundant variable (Suraj)  Reviewed-by: Suraj Kandpal <suraj.kandpal@intel.com> Signed-off-by: Uma Shankar <uma.shankar@intel.com> Signed-off-by: Chaitanya Kumar Borah <chaitanya.kumar.borah@intel.com> Link: https://patch.msgid.link/20251203085211.3663374-13-uma.shankar@intel.com Signed-off-by: Jani Nikula <jani.nikula@intel.com>",https://github.com/torvalds/linux/commit/bf0fd7375466b7fd58b9b98193cc19b90c856faa
torvalds/linux,https://github.com/torvalds/linux,82caa1c,Uma Shankar,2025-12-03T08:52:07Z,"drm/i915/color: Program Pre-CSC registers  Add callback to program Pre-CSC LUT for TGL and beyond  v2: Add DSB support v3: Add support for single segment 1D LUT color op v4: - s/drm_color_lut_32/drm_color_lut32/ (Simon) - Change commit message (Suraj) - Improve comments (Suraj) - Remove multisegmented programming, to be added later - Remove dead code for SDR planes, add when needed  BSpec: 50411, 50412, 50413, 50414 Reviewed-by: Suraj Kandpal <suraj.kandpal@intel.com> Signed-off-by: Uma Shankar <uma.shankar@intel.com> Signed-off-by: Chaitanya Kumar Borah <chaitanya.kumar.borah@intel.com> Link: https://patch.msgid.link/20251203085211.3663374-12-uma.shankar@intel.com Signed-off-by: Jani Nikula <jani.nikula@intel.com>",https://github.com/torvalds/linux/commit/82caa1c8813fb333303f21dd553c85d36ffb01fe
torvalds/linux,https://github.com/torvalds/linux,3b7476e,Uma Shankar,2025-12-03T08:52:06Z,drm/i915/color: Add framework to program PRE/POST CSC LUT  Add framework that will help in loading LUT to Pre/Post CSC color blocks.  v2: Add dsb support v3: Align enum names v4: Propagate change in lut data to crtc_state  Reviewed-by: Suraj Kandpal <suraj.kandpal@intel.com> Signed-off-by: Uma Shankar <uma.shankar@intel.com> Signed-off-by: Chaitanya Kumar Borah <chaitanya.kumar.borah@intel.com> Link: https://patch.msgid.link/20251203085211.3663374-11-uma.shankar@intel.com Signed-off-by: Jani Nikula <jani.nikula@intel.com>,https://github.com/torvalds/linux/commit/3b7476e786c2250177c5db0b6b9f1348813b9ce0
torvalds/linux,https://github.com/torvalds/linux,05df715,Uma Shankar,2025-12-03T08:52:05Z,"drm/i915: Add register definitions for Plane Post CSC  Add macros to define Plane Post CSC registers  v2: - Add Plane Post CSC Gamma Multi Segment Enable bit - Add BSpec entries (Suraj) v3: - Fix checkpatch issues (Suraj)  BSpec: 50403, 50404, 50405, 50406, 50409, 50410, Reviewed-by: Suraj Kandpal <suraj.kandpal@intel.com> Signed-off-by: Uma Shankar <uma.shankar@intel.com> Signed-off-by: Chaitanya Kumar Borah <chaitanya.kumar.borah@intel.com> Link: https://patch.msgid.link/20251203085211.3663374-10-uma.shankar@intel.com Signed-off-by: Jani Nikula <jani.nikula@intel.com>",https://github.com/torvalds/linux/commit/05df71544c44a1767be021285648c090123a92ff
torvalds/linux,https://github.com/torvalds/linux,ed0ebbc,Uma Shankar,2025-12-03T08:52:04Z,"drm/i915: Add register definitions for Plane Degamma  Add macros to define Plane Degamma registers  v2:  - Add BSpec links (Suraj) v3:  - Add Bspec links in trailer (Suraj)  - Fix checkpatch issues (Suraj)  BSpec: 50411, 50412, 50413, 50414 Reviewed-by: Suraj Kandpal <suraj.kandpal@intel.com> Signed-off-by: Uma Shankar <uma.shankar@intel.com> Signed-off-by: Chaitanya Kumar Borah <chaitanya.kumar.borah@intel.com> Link: https://patch.msgid.link/20251203085211.3663374-9-uma.shankar@intel.com Signed-off-by: Jani Nikula <jani.nikula@intel.com>",https://github.com/torvalds/linux/commit/ed0ebbc89f847eebce790a6a308c8c3c1251655a
torvalds/linux,https://github.com/torvalds/linux,f00d027,Uma Shankar,2025-12-03T08:52:03Z,drm/i915/color: Add plane CTM callback for D12 and beyond  Add callback for setting CTM block in platforms D12 and beyond  v2: - Add dsb support - Pass plane_state as we are now doing a uapi to hw state copy - Add support for 3x4 matrix  v3: - Add relevant header file - Fix typo (Suraj) - Add callback to TGL+ (Suraj)  Reviewed-by: Suraj Kandpal <suraj.kandpal@intel.com> Signed-off-by: Chaitanya Kumar Borah <chaitanya.kumar.borah@intel.com> Signed-off-by: Uma Shankar <uma.shankar@intel.com> Link: https://patch.msgid.link/20251203085211.3663374-8-uma.shankar@intel.com Signed-off-by: Jani Nikula <jani.nikula@intel.com>,https://github.com/torvalds/linux/commit/f00d02707dc2265c120756f074f27fd3c158ec9c
torvalds/linux,https://github.com/torvalds/linux,6f1e094,Chaitanya Kumar Borah,2025-12-03T08:52:02Z,"drm/i915/color: Preserve sign bit when int_bits is Zero  When int_bits == 0, we lose the sign bit when we do the range check and apply the mask.  Fix this by ensuring a minimum of one integer bit, which guarantees space for the sign bit in fully fractional representations (e.g. S0.12)  Reviewed-by: Suraj Kandpal <suraj.kandpal@intel.com> Signed-off-by: Chaitanya Kumar Borah <chaitanya.kumar.borah@intel.com> Signed-off-by: Uma Shankar <uma.shankar@intel.com> Link: https://patch.msgid.link/20251203085211.3663374-7-uma.shankar@intel.com Signed-off-by: Jani Nikula <jani.nikula@intel.com>",https://github.com/torvalds/linux/commit/6f1e094fb6e98b99bda21133fea55970d82c2045
torvalds/linux,https://github.com/torvalds/linux,a78f1b6,Chaitanya Kumar Borah,2025-12-03T08:52:01Z,drm/i915/color: Add framework to program CSC  Add framework to program CSC. It enables copying of matrix from UAPI to intel plane state. Also add helper functions which will eventually program values to hardware.  Add a crtc state variable to track plane color change.  v2: - Add crtc_state->plane_color_changed - Improve comments (Suraj) - s/intel_plane_*_color/intel_plane_color_* (Suraj)  v3: - align parameters with open braces (Suraj) - Improve commit message (Suraj)  v4: - Re-arrange variable declaration (Suraj)  Reviewed-by: Suraj Kandpal <suraj.kandpal@intel.com> Signed-off-by: Chaitanya Kumar Borah <chaitanya.kumar.borah@intel.com> Signed-off-by: Uma Shankar <uma.shankar@intel.com> Link: https://patch.msgid.link/20251203085211.3663374-6-uma.shankar@intel.com Signed-off-by: Jani Nikula <jani.nikula@intel.com>,https://github.com/torvalds/linux/commit/a78f1b6baf4dc240b67155209c81ef0503accf3b
torvalds/linux,https://github.com/torvalds/linux,ef10531,Chaitanya Kumar Borah,2025-12-03T08:52:00Z,drm/i915/color: Create a transfer function color pipeline  Add a color pipeline with three colorops in the sequence          1D LUT - 3x4 CTM - 1D LUT  This pipeline can be used to do any color space conversion or HDR tone mapping  v2: Change namespace to drm_plane_colorop* v3: Use simpler/pre-existing colorops for first iteration v4:  - s/*_tf_*/*_color_* (Jani)  - Refactor to separate files (Jani)  - Add missing space in comment (Suraj)  - Consolidate patch that adds/attaches pipeline property v5:  - Limit MAX_COLOR_PIPELINES to 2.(Suraj) 	Increase it as and when we add more pipelines.  - Remove redundant initialization code (Suraj) v6:  - Use drm_plane_create_color_pipeline_property() (Arun) 	Now MAX_COLOR_PIPELINES is 1  Reviewed-by: Suraj Kandpal <suraj.kandpal@intel.com> Signed-off-by: Uma Shankar <uma.shankar@intel.com> Signed-off-by: Chaitanya Kumar Borah <chaitanya.kumar.borah@intel.com> Link: https://patch.msgid.link/20251203085211.3663374-5-uma.shankar@intel.com Signed-off-by: Jani Nikula <jani.nikula@intel.com>,https://github.com/torvalds/linux/commit/ef105316819d448630b83044fa83ba12905d9086
torvalds/linux,https://github.com/torvalds/linux,730df50,Chaitanya Kumar Borah,2025-12-03T08:51:59Z,drm/i915/color: Add helper to create intel colorop  Add intel colorop create helper  v2:  - Make function names consistent (Jani)  - Remove redundant code related to colorop state  - Refactor code to separate files  Reviewed-by: Suraj Kandpal <suraj.kandpal@intel.com> Signed-off-by: Chaitanya Kumar Borah <chaitanya.kumar.borah@intel.com> Signed-off-by: Uma Shankar <uma.shankar@intel.com> Link: https://patch.msgid.link/20251203085211.3663374-4-uma.shankar@intel.com Signed-off-by: Jani Nikula <jani.nikula@intel.com>,https://github.com/torvalds/linux/commit/730df5065ee9d64f972159995832ab1a5626bd4e
torvalds/linux,https://github.com/torvalds/linux,3e9b065,Chaitanya Kumar Borah,2025-12-03T08:51:58Z,drm/i915: Add intel_color_op  Add data structure to store intel specific details of colorop  v2:  - Remove dead code  - Convert macro to function (Jani)  - Remove colorop state as it is not being used  - Refactor to separate file  Reviewed-by: Suraj Kandpal <suraj.kandpal@intel.com> Signed-off-by: Chaitanya Kumar Borah <chaitanya.kumar.borah@intel.com> Signed-off-by: Uma Shankar <uma.shankar@intel.com> Link: https://patch.msgid.link/20251203085211.3663374-3-uma.shankar@intel.com Signed-off-by: Jani Nikula <jani.nikula@intel.com>,https://github.com/torvalds/linux/commit/3e9b06559aa1c3daa21ff34a25b103f3fa7f0c7a
torvalds/linux,https://github.com/torvalds/linux,4cd8a64,Chaitanya Kumar Borah,2025-12-03T08:51:57Z,"drm/i915/display: Add identifiers for driver specific blocks  Add macros to identify intel specific color blocks. It will help in mapping drm_color_ops to intel color HW blocks  v2:- Prefix enums with INTEL_* (Jani, Suraj)    - Remove unnecessary comments (Jani)    - Commit message improvements (Suraj)  Reviewed-by: Suraj Kandpal <suraj.kandpal@intel.com> Signed-off-by: Chaitanya Kumar Borah <chaitanya.kumar.borah@intel.com> Signed-off-by: Uma Shankar <uma.shankar@intel.com> Link: https://patch.msgid.link/20251203085211.3663374-2-uma.shankar@intel.com Signed-off-by: Jani Nikula <jani.nikula@intel.com>",https://github.com/torvalds/linux/commit/4cd8a64b15c1c61fbe164deacd7829899a7c5030
torvalds/linux,https://github.com/torvalds/linux,6dfafbd,Linus Torvalds,2025-12-04T16:53:30Z,"Merge tag 'drm-next-2025-12-03' of https://gitlab.freedesktop.org/drm/kernel  Pull drm updates from Dave Airlie:  ""There was a rather late merge of a new color pipeline feature, that   some userspace projects are blocked on, and has seen a lot of work in   amdgpu. This should have seen some time in -next. There is additional   support for this for Intel, that if it arrives in the next day or two   I'll pass it on in another pull request and you can decide if you want   to take it.    Highlights:    - Arm Ethos NPU accelerator driver    - new DRM color pipeline support    - amdgpu will now run discrete SI/CIK cards instead of radeon, which      enables vulkan support in userspace    - msm gets gen8 gpu support    - initial Xe3P support in xe    Full detail summary:    New driver:    - Arm Ethos-U65/U85 accel driver    Core:    - support the drm color pipeline in vkms/amdgfx    - add support for drm colorop pipeline    - add COLOR PIPELINE plane property    - add DRM_CLIENT_CAP_PLANE_COLOR_PIPELINE    - throttle dirty worker with vblank    - use drm_for_each_bridge_in_chain_scoped in drm's bridge code    - Ensure drm_client_modeset tests are enabled in UML    - add simulated vblank interrupt - use in drivers    - dumb buffer sizing helper    - move freeing of drm client memory to driver    - crtc sharpness strength property    - stop using system_wq in scheduler/drivers    - support emergency restore in drm-client    Rust:    - make slice::as_flattened usable on all supported rustc    - add FromBytes::from_bytes_prefix() method    - remove redundant device ptr from Rust GEM object    - Change how AlwaysRefCounted is implemented for GEM objects    gpuvm:    - Add deferred vm_bo cleanup to GPUVM (for rust)    atomic:    - cleanup and improve state handling interfaces    buddy:    - optimize block management    dma-buf:    - heaps: Create heap per CMA reserved location    - improve userspace documentation    dp:    - add POST_LT_ADJ_REQ training sequence    - DPCD dSC quirk for synaptics panamera devices    - helpers to query branch DSC max throughput    ttm:    - Rename ttm_bo_put to ttm_bo_fini    - allow page protection flags on risc-v    - rework pipelined eviction fence handling    amdgpu:    - enable amdgpu by default for SI/CI dGPUs    - enable DC by default on SI    - refactor CIK/SI enablement    - add ABM KMS property    - Re-enable DM idle optimizations    - DC Analog encoders support    - Powerplay fixes for fiji/iceland    - Enable DC on bonaire by default    - HMM cleanup    - Add new RAS framework    - DML2.1 updates    - YCbCr420 fixes    - DC FP fixes    - DMUB fixes    - LTTPR fixes    - DTBCLK fixes    - DMU cursor offload handling    - Userq validation improvements    - Unify shutdown callback handling    - Suspend improvements    - Power limit code cleanup    - SR-IOV fixes    - AUX backlight fixes    - DCN 3.5 fixes    - HDMI compliance fixes    - DCN 4.0.1 cursor updates    - DCN interrupt fix    - DC KMS full update improvements    - Add additional HDCP traces    - DCN 3.2 fixes    - DP MST fixes    - Add support for new SR-IOV mailbox interface    - UQ reset support    - HDP flush rework    - VCE1 support    amdkfd:    - HMM cleanups    - Relax checks on save area overallocations    - Fix GPU mappings after prefetch    radeon:    - refactor CIK/SI enablement    xe:    - Initial Xe3P support    - panic support on VRAM for display    - fix stolen size check    - Loosen used tracking restriction    - New SR-IOV debugfs structure and debugfs updates    - Hide the GPU madvise flag behind a VM_BIND flag    - Always expose VRAM provisioning data on discrete GPUs    - Allow VRAM mappings for userptr when used with SVM    - Allow pinning of p2p dma-buf    - Use per-tile debugfs where appropriate    - Add documentation for Execution Queues    - PF improvements    - VF migration recovery redesign work    - User / Kernel VRAM partitioning    - Update Tile-based messages    - Allow configfs to disable specific GT types    - VF provisioning and migration improvements    - use SVM range helpers in PT layer    - Initial CRI support    - access VF registers using dedicated MMIO view    - limit number of jobs per exec queue    - add sriov_admin sysfs tree    - more crescent island specific support    - debugfs residency counter    - SRIOV migration work    - runtime registers for GFX 35    i915:    - add initial Xe3p_LPD display version 35 support    - Enable LNL+ content adaptive sharpness filter    - Use optimized VRR guardband    - Enable Xe3p LT PHY    - enable FBC support for Xe3p_LPD display    - add display 30.02 firmware support    - refactor SKL+ watermark latency setup    - refactor fbdev handling    - call i915/xe runtime PM via function pointers    - refactor i915/xe stolen memory/display interfaces    - use display version instead of gfx version in display code    - extend i915_display_info with Type-C port details    - lots of display cleanups/refactorings    - set O_LARGEFILE in __create_shmem    - skuip guc communication warning on reset    - fix time conversions    - defeature DRRS on LNL+    - refactor intel_frontbuffer split between i915/xe/display    - convert inteL_rom interfaces to struct drm_device    - unify display register polling interfaces    - aovid lock inversion when pinning to GGTT on CHV/BXT+VTD    panel:    - Add KD116N3730A08/A12, chromebook mt8189    - JT101TM023, LQ079L1SX01,    - GLD070WX3-SL01 MIPI DSI    - Samsung LTL106AL0, Samsung LTL106AL01    - Raystar RFF500F-AWH-DNN    - Winstar WF70A8SYJHLNGA    - Wanchanglong w552946aaa    - Samsung SOFEF00    - Lenovo X13s panel    - ilitek-ili9881c - add rpi 5"" support    - visionx-rm69299 - add backlight support    - edp - support AUI B116XAN02.0    bridge:    - improve ref counting    - ti-sn65dsi86 - add support for DP mode with HPD    - synopsis: support CEC, init timer with correct freq    - ASL CS5263 DP-to-HDMI bridge support    nova-core:    - introduce bitfield! macro    - introduce safe integer converters    - GSP inits to fully booted state on Ampere    - Use more future-proof register for GPU identification    nova-drm:    - select NOVA_CORE    - 64-bit only    nouveau:    - improve reclocking on tegra 186+    - add large page and compression support    msm:    - GPU:       - Gen8 support: A840 (Kaanapali) and X2-85 (Glymur)       - A612 support    - MDSS:       - Added support for Glymur and QCS8300 platforms    - DPU:       - Enabled Quad-Pipe support, unlocking higher resolutions support       - Added support for Glymur platform       - Documented DPU on QCS8300 platform as supported    - DisplayPort:       - Added support for Glymur platform       - Added support lame remapping inside DP block       - Documented DisplayPort controller on QCS8300 and SM6150/QCS615         as supported    tegra:    - NVJPG driver    panfrost:    - display JM contexts over debugfs    - export JM contexts to userspace    - improve error and job handling    panthor:    - support custom ASN_HASH for mt8196    - support mali-G1 GPU    - flush shmem write before mapping buffers uncached    - make timeout per-queue instead of per-job    mediatek:    - MT8195/88 HDMIv2/DDCv2 support    rockchip:    - dsi: add support for RK3368    amdxdna:    - enhance runtime PM    - last hardware error reading uapi    - support firmware debug output    - add resource and telemetry data uapi    - preemption support    imx:    - add driver for HDMI TX Parallel audio interface    ivpu:    - add support for user-managed preemption buffer    - add userptr support    - update JSM firware API to 3.33.0    - add better alloc/free warnings    - fix page fault in unbind all bos    - rework bind/unbind of imported buffers    - enable MCA ECC signalling    - split fw runtime and global memory buffers    - add fdinfo memory statistics    tidss:    - convert to drm logging    - logging cleanup    ast:    - refactor generation init paths    - add per chip generation detect_tx_chip    - set quirks for each chip model    atmel-hlcdc:    - set LCDC_ATTRE register in plane disable    - set correct values for plane scaler    solomon:    - use drm helper for get_modes and move_valid    sitronix:    - fix output position when clearing screens    qaic:    - support dma-buf exports    - support new firmware's READ_DATA implementation    - sahara AIC200 image table update    - add sysfs support    - add coredump support    - add uevents support    - PM support    sun4i:    - layer refactors to decouple plane from output    - improve DE33 support    vc4:    - switch to generic CEC helpers    komeda:    - use drm_ logging functions    vkms:    - configfs support for display configuration    vgem:    - fix fence timer deadlock    etnaviv:    - add HWDB entry for GC8000 Nano Ultra VIP r6205""  * tag 'drm-next-2025-12-03' of https://gitlab.freedesktop.org/drm/kernel: (1869 commits)   Revert ""drm/amd: Skip power ungate during suspend for VPE""   drm/amdgpu: use common defines for HUB faults   drm/amdgpu/gmc12: add amdgpu_vm_handle_fault() handling   drm/amdgpu/gmc11: add amdgpu_vm_handle_fault() handling   drm/amdgpu: use static ids for ACP platform devs   drm/amdgpu/sdma6: Update SDMA 6.0.3 FW version to include UMQ protected-fence fix   drm/amdgpu: Forward VMID reservation errors   drm/amdgpu/gmc8: Delegate VM faults to soft IRQ handler ring   drm/amdgpu/gmc7: Delegate VM faults to soft IRQ handler ring   drm/amdgpu/gmc6: Delegate VM faults to soft IRQ handler ring   drm/amdgpu/gmc6: Cache VM fault info   drm/amdgpu/gmc6: Don't print MC client as it's unknown   drm/amdgpu/cz_ih: Enable soft IRQ handler ring   drm/amdgpu/tonga_ih: Enable soft IRQ handler ring   drm/amdgpu/iceland_ih: Enable soft IRQ handler ring   drm/amdgpu/cik_ih: Enable soft IRQ handler ring   drm/amdgpu/si_ih: Enable soft IRQ handler ring   drm/amd/display: fix typo in display_mode_core_structs.h   drm/amd/display: fix Smart Power OLED not working after S4   drm/amd/display: Move RGB-type check for audio sync to DCE HW sequence   ...",https://github.com/torvalds/linux/commit/6dfafbd0299a60bfb5d5e277fdf100037c7ded07
torvalds/linux,https://github.com/torvalds/linux,94e244d,Linus Torvalds,2025-12-04T16:29:28Z,Merge tag 'auxdisplay-v6.19-1' of git://git.kernel.org/pub/scm/linux/kernel/git/andy/linux-auxdisplay  Pull auxdisplay updates from Andy Shevchenko:   - Support linedisp attribute attachment to auxdisplay parent devices  * tag 'auxdisplay-v6.19-1' of git://git.kernel.org/pub/scm/linux/kernel/git/andy/linux-auxdisplay:   auxdisplay: linedisp: support attribute attachment to auxdisplay devices   auxdisplay: linedisp: add num_chars sysfs attribute   auxdisplay: linedisp: display static message when length <= display size   auxdisplay: linedisp: encapsulate container_of usage within to_linedisp   docs: ABI: auxdisplay: document linedisp library sysfs attributes,https://github.com/torvalds/linux/commit/94e244d9ccab578f83a218ec58376d025014fcce
torvalds/linux,https://github.com/torvalds/linux,d7aa60d,Linus Torvalds,2025-12-04T16:15:19Z,"Merge tag 'media/v6.19-1' of git://git.kernel.org/pub/scm/linux/kernel/git/mchehab/linux-media  Pull media updates from Mauro Carvalho Chehab:   - New drivers:     - Mali-C55 ISP     - Rockchip VICAP (RKCIF)     - RKVDEC HEVC Decoder     - Renesas RZV2H IVC     - Sony IMX111 CMOS sensor driver   - Removed STi C8SECTPFE Driver   - Added a V4L2 ISP generic framework   - Usual set of cleanup, fixes and driver improvements  * tag 'media/v6.19-1' of git://git.kernel.org/pub/scm/linux/kernel/git/mchehab/linux-media: (249 commits)   media: rockchip: rkcif: add support for rk3568 vicap mipi capture   media: rockchip: rkcif: add support for rk3568 vicap dvp capture   media: rockchip: rkcif: add support for px30 vip dvp capture   media: rockchip: rkcif: add abstraction for dma blocks   media: rockchip: rkcif: add abstraction for interface and crop blocks   media: rockchip: add driver for the rockchip camera interface   media: dt-bindings: add rockchip rk3568 vicap   media: dt-bindings: add rockchip px30 vip   media: dt-bindings: video-interfaces: add defines for sampling modes   Documentation: admin-guide: media: add rockchip camera interface   media: mali-c55: Mark pm handlers as __maybe_unused   media: mali-c55: Assert ISP blocks size correctness   media: v4l2-isp: Rename block_info to block_type_info   MAINTAINERS: Add entry for rzv2h-ivc driver   media: platform: Add Renesas Input Video Control block driver   dt-bindings: media: Add bindings for the RZ/V2H(P) IVC block   Documentation: media: mali-c55: Document the mali-c55 parameter setting   media: platform: Add mali-c55 parameters video node   media: uapi: Add parameters structs to mali-c55-config.h   media: mali-c55: Add image formats for Mali-C55 parameters buffer   ...",https://github.com/torvalds/linux/commit/d7aa60d966461ca6114dc348e97889dc8850ff7f
torvalds/linux,https://github.com/torvalds/linux,e45b5df,Arnd Bergmann,2025-12-04T09:41:36Z,"drm/xe/pf: fix VFIO link error  The Makefile logic for building xe_sriov_vfio.o was added incorrectly, as setting CONFIG_XE_VFIO_PCI=m means it doesn't get included into a built-in xe driver:  ERROR: modpost: ""xe_sriov_vfio_stop_copy_enter"" [drivers/vfio/pci/xe/xe-vfio-pci.ko] undefined! ERROR: modpost: ""xe_sriov_vfio_stop_copy_exit"" [drivers/vfio/pci/xe/xe-vfio-pci.ko] undefined! ERROR: modpost: ""xe_sriov_vfio_suspend_device"" [drivers/vfio/pci/xe/xe-vfio-pci.ko] undefined! ERROR: modpost: ""xe_sriov_vfio_wait_flr_done"" [drivers/vfio/pci/xe/xe-vfio-pci.ko] undefined! ERROR: modpost: ""xe_sriov_vfio_error"" [drivers/vfio/pci/xe/xe-vfio-pci.ko] undefined! ERROR: modpost: ""xe_sriov_vfio_resume_data_enter"" [drivers/vfio/pci/xe/xe-vfio-pci.ko] undefined! ERROR: modpost: ""xe_sriov_vfio_resume_device"" [drivers/vfio/pci/xe/xe-vfio-pci.ko] undefined! ERROR: modpost: ""xe_sriov_vfio_resume_data_exit"" [drivers/vfio/pci/xe/xe-vfio-pci.ko] undefined! ERROR: modpost: ""xe_sriov_vfio_data_write"" [drivers/vfio/pci/xe/xe-vfio-pci.ko] undefined! ERROR: modpost: ""xe_sriov_vfio_migration_supported"" [drivers/vfio/pci/xe/xe-vfio-pci.ko] undefined! WARNING: modpost: suppressed 3 unresolved symbol warnings because there were too many)  Check for CONFIG_XE_VFIO_PCI being enabled in the Makefile to decide whether to include the object instead.  Fixes: bd45d46ffc8f (""drm/xe/pf: Export helpers for VFIO"") Signed-off-by: Arnd Bergmann <arnd@arndb.de> Reviewed-by: Michal Wajdeczko <michal.wajdeczko@intel.com> Signed-off-by: Thomas Hellström <thomas.hellstrom@linux.intel.com> Link: https://patch.msgid.link/20251204094154.1029357-1-arnd@kernel.org (cherry picked from commit ef7de33544a7a6783d7afe09496da362d1e90ba1) Signed-off-by: Thomas Hellström <thomas.hellstrom@linux.intel.com>",https://github.com/torvalds/linux/commit/e45b5df47b07e6ce1138b0a4e70ad0b0c4d72881
torvalds/linux,https://github.com/torvalds/linux,559e608,Linus Torvalds,2025-12-04T04:45:43Z,"Merge tag 'ntfs3_for_6.19' of https://github.com/Paragon-Software-Group/linux-ntfs3  Pull ntfs3 updates from Konstantin Komarov:  ""New code:    - support timestamps prior to epoch    - do not overwrite uptodate pages    - disable readahead for compressed files    - setting of dummy blocksize to read boot_block when mounting    - the run_lock initialization when loading $Extend    - initialization of allocated memory before use    - support for the NTFS3_IOC_SHUTDOWN ioctl    - check for minimum alignment when performing direct I/O reads    - check for shutdown in fsync    Fixes:    - mount failure for sparse runs in run_unpack()    - use-after-free of sbi->options in cmp_fnames    - KMSAN uninit bug after failed mi_read in mi_format_new    - uninit error after buffer allocation by __getname()    - KMSAN uninit-value in ni_create_attr_list    - double free of sbi->options->nls and ownership of fc->fs_private    - incorrect vcn adjustments in attr_collapse_range()    - mode update when ACL can be reduced to mode    - memory leaks in add sub record    Changes:    - refactor code, updated terminology, spelling    - do not kmap pages in (de)compression code    - after ntfs_look_free_mft(), code that fails must put mft_inode    - default mount options for ""acl"" and ""prealloc""    Replaced:    - use unsafe_memcpy() to avoid memcpy size warning    - ntfs_bio_pages with page cache for compressed files""  * tag 'ntfs3_for_6.19' of https://github.com/Paragon-Software-Group/linux-ntfs3: (26 commits)   fs/ntfs3: check for shutdown in fsync   fs/ntfs3: change the default mount options for ""acl"" and ""prealloc""   fs/ntfs3: Prevent memory leaks in add sub record   fs/ntfs3: out1 also needs to put mi   fs/ntfs3: Fix spelling mistake ""recommened"" -> ""recommended""   fs/ntfs3: update mode in xattr when ACL can be reduced to mode   fs/ntfs3: check minimum alignment for direct I/O   fs/ntfs3: implement NTFS3_IOC_SHUTDOWN ioctl   fs/ntfs3: correct attr_collapse_range when file is too fragmented   ntfs3: fix double free of sbi->options->nls and clarify ownership of fc->fs_private   fs/ntfs3: Initialize allocated memory before use   fs/ntfs3: remove ntfs_bio_pages and use page cache for compressed I/O   ntfs3: avoid memcpy size warning   fs/ntfs3: fix KMSAN uninit-value in ni_create_attr_list   ntfs3: init run lock for extend inode   ntfs: set dummy blocksize to read boot_block when mounting   fs/ntfs3: disable readahead for compressed files   ntfs3: Fix uninit buffer allocated by __getname()   ntfs3: fix uninit memory after failed mi_read in mi_format_new   ntfs3: fix use-after-free of sbi->options in cmp_fnames   ...",https://github.com/torvalds/linux/commit/559e608c46553c107dbba19dae0854af7b219400
torvalds/linux,https://github.com/torvalds/linux,fbeea4d,Linus Torvalds,2025-12-04T04:37:15Z,"Merge tag 'ext4_for_linus-6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tytso/ext4  Pull ext4 updates from Ted Ts'o:  ""New features and improvements for the ext4 file system:    - Optimize online defragmentation by using folios instead of      individual buffer heads    - Improve error codes stored in the superblock when the journal      aborts    - Minor cleanups and clarifications in ext4_map_blocks()    - Add documentation of the casefold and encrypt flags    - Add support for file systems with a blocksize greater than the      pagesize    - Improve performance by enabling the caching the fact that an inode      does not have a Posix ACL    Various Bug Fixes:    - Fix false positive complaints from smatch    - Fix error code which is returned by ext4fs_dirhash() when Siphash      is used without the encryption key    - Fix races when writing to inline data files which could trigger a      BUG    - Fix potential NULL dereference when there is an corrupt file system      with an extended attribute value stored in a inode    - Fix false positive lockdep report when syzbot uses ext4 and ocfs2      together    - Fix false positive reported by DEPT by adjusting lock annotation    - Avoid a potential BUG_ON in jbd2 when a file system is massively      corrupted    - Fix a WARN_ON when superblock is corrupted with a non-NULL      terminated mount options field    - Add check if the userspace passes in a non-NULL terminated mount      options field to EXT4_IOC_SET_TUNE_SB_PARAM    - Fix a potential journal checksum failure whena file system is      copied while it is mounted read-only    - Fix a potential potential orphan file tracking error which only      showed on 32-bit systems    - Fix assertion checks in mballoc (which have to be explicitly enbled      by manually enabling AGGRESSIVE_CHECKS and recompiling)    - Avoid complaining about overly large orphan files created by mke2fs      with with file systems with a 64k block size""  * tag 'ext4_for_linus-6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tytso/ext4: (58 commits)   ext4: mark inodes without acls in __ext4_iget()   ext4: enable block size larger than page size   ext4: add checks for large folio incompatibilities when BS > PS   ext4: support verifying data from large folios with fs-verity   ext4: make data=journal support large block size   ext4: support large block size in __ext4_block_zero_page_range()   ext4: support large block size in mpage_prepare_extent_to_map()   ext4: support large block size in mpage_map_and_submit_buffers()   ext4: support large block size in ext4_block_write_begin()   ext4: support large block size in ext4_mpage_readpages()   ext4: rename 'page' references to 'folio' in multi-block allocator   ext4: prepare buddy cache inode for BS > PS with large folios   ext4: support large block size in ext4_mb_init_cache()   ext4: support large block size in ext4_mb_get_buddy_page_lock()   ext4: support large block size in ext4_mb_load_buddy_gfp()   ext4: add EXT4_LBLK_TO_PG and EXT4_PG_TO_LBLK for block/page conversion   ext4: add EXT4_LBLK_TO_B macro for logical block to bytes conversion   ext4: support large block size in ext4_readdir()   ext4: support large block size in ext4_calculate_overhead()   ext4: introduce s_min_folio_order for future BS > PS support   ...",https://github.com/torvalds/linux/commit/fbeea4db51a6eaf62b4784f718844726dd2199b9
torvalds/linux,https://github.com/torvalds/linux,afcbce7,Linus Torvalds,2025-12-04T04:28:50Z,"Merge tag 'gfs2-for-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/gfs2/linux-gfs2  Pull gfs2 updates from Andreas Gruenbacher:   - Major withdraw / error handling overhaul based on dlm's new    DLM_RELEASE_RECOVER feature: this allows gfs to treat withdraws like    node failures. Make withdraws asynchronous   - Fix a bug in commit e4a8b5481c59a that caused 'df' to remain out of    sync. ('df' is still allowed to go slightly out of sync for short    periods of time)   - Prevent recusive memory reclaim in gfs2_unstuff_dinode()   - Clean up SDF_JOURNAL_LIVE flag handling   - Fix remote evict for read-only filesystems   - Fix a misuse of bio_chain()   - Various other minor cleanups  * tag 'gfs2-for-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/gfs2/linux-gfs2: (35 commits)   gfs2: Fix use of bio_chain   gfs2: Clean up SDF_JOURNAL_LIVE flag handling   gfs2: No longer thaw filesystems during a withdraw   gfs2: Withdraw immediately in gfs2_trans_add_meta   gfs2: New gfs2_withdraw_helper   gfs2: Clean up properly during a withdraw   gfs2: Rename gfs2_{gl_dq_holders => withdraw_glocks}   Revert ""gfs2: fix infinite loop when checking ail item count before go_inval""   Revert ""gfs2: Allow some glocks to be used during withdraw""   Revert ""gfs2: Check for log write errors before telling dlm to unlock""   Revert ""gfs2: fix a deadlock on withdraw-during-mount""   Revert ""gfs2: Force withdraw to replay journals and wait for it to finish"" (6/6)   Revert ""gfs2: Force withdraw to replay journals and wait for it to finish"" (5/6)   Revert ""gfs2: Force withdraw to replay journals and wait for it to finish"" (4/6)   Revert ""gfs2: Force withdraw to replay journals and wait for it to finish"" (3/6)   Revert ""gfs2: Force withdraw to replay journals and wait for it to finish"" (2/6)   Revert ""gfs2: Force withdraw to replay journals and wait for it to finish"" (1/6)   Revert ""gfs2: don't stop reads while withdraw in progress""   gfs2: Rename LM_FLAG_{NOEXP -> RECOVER}   gfs2: Kill gfs2_io_error_bh_wd   ...",https://github.com/torvalds/linux/commit/afcbce74f358a540761aa893939590a667162dff
torvalds/linux,https://github.com/torvalds/linux,8697375,Linus Torvalds,2025-12-04T04:23:41Z,"Merge tag 'v6.19-rc-smb-fixes' of git://git.samba.org/ksmbd  Pull smb client and server updates from Steve French:   - server fixes:      - IPC use after free locking fix      - fix locking bug in delete paths      - fix use after free in disconnect      - fix underflow in locking check      - error mapping improvement      - socket listening improvement      - return code mapping fixes      - crypto improvements (use default libraries)   - cleanup patches:      - netfs      - client checkpatch cleanup      - server cleanup      - move server/client duplicate code to common code      - fix some defines to better match protocol specification    - smbdirect (RDMA) fixes    - client debugging improvements for leases  * tag 'v6.19-rc-smb-fixes' of git://git.samba.org/ksmbd: (44 commits)   cifs: Use netfs_alloc/free_folioq_buffer()   smb: client: show smb lease key in open_dirs output   smb: client: show smb lease key in open_files output   ksmbd: ipc: fix use-after-free in ipc_msg_send_request   smb: client: relax WARN_ON_ONCE(SMBDIRECT_SOCKET_*) checks in recv_done() and smbd_conn_upcall()   smb: server: relax WARN_ON_ONCE(SMBDIRECT_SOCKET_*) checks in recv_done() and smb_direct_cm_handler()   smb: smbdirect: introduce SMBDIRECT_CHECK_STATUS_{WARN,DISCONNECT}()   smb: smbdirect: introduce SMBDIRECT_DEBUG_ERR_PTR() helper   ksmbd: vfs: fix race on m_flags in vfs_cache   ksmbd: Replace strcpy + strcat to improve convert_to_nt_pathname   smb: move FILE_SYSTEM_ATTRIBUTE_INFO to common/fscc.h   ksmbd: implement error handling for STATUS_INFO_LENGTH_MISMATCH in smb server   ksmbd: fix use-after-free in ksmbd_tree_connect_put under concurrency   ksmbd: server: avoid busy polling in accept loop   smb: move create_durable_reconn to common/smb2pdu.h   smb: fix some warnings reported by scripts/checkpatch.pl   smb: do some cleanups   smb: move FILE_SYSTEM_SIZE_INFO to common/fscc.h   smb: move some duplicate struct definitions to common/fscc.h   smb: move list of FileSystemAttributes to common/fscc.h   ...",https://github.com/torvalds/linux/commit/869737543b39a145809c41a7253c6ee777e22729
torvalds/linux,https://github.com/torvalds/linux,3ed1c68,Linus Torvalds,2025-12-04T04:19:38Z,"Merge tag 'xfs-merge-6.19' of git://git.kernel.org/pub/scm/fs/xfs/xfs-linux  Pull xfs updates from Carlos Maiolino:  ""There are no major changes in xfs. This contains mostly some code   cleanups, a few bug fixes and documentation update. Highlights are:     - Quota locking cleanup     - Getting rid of old xlog_in_core_2_t type""  * tag 'xfs-merge-6.19' of git://git.kernel.org/pub/scm/fs/xfs/xfs-linux: (33 commits)   docs: remove obsolete links in the xfs online repair documentation   xfs: move some code out of xfs_iget_recycle   xfs: use zi more in xfs_zone_gc_mount   xfs: remove the unused bv field in struct xfs_gc_bio   xfs: remove xarray mark for reclaimable zones   xfs: remove the xlog_in_core_t typedef   xfs: remove l_iclog_heads   xfs: remove the xlog_rec_header_t typedef   xfs: remove xlog_in_core_2_t   xfs: remove a very outdated comment from xlog_alloc_log   xfs: cleanup xlog_alloc_log a bit   xfs: don't use xlog_in_core_2_t in struct xlog_in_core   xfs: add a on-disk log header cycle array accessor   xfs: add a XLOG_CYCLE_DATA_SIZE constant   xfs: reduce ilock roundtrips in xfs_qm_vop_dqalloc   xfs: move xfs_dquot_tree calls into xfs_qm_dqget_cache_{lookup,insert}   xfs: move quota locking into xrep_quota_item   xfs: move quota locking into xqcheck_commit_dquot   xfs: move q_qlock locking into xqcheck_compare_dquot   xfs: move q_qlock locking into xchk_quota_item   ...",https://github.com/torvalds/linux/commit/3ed1c68307c4ce53256e15b8a8830b12bdba1ff5
torvalds/linux,https://github.com/torvalds/linux,477e31f,Linus Torvalds,2025-12-04T04:14:44Z,"Merge tag 'erofs-for-6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/xiang/erofs  Pull erofs updates from Gao Xiang:   - Fix a WARNING caused by a recent FSDAX misdetection regression   - Fix the filesystem stacking limit for file-backed mounts   - Print more informative diagnostics on decompression errors   - Switch the on-disk definition `erofs_fs.h` to the MIT license   - Minor cleanups  * tag 'erofs-for-6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/xiang/erofs:   erofs: switch on-disk header `erofs_fs.h` to MIT license   erofs: get rid of raw bi_end_io() usage   erofs: enable error reporting for z_erofs_fixup_insize()   erofs: enable error reporting for z_erofs_stream_switch_bufs()   erofs: improve Zstd, LZMA and DEFLATE error strings   erofs: improve decompression error reporting   erofs: tidy up z_erofs_lz4_handle_overlap()   erofs: limit the level of fs stacking for file-backed mounts   erofs: correct FSDAX detection",https://github.com/torvalds/linux/commit/477e31fd1e81ef925ce55931bcdbf609ba2207c8
torvalds/linux,https://github.com/torvalds/linux,ca010e2,Linus Torvalds,2025-12-04T04:08:32Z,"Merge tag 'hfs-v6.19-tag1' of git://git.kernel.org/pub/scm/linux/kernel/git/vdubeyko/hfs  Pull hfs/hfsplus updates from Viacheslav Dubeyko:  ""Several fixes for syzbot reported issues, HFS/HFS+ fixes of xfstests   failures, Kunit-based unit-tests introduction, and code cleanup:     - Dan Carpenter fixed a potential use-after-free issue in      hfs_correct_next_unused_CNID() method. Tetsuo Handa has made nice      fix of syzbot reported issue related to incorrect inode->i_mode      management if volume has been corrupted somehow. Yang Chenzhi has      made really good fix of potential race condition in      __hfs_bnode_create() method for HFS+ file system.     - Several fixes to xfstests failures. Particularly, generic/070,      generic/073, and generic/101 test-cases finish successfully for the      case of HFS+ file system right now.     - HFS and HFS+ drivers share multiple structures of on-disk layout      declarations. Some structures are used without any change. However,      we had two independent declarations of the same structures in HFS      and HFS+ drivers.       The on-disk layout declarations have been moved into      include/linux/hfs_common.h with the goal to exclude the      declarations duplication and to keep the HFS/HFS+ on-disk layout      declarations in one place.       Also, this patch prepares the basis for creating a hfslib that can      aggregate common functionality without necessity to duplicate the      same code in HFS and HFS+ drivers.     - HFS/HFS+ really need unit-tests because of multiple xfstests      failures. The first two patches introduce Kunit-based unit-tests      for the case string operations in HFS/HFS+ file system drivers""  * tag 'hfs-v6.19-tag1' of git://git.kernel.org/pub/scm/linux/kernel/git/vdubeyko/hfs:   hfs/hfsplus: move on-disk layout declarations into hfs_common.h   hfsplus: fix volume corruption issue for generic/101   hfsplus: introduce KUnit tests for HFS+ string operations   hfs: introduce KUnit tests for HFS string operations   hfsplus: fix volume corruption issue for generic/073   hfsplus: Verify inode mode when loading from disk   hfsplus: fix volume corruption issue for generic/070   hfs/hfsplus: prevent getting negative values of offset/length   hfsplus: fix missing hfs_bnode_get() in __hfs_bnode_create   hfs: fix potential use after free in hfs_correct_next_unused_CNID()",https://github.com/torvalds/linux/commit/ca010e2ef64ce2a8f3907a5c02f8109012ea5dc6
torvalds/linux,https://github.com/torvalds/linux,7696286,Linus Torvalds,2025-12-04T04:03:46Z,"Merge tag 'for-6.19-tag' of git://git.kernel.org/pub/scm/linux/kernel/git/kdave/linux  Pull btrfs updates from David Sterba:  ""Features:     - shutdown ioctl support (needs CONFIG_BTRFS_EXPERIMENTAL for now):       - set filesystem state as being shut down (also named going down         in other filesystems), where all active operations return EIO         and this cannot be changed until unmount       - pending operations are attempted to be finished but error         messages may still show up depending on where exactly the         shutdown happened     - scrub (and device replace) vs suspend/hibernate:       - a running scrub will prevent suspend, which can be annoying as         suspend is an immediate request and scrub is not critical       - filesystem freezing before suspend was not sufficient as the         problem was in process freezing       - behaviour change: on suspend scrub and device replace are         cancelled, where scrub can record the last state and continue         from there; the device replace has to be restarted from the         beginning     - zone stats exported in sysfs, from the perspective of the      filesystem this includes active, reclaimable, relocation etc zones    Performance:     - improvements when processing space reservation tickets by      optimizing locking and shrinking critical sections, cumulative      improvements in lockstat numbers show +15%    Notable fixes:     - use vmalloc fallback when allocating bios as high order allocations      can happen with wide checksums (like sha256)     - scrub will always track the last position of progress so it's not      starting from zero after an error    Core:     - under experimental config, checksum calculations are offloaded to      process context, simplifies locking and allows to remove      compression write worker kthread(s):       - speed improvement in direct IO throughput with buffered IO         fallback is +15% when not offloaded but this is more related to         internal crypto subsystem improvements       - this will be probably default in the future removing the sysfs         tunable     - (experimental) block size > page size updates:       - support more operations when not using large folios (encoded         read/write and send)       - raid56     - more preparations for fscrypt support    Other:     - more conversions to auto-cleaned variables     - parameter cleanups and removals     - extended warning fixes     - improved printing of structured values like keys     - lots of other cleanups and refactoring""  * tag 'for-6.19-tag' of git://git.kernel.org/pub/scm/linux/kernel/git/kdave/linux: (147 commits)   btrfs: remove unnecessary inode key in btrfs_log_all_parents()   btrfs: remove redundant zero/NULL initializations in btrfs_alloc_root()   btrfs: remaining BTRFS_PATH_AUTO_FREE conversions   btrfs: send: do not allocate memory for xattr data when checking it exists   btrfs: send: add unlikely to all unexpected overflow checks   btrfs: reduce arguments to btrfs_del_inode_ref_in_log()   btrfs: remove root argument from btrfs_del_dir_entries_in_log()   btrfs: use test_and_set_bit() in btrfs_delayed_delete_inode_ref()   btrfs: don't search back for dir inode item in INO_LOOKUP_USER   btrfs: don't rewrite ret from inode_permission   btrfs: add orig_logical to btrfs_bio for encryption   btrfs: disable verity on encrypted inodes   btrfs: disable various operations on encrypted inodes   btrfs: remove redundant level reset in btrfs_del_items()   btrfs: simplify leaf traversal after path release in btrfs_next_old_leaf()   btrfs: optimize balance_level() path reference handling   btrfs: factor out root promotion logic into promote_child_to_root()   btrfs: raid56: remove the ""_step"" infix   btrfs: raid56: enable bs > ps support   btrfs: raid56: prepare finish_parity_scrub() to support bs > ps cases   ...",https://github.com/torvalds/linux/commit/7696286034ac72cf9b46499be1715ac62fd302c3
torvalds/linux,https://github.com/torvalds/linux,cc25df3,Linus Torvalds,2025-12-04T03:26:18Z,"Merge tag 'for-6.19/block-20251201' of git://git.kernel.org/pub/scm/linux/kernel/git/axboe/linux  Pull block updates from Jens Axboe:   - Fix head insertion for mq-deadline, a regression from when priority    support was added   - Series simplifying and improving the ublk user copy code   - Various ublk related cleanups   - Fixup REQ_NOWAIT handling in loop/zloop, clearing NOWAIT when the    request is punted to a thread for handling   - Merge and then later revert loop dio nowait support, as it ended up    causing excessive stack usage for when the inline issue code needs to    dip back into the full file system code   - Improve auto integrity code, making it less deadlock prone   - Speedup polled IO handling, but manually managing the hctx lookups   - Fixes for blk-throttle for SSD devices   - Small series with fixes for the S390 dasd driver   - Add support for caching zones, avoiding unnecessary report zone    queries   - MD pull requests via Yu:       - fix null-ptr-dereference regression for dm-raid0       - fix IO hang for raid5 when array is broken with IO inflight       - remove legacy 1s delay to speed up system shutdown       - change maintainer's email address       - data can be lost if array is created with different lbs devices,         fix this problem and record lbs of the array in metadata       - fix rcu protection for md_thread       - fix mddev kobject lifetime regression       - enable atomic writes for md-linear       - some cleanups   - bcache updates via Coly       - remove useless discard and cache device code       - improve usage of per-cpu workqueues   - Reorganize the IO scheduler switching code, fixing some lockdep    reports as well   - Improve the block layer P2P DMA support   - Add support to the block tracing code for zoned devices   - Segment calculation improves, and memory alignment flexibility    improvements   - Set of prep and cleanups patches for ublk batching support. The    actual batching hasn't been added yet, but helps shrink down the    workload of getting that patchset ready for 6.20   - Fix for how the ps3 block driver handles segments offsets   - Improve how block plugging handles batch tag allocations   - nbd fixes for use-after-free of the configuration on device clear/put   - Set of improvements and fixes for zloop   - Add Damien as maintainer of the block zoned device code handling   - Various other fixes and cleanups  * tag 'for-6.19/block-20251201' of git://git.kernel.org/pub/scm/linux/kernel/git/axboe/linux: (162 commits)   block/rnbd: correct all kernel-doc complaints   blk-mq: use queue_hctx in blk_mq_map_queue_type   md: remove legacy 1s delay in md_notify_reboot   md/raid5: fix IO hang when array is broken with IO inflight   md: warn about updating super block failure   md/raid0: fix NULL pointer dereference in create_strip_zones() for dm-raid   sbitmap: fix all kernel-doc warnings   ublk: add helper of __ublk_fetch()   ublk: pass const pointer to ublk_queue_is_zoned()   ublk: refactor auto buffer register in ublk_dispatch_req()   ublk: add `union ublk_io_buf` with improved naming   ublk: add parameter `struct io_uring_cmd *` to ublk_prep_auto_buf_reg()   kfifo: add kfifo_alloc_node() helper for NUMA awareness   blk-mq: fix potential uaf for 'queue_hw_ctx'   blk-mq: use array manage hctx map instead of xarray   ublk: prevent invalid access with DEBUG   s390/dasd: Use scnprintf() instead of sprintf()   s390/dasd: Move device name formatting into separate function   s390/dasd: Remove unnecessary debugfs_create() return checks   s390/dasd: Fix gendisk parent after copy pair swap   ...",https://github.com/torvalds/linux/commit/cc25df3e2e22a956d3a0d427369367b4a901d203
torvalds/linux,https://github.com/torvalds/linux,0abcfd8,Linus Torvalds,2025-12-04T02:58:57Z,"Merge tag 'for-6.19/io_uring-20251201' of git://git.kernel.org/pub/scm/linux/kernel/git/axboe/linux  Pull io_uring updates from Jens Axboe:   - Unify how task_work cancelations are detected, placing it in the    task_work running state rather than needing to check the task state   - Series cleaning up and moving the cancelation code to where it    belongs, in cancel.c   - Cleanup of waitid and futex argument handling   - Add support for mixed sized SQEs. 6.18 added support for mixed sized    CQEs, improving flexibility and efficiency of workloads that need big    CQEs. This adds similar support for SQEs, where the occasional need    for a 128b SQE doesn't necessitate having all SQEs be 128b in size   - Introduce zcrx and SQ/CQ layout queries. The former returns what zcrx    features are available. And both return the ring size information to    help with allocation size calculation for user provided rings like    IORING_SETUP_NO_MMAP and IORING_MEM_REGION_TYPE_USER   - Zcrx updates for 6.19. It includes a bunch of small patches,    IORING_REGISTER_ZCRX_CTRL and RQ flushing and David's work on sharing    zcrx b/w multiple io_uring instances   - Series cleaning up ring initializations, notable deduplicating ring    size and offset calculations. It also moves most of the checking    before doing any allocations, making the code simpler   - Add support for getsockname and getpeername, which is mostly a    trivial hookup after a bit of refactoring on the networking side   - Various fixes and cleanups  * tag 'for-6.19/io_uring-20251201' of git://git.kernel.org/pub/scm/linux/kernel/git/axboe/linux: (68 commits)   io_uring: Introduce getsockname io_uring cmd   socket: Split out a getsockname helper for io_uring   socket: Unify getsockname and getpeername implementation   io_uring/query: drop unused io_handle_query_entry() ctx arg   io_uring/kbuf: remove obsolete buf_nr_pages and update comments   io_uring/register: use correct location for io_rings_layout   io_uring/zcrx: share an ifq between rings   io_uring/zcrx: add io_fill_zcrx_offsets()   io_uring/zcrx: export zcrx via a file   io_uring/zcrx: move io_zcrx_scrub() and dependencies up   io_uring/zcrx: count zcrx users   io_uring/zcrx: add sync refill queue flushing   io_uring/zcrx: introduce IORING_REGISTER_ZCRX_CTRL   io_uring/zcrx: elide passing msg flags   io_uring/zcrx: use folio_nr_pages() instead of shift operation   io_uring/zcrx: convert to use netmem_desc   io_uring/query: introduce rings info query   io_uring/query: introduce zcrx query   io_uring: move cq/sq user offset init around   io_uring: pre-calculate scq layout   ...",https://github.com/torvalds/linux/commit/0abcfd8983e3d3d27b8f5f7d01fed4354eb422c4
torvalds/linux,https://github.com/torvalds/linux,8f7aa3d,Linus Torvalds,2025-12-04T01:24:33Z,"Merge tag 'net-next-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/netdev/net-next  Pull networking updates from Jakub Kicinski:  ""Core & protocols:     - Replace busylock at the Tx queuing layer with a lockless list.       Resulting in a 300% (4x) improvement on heavy TX workloads, sending      twice the number of packets per second, for half the cpu cycles.     - Allow constantly busy flows to migrate to a more suitable CPU/NIC      queue.       Normally we perform queue re-selection when flow comes out of idle,      but under extreme circumstances the flows may be constantly busy.       Add sysctl to allow periodic rehashing even if it'd risk packet      reordering.     - Optimize the NAPI skb cache, make it larger, use it in more paths.     - Attempt returning Tx skbs to the originating CPU (like we already      did for Rx skbs).     - Various data structure layout and prefetch optimizations from Eric.     - Remove ktime_get() from the recvmsg() fast path, ktime_get() is      sadly quite expensive on recent AMD machines.     - Extend threaded NAPI polling to allow the kthread busy poll for      packets.     - Make MPTCP use Rx backlog processing. This lowers the lock      pressure, improving the Rx performance.     - Support memcg accounting of MPTCP socket memory.     - Allow admin to opt sockets out of global protocol memory accounting      (using a sysctl or BPF-based policy). The global limits are a poor      fit for modern container workloads, where limits are imposed using      cgroups.     - Improve heuristics for when to kick off AF_UNIX garbage collection.     - Allow users to control TCP SACK compression, and default to 33% of      RTT.     - Add tcp_rcvbuf_low_rtt sysctl to let datacenter users avoid      unnecessarily aggressive rcvbuf growth and overshot when the      connection RTT is low.     - Preserve skb metadata space across skb_push / skb_pull operations.     - Support for IPIP encapsulation in the nftables flowtable offload.     - Support appending IP interface information to ICMP messages (RFC      5837).     - Support setting max record size in TLS (RFC 8449).     - Remove taking rtnl_lock from RTM_GETNEIGHTBL and RTM_SETNEIGHTBL.     - Use a dedicated lock (and RCU) in MPLS, instead of rtnl_lock.     - Let users configure the number of write buffers in SMC.     - Add new struct sockaddr_unsized for sockaddr of unknown length,      from Kees.     - Some conversions away from the crypto_ahash API, from Eric Biggers.     - Some preparations for slimming down struct page.     - YAML Netlink protocol spec for WireGuard.     - Add a tool on top of YAML Netlink specs/lib for reporting commonly      computed derived statistics and summarized system state.    Driver API:     - Add CAN XL support to the CAN Netlink interface.     - Add uAPI for reporting PHY Mean Square Error (MSE) diagnostics, as      defined by the OPEN Alliance's ""Advanced diagnostic features for      100BASE-T1 automotive Ethernet PHYs"" specification.     - Add DPLL phase-adjust-gran pin attribute (and implement it in      zl3073x).     - Refactor xfrm_input lock to reduce contention when NIC offloads      IPsec and performs RSS.     - Add info to devlink params whether the current setting is the      default or a user override. Allow resetting back to default.     - Add standard device stats for PSP crypto offload.     - Leverage DSA frame broadcast to implement simple HSR frame      duplication for a lot of switches without dedicated HSR offload.     - Add uAPI defines for 1.6Tbps link modes.    Device drivers:     - Add Motorcomm YT921x gigabit Ethernet switch support.     - Add MUCSE driver for N500/N210 1GbE NIC series.     - Convert drivers to support dedicated ops for timestamping control,      and away from the direct IOCTL handling. While at it support GET      operations for PHY timestamping.     - Add (and convert most drivers to) a dedicated ethtool callback for      reading the Rx ring count.     - Significant refactoring efforts in the STMMAC driver, which      supports Synopsys turn-key MAC IP integrated into a ton of SoCs.     - Ethernet high-speed NICs:       - Broadcom (bnxt):          - support PPS in/out on all pins       - Intel (100G, ice, idpf):          - ice: implement standard ethtool and timestamping stats          - i40e: support setting the max number of MAC addresses per VF          - iavf: support RSS of GTP tunnels for 5G and LTE deployments       - nVidia/Mellanox (mlx5):          - reduce downtime on interface reconfiguration          - disable being an XDP redirect target by default (same as            other drivers) to avoid wasting resources if feature is            unused       - Meta (fbnic):          - add support for Linux-managed PCS on 25G, 50G, and 100G links       - Wangxun:          - support Rx descriptor merge, and Tx head writeback          - support Rx coalescing offload          - support 25G SPF and 40G QSFP modules     - Ethernet virtual:       - Google (gve):          - allow ethtool to configure rx_buf_len          - implement XDP HW RX Timestamping support for DQ descriptor            format       - Microsoft vNIC (mana):          - support HW link state events          - handle hardware recovery events when probing the device     - Ethernet NICs consumer, and embedded:       - usbnet: add support for Byte Queue Limits (BQL)       - AMD (amd-xgbe):          - add device selftests       - NXP (enetc):          - add i.MX94 support       - Broadcom integrated MACs (bcmgenet, bcmasp):          - bcmasp: add support for PHY-based Wake-on-LAN       - Broadcom switches (b53):          - support port isolation          - support BCM5389/97/98 and BCM63XX ARL formats       - Lantiq/MaxLinear switches:          - support bridge FDB entries on the CPU port          - use regmap for register access          - allow user to enable/disable learning          - support Energy Efficient Ethernet          - support configuring RMII clock delays          - add tagging driver for MaxLinear GSW1xx switches       - Synopsys (stmmac):          - support using the HW clock in free running mode          - add Eswin EIC7700 support          - add Rockchip RK3506 support          - add Altera Agilex5 support       - Cadence (macb):          - cleanup and consolidate descriptor and DMA address handling          - add EyeQ5 support       - TI:          - icssg-prueth: support AF_XDP       - Airoha access points:          - add missing Ethernet stats and link state callback          - add AN7583 support          - support out-of-order Tx completion processing       - Power over Ethernet:          - pd692x0: preserve PSE configuration across reboots          - add support for TPS23881B devices     - Ethernet PHYs:       - Open Alliance OATC14 10BASE-T1S PHY cable diagnostic support       - Support 50G SerDes and 100G interfaces in Linux-managed PHYs       - micrel:          - support for non PTP SKUs of lan8814          - enable in-band auto-negotiation on lan8814       - realtek:          - cable testing support on RTL8224          - interrupt support on RTL8221B       - motorcomm: support for PHY LEDs on YT853       - microchip: support for LAN867X Rev.D0 PHYs w/ SQI and cable diag       - mscc: support for PHY LED control     - CAN drivers:       - m_can: add support for optional reset and system wake up       - remove can_change_mtu() obsoleted by core handling       - mcp251xfd: support GPIO controller functionality     - Bluetooth:       - add initial support for PASTa     - WiFi:       - split ieee80211.h file, it's way too big       - improvements in VHT radiotap reporting, S1G, Channel Switch         Announcement handling, rate tracking in mesh networks       - improve multi-radio monitor mode support, and add a cfg80211         debugfs interface for it       - HT action frame handling on 6 GHz       - initial chanctx work towards NAN       - MU-MIMO sniffer improvements     - WiFi drivers:       - RealTek (rtw89):          - support USB devices RTL8852AU and RTL8852CU          - initial work for RTL8922DE          - improved injection support       - Intel:          - iwlwifi: new sniffer API support       - MediaTek (mt76):          - WED support for >32-bit DMA          - airoha NPU support          - regdomain improvements          - continued WiFi7/MLO work       - Qualcomm/Atheros:          - ath10k: factory test support          - ath11k: TX power insertion support          - ath12k: BSS color change support          - ath12k: statistics improvements       - brcmfmac: Acer A1 840 tablet quirk       - rtl8xxxu: 40 MHz connection fixes/support""  * tag 'net-next-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/netdev/net-next: (1381 commits)   net: page_pool: sanitise allocation order   net: page pool: xa init with destroy on pp init   net/mlx5e: Support XDP target xmit with dummy program   net/mlx5e: Update XDP features in switch channels   selftests/tc-testing: Test CAKE scheduler when enqueue drops packets   net/sched: sch_cake: Fix incorrect qlen reduction in cake_drop   wireguard: netlink: generate netlink code   wireguard: uapi: generate header with ynl-gen   wireguard: uapi: move flag enums   wireguard: uapi: move enum wg_cmd   wireguard: netlink: add YNL specification   selftests: drv-net: Fix tolerance calculation in devlink_rate_tc_bw.py   selftests: drv-net: Fix and clarify TC bandwidth split in devlink_rate_tc_bw.py   selftests: drv-net: Set shell=True for sysfs writes in devlink_rate_tc_bw.py   selftests: drv-net: Use Iperf3Runner in devlink_rate_tc_bw.py   selftests: drv-net: introduce Iperf3Runner for measurement use cases   selftests: drv-net: Add devlink_rate_tc_bw.py to TEST_PROGS   net: ps3_gelic_net: Use napi_alloc_skb() and napi_gro_receive()   Documentation: net: dsa: mention simple HSR offload helpers   Documentation: net: dsa: mention availability of RedBox   ...",https://github.com/torvalds/linux/commit/8f7aa3d3c7323f4ca2768a9e74ebbe359c4f8f88
torvalds/linux,https://github.com/torvalds/linux,015e7b0,Linus Torvalds,2025-12-04T00:54:54Z,"Merge tag 'bpf-next-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/bpf/bpf-next  Pull bpf updates from Alexei Starovoitov:   - Convert selftests/bpf/test_tc_edt and test_tc_tunnel from .sh to    test_progs runner (Alexis Lothoré)   - Convert selftests/bpf/test_xsk to test_progs runner (Bastien    Curutchet)   - Replace bpf memory allocator with kmalloc_nolock() in    bpf_local_storage (Amery Hung), and in bpf streams and range tree    (Puranjay Mohan)   - Introduce support for indirect jumps in BPF verifier and x86 JIT    (Anton Protopopov) and arm64 JIT (Puranjay Mohan)   - Remove runqslower bpf tool (Hoyeon Lee)   - Fix corner cases in the verifier to close several syzbot reports    (Eduard Zingerman, KaFai Wan)   - Several improvements in deadlock detection in rqspinlock (Kumar    Kartikeya Dwivedi)   - Implement ""jmp"" mode for BPF trampoline and corresponding    DYNAMIC_FTRACE_WITH_JMP. It improves ""fexit"" program type performance    from 80 M/s to 136 M/s. With Steven's Ack. (Menglong Dong)   - Add ability to test non-linear skbs in BPF_PROG_TEST_RUN (Paul    Chaignon)   - Do not let BPF_PROG_TEST_RUN emit invalid GSO types to stack (Daniel    Borkmann)   - Generalize buildid reader into bpf_dynptr (Mykyta Yatsenko)   - Optimize bpf_map_update_elem() for map-in-map types (Ritesh    Oedayrajsingh Varma)   - Introduce overwrite mode for BPF ring buffer (Xu Kuohai)  * tag 'bpf-next-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/bpf/bpf-next: (169 commits)   bpf: optimize bpf_map_update_elem() for map-in-map types   bpf: make kprobe_multi_link_prog_run always_inline   selftests/bpf: do not hardcode target rate in test_tc_edt BPF program   selftests/bpf: remove test_tc_edt.sh   selftests/bpf: integrate test_tc_edt into test_progs   selftests/bpf: rename test_tc_edt.bpf.c section to expose program type   selftests/bpf: Add success stats to rqspinlock stress test   rqspinlock: Precede non-head waiter queueing with AA check   rqspinlock: Disable spinning for trylock fallback   rqspinlock: Use trylock fallback when per-CPU rqnode is busy   rqspinlock: Perform AA checks immediately   rqspinlock: Enclose lock/unlock within lock entry acquisitions   bpf: Remove runqslower tool   selftests/bpf: Remove usage of lsm/file_alloc_security in selftest   bpf: Disable file_alloc_security hook   bpf: check for insn arrays in check_ptr_alignment   bpf: force BPF_F_RDONLY_PROG on insn array creation   bpf: Fix exclusive map memory leak   selftests/bpf: Make CS length configurable for rqspinlock stress test   selftests/bpf: Add lock wait time stats to rqspinlock stress test   ...",https://github.com/torvalds/linux/commit/015e7b0b0e8e51f7321ec2aafc1d7fc0a8a5536f
torvalds/linux,https://github.com/torvalds/linux,b6d9933,Linus Torvalds,2025-12-03T23:50:11Z,Merge tag 'linux_kselftest-kunit-6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/shuah/linux-kselftest  Pull kunit updates from Shuah Khan:   - Make filter parameters configurable via Kconfig   - Add description of kunit.enable parameter to documentation  * tag 'linux_kselftest-kunit-6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/shuah/linux-kselftest:   kunit: Make filter parameters configurable via Kconfig   Documentation: kunit: add description of kunit.enable parameter,https://github.com/torvalds/linux/commit/b6d993310a65b994f37e3347419d9ed398ee37a3
torvalds/linux,https://github.com/torvalds/linux,2488655,Linus Torvalds,2025-12-03T23:08:18Z,Merge tag 'linux_kselftest-next-6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/shuah/linux-kselftest  Pull kselftest updates from Shuah Khan:   - Add basic test for trace_marker_raw file to tracing selftest   - Fix invalid array access in printf dma_map_benchmark selftest   - Add tprobe enable/disable testcase to tracing selftest   - Update fprobe selftest for ftrace based fprobe  * tag 'linux_kselftest-next-6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/shuah/linux-kselftest:   selftests: tracing: Update fprobe selftest for ftrace based fprobe   selftests: tracing: Add tprobe enable/disable testcase   selftests/run_kselftest.sh: exit with error if tests fail   selftests/dma: fix invalid array access in printf   selftests/tracing: Add basic test for trace_marker_raw file,https://github.com/torvalds/linux/commit/2488655b2f6b9d7d4afc19ecc1e7b1dccd67b13c
torvalds/linux,https://github.com/torvalds/linux,2ddcf49,Linus Torvalds,2025-12-03T22:42:21Z,"Merge tag 'kbuild-6.19-1' of git://git.kernel.org/pub/scm/linux/kernel/git/kbuild/linux  Pull Kbuild updates from Nicolas Schier:    - Enable -fms-extensions, allowing anonymous use of tagged struct or     union in struct/union (tag kbuild-ms-extensions-6.19). An exemplary     conversion patch is added here, too (btrfs).      [ Editor's note: the core of this actually came in early through a       shared branch and a few other trees    - Linus ]    - Introduce architecture-specific CC_CAN_LINK and flags for userprogs    - Add new packaging target 'modules-cpio-pkg' for building a initramfs     cpio w/ kmods    - Handle included .c files in gen_compile_commands    - Minor kbuild changes:      - Use objtree for module signing key path, fixing oot kmod signing      - Improve documentation of KBUILD_BUILD_TIMESTAMP      - Reuse KBUILD_USERCFLAGS for UAPI, instead of defining twice      - Rename scripts/Makefile.extrawarn to Makefile.warn      - Drop obsolete types.h check from headers_check.pl      - Remove outdated config leak ignore entries  * tag 'kbuild-6.19-1' of git://git.kernel.org/pub/scm/linux/kernel/git/kbuild/linux:   kbuild: add target to build a cpio containing modules   initramfs: add gen_init_cpio to hostprogs unconditionally   kbuild: allow architectures to override CC_CAN_LINK   init: deduplicate cc-can-link.sh invocations   kbuild: don't enable CC_CAN_LINK if the dummy program generates warnings   scripts: headers_install.sh: Remove two outdated config leak ignore entries   scripts/clang-tools: Handle included .c files in gen_compile_commands   kbuild: uapi: Drop types.h check from headers_check.pl   kbuild: Rename Makefile.extrawarn to Makefile.warn   MAINTAINERS, .mailmap: Update mail address for Nicolas Schier   kbuild: uapi: reuse KBUILD_USERCFLAGS   kbuild: doc: improve KBUILD_BUILD_TIMESTAMP documentation   kbuild: Use objtree for module signing key path   btrfs: send: make use of -fms-extensions for defining struct fs_path",https://github.com/torvalds/linux/commit/2ddcf4962c1834a14340a1f50afafc3276c015bd
torvalds/linux,https://github.com/torvalds/linux,784faa8,Linus Torvalds,2025-12-03T22:16:49Z,"Merge tag 'rust-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/ojeda/linux  Pull Rust updates from Miguel Ojeda:  ""Toolchain and infrastructure:     - Add support for 'syn'.       Syn is a parsing library for parsing a stream of Rust tokens into a      syntax tree of Rust source code.       Currently this library is geared toward use in Rust procedural      macros, but contains some APIs that may be useful more generally.       'syn' allows us to greatly simplify writing complex macros such as      'pin-init' (Benno has already prepared the 'syn'-based version). We      will use it in the 'macros' crate too.       'syn' is the most downloaded Rust crate (according to crates.io),      and it is also used by the Rust compiler itself. While the amount      of code is substantial, there should not be many updates needed for      these crates, and even if there are, they should not be too big,      e.g. +7k -3k lines across the 3 crates in the last year.       'syn' requires two smaller dependencies: 'quote' and 'proc-macro2'.      I only modified their code to remove a third dependency      ('unicode-ident') and to add the SPDX identifiers. The code can be      easily verified to exactly match upstream with the provided      scripts.       They are all licensed under ""Apache-2.0 OR MIT"", like the other      vendored 'alloc' crate we had for a while.       Please see the merge commit with the cover letter for more context.     - Allow 'unreachable_pub' and 'clippy::disallowed_names' for      doctests.       Examples (i.e. doctests) may want to do things like show public      items and use names such as 'foo'.       Nevertheless, we still try to keep examples as close to real code      as possible (this is part of why running Clippy on doctests is      important for us, e.g. for safety comments, which userspace Rust      does not support yet but we are stricter).    'kernel' crate:     - Replace our custom 'CStr' type with 'core::ffi::CStr'.       Using the standard library type reduces our custom code footprint,      and we retain needed custom functionality through an extension      trait and a new 'fmt!' macro which replaces the previous 'core'      import.       This started in 6.17 and continued in 6.18, and we finally land the      replacement now. This required quite some stamina from Tamir, who      split the changes in steps to prepare for the flag day change here.     - Replace 'kernel::c_str!' with C string literals.       C string literals were added in Rust 1.77, which produce '&CStr's      (the 'core' one), so now we can write:           c""hi""       instead of:           c_str!(""hi"")     - Add 'num' module for numerical features.       It includes the 'Integer' trait, implemented for all primitive      integer types.       It also includes the 'Bounded' integer wrapping type: an integer      value that requires only the 'N' least significant bits of the      wrapped type to be encoded:           // An unsigned 8-bit integer, of which only the 4 LSBs are used.          let v = Bounded::<u8, 4>::new::<15>();          assert_eq!(v.get(), 15);       'Bounded' is useful to e.g. enforce guarantees when working with      bitfields that have an arbitrary number of bits.       Values can also be constructed from simple non-constant expressions      or, for more complex ones, validated at runtime.       'Bounded' also comes with comparison and arithmetic operations      (with both their backing type and other 'Bounded's with a      compatible backing type), casts to change the backing type,      extending/shrinking and infallible/fallible conversions from/to      primitives as applicable.     - 'rbtree' module: add immutable cursor ('Cursor').       It enables to use just an immutable tree reference where      appropriate. The existing fully-featured mutable cursor is renamed      to 'CursorMut'.    kallsyms:     - Fix wrong ""big"" kernel symbol type read from procfs.    'pin-init' crate:     - A couple minor fixes (Benno asked me to pick these patches up for      him this cycle).    Documentation:     - Quick Start guide: add Debian 13 (Trixie).       Debian Stable is now able to build Linux, since Debian 13 (released      2025-08-09) packages Rust 1.85.0, which is recent enough.       We are planning to propose that the minimum supported Rust version      in Linux follows Debian Stable releases, with Debian 13 being the      first one we upgrade to, i.e. Rust 1.85.    MAINTAINERS:     - Add entry for the new 'num' module.     - Remove Alex as Rust maintainer: he hasn't had the time to      contribute for a few years now, so it is a no-op change in      practice.    And a few other cleanups and improvements""  * tag 'rust-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/ojeda/linux: (53 commits)   rust: macros: support `proc-macro2`, `quote` and `syn`   rust: syn: enable support in kbuild   rust: syn: add `README.md`   rust: syn: remove `unicode-ident` dependency   rust: syn: add SPDX License Identifiers   rust: syn: import crate   rust: quote: enable support in kbuild   rust: quote: add `README.md`   rust: quote: add SPDX License Identifiers   rust: quote: import crate   rust: proc-macro2: enable support in kbuild   rust: proc-macro2: add `README.md`   rust: proc-macro2: remove `unicode_ident` dependency   rust: proc-macro2: add SPDX License Identifiers   rust: proc-macro2: import crate   rust: kbuild: support using libraries in `rustc_procmacro`   rust: kbuild: support skipping flags in `rustc_test_library`   rust: kbuild: add proc macro library support   rust: kbuild: simplify `--cfg` handling   rust: kbuild: introduce `core-flags` and `core-skip_flags`   ...",https://github.com/torvalds/linux/commit/784faa8eca8270671e0ed6d9d21f04bbb80fc5f7
torvalds/linux,https://github.com/torvalds/linux,51ab33f,Linus Torvalds,2025-12-03T21:46:48Z,Merge tag 'livepatching-for-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/livepatching/livepatching  Pull livepatching updates from Petr Mladek:   - Support both paths where tracefs is typically mounted in selftests   - Make old_sympos 0 and 1 equal. They both are valid when there is only    one symbol with the given name.  * tag 'livepatching-for-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/livepatching/livepatching:   selftests: livepatch: use canonical ftrace path   livepatch: Match old_sympos 0 and 1 in klp_find_func(),https://github.com/torvalds/linux/commit/51ab33fc0a8bef9454849371ef897a1241911b37
torvalds/linux,https://github.com/torvalds/linux,02baaa6,Linus Torvalds,2025-12-03T21:25:39Z,"Merge tag 'sched_ext-for-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/tj/sched_ext  Pull sched_ext updates from Tejun Heo:   - Improve recovery from misbehaving BPF schedulers.     When a scheduler puts many tasks with varying affinity restrictions    on a shared DSQ, CPUs scanning through tasks they cannot run can    overwhelm the system, causing lockups.     Bypass mode now uses per-CPU DSQs with a load balancer to avoid this,    and hooks into the hardlockup detector to attempt recovery.     Add scx_cpu0 example scheduler to demonstrate this scenario.   - Add lockless peek operation for DSQs to reduce lock contention for    schedulers that need to query queue state during load balancing.   - Allow scx_bpf_reenqueue_local() to be called from anywhere in    preparation for deprecating cpu_acquire/release() callbacks in favor    of generic BPF hooks.   - Prepare for hierarchical scheduler support: add    scx_bpf_task_set_slice() and scx_bpf_task_set_dsq_vtime() kfuncs,    make scx_bpf_dsq_insert*() return bool, and wrap kfunc args in    structs for future aux__prog parameter.   - Implement cgroup_set_idle() callback to notify BPF schedulers when a    cgroup's idle state changes.   - Fix migration tasks being incorrectly downgraded from    stop_sched_class to rt_sched_class across sched_ext enable/disable.    Applied late as the fix is low risk and the bug subtle but needs    stable backporting.   - Various fixes and cleanups including cgroup exit ordering,    SCX_KICK_WAIT reliability, and backward compatibility improvements.  * tag 'sched_ext-for-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/tj/sched_ext: (44 commits)   sched_ext: Fix incorrect sched_class settings for per-cpu migration tasks   sched_ext: tools: Removing duplicate targets during non-cross compilation   sched_ext: Use kvfree_rcu() to release per-cpu ksyncs object   sched_ext: Pass locked CPU parameter to scx_hardlockup() and add docs   sched_ext: Update comments replacing breather with aborting mechanism   sched_ext: Implement load balancer for bypass mode   sched_ext: Factor out abbreviated dispatch dequeue into dispatch_dequeue_locked()   sched_ext: Factor out scx_dsq_list_node cursor initialization into INIT_DSQ_LIST_CURSOR   sched_ext: Add scx_cpu0 example scheduler   sched_ext: Hook up hardlockup detector   sched_ext: Make handle_lockup() propagate scx_verror() result   sched_ext: Refactor lockup handlers into handle_lockup()   sched_ext: Make scx_exit() and scx_vexit() return bool   sched_ext: Exit dispatch and move operations immediately when aborting   sched_ext: Simplify breather mechanism with scx_aborting flag   sched_ext: Use per-CPU DSQs instead of per-node global DSQs in bypass mode   sched_ext: Refactor do_enqueue_task() local and global DSQ paths   sched_ext: Use shorter slice in bypass mode   sched_ext: Mark racy bitfields to prevent adding fields that can't tolerate races   sched_ext: Minor cleanups to scx_task_iter   ...",https://github.com/torvalds/linux/commit/02baaa67d9afc2e56c6e1ac6a1fb1f1dd2be366f
torvalds/linux,https://github.com/torvalds/linux,8449d32,Linus Torvalds,2025-12-03T21:04:07Z,Merge tag 'cgroup-for-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/tj/cgroup  Pull cgroup updates from Tejun Heo:   - Defer task cgroup unlink until after the dying task's final context    switch so that controllers see the cgroup properly populated until    the task is truly gone   - cpuset cleanups and simplifications.     Enforce that domain isolated CPUs stay in root or isolated partitions    and fail if isolated+nohz_full would leave no housekeeping CPU. Fix    sched/deadline root domain handling during CPU hot-unplug and race    for tasks in attaching cpusets   - Misc fixes including memory reclaim protection documentation and    selftest KTAP conformance  * tag 'cgroup-for-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/tj/cgroup: (21 commits)   cpuset: Treat cpusets in attaching as populated   sched/deadline: Walk up cpuset hierarchy to decide root domain when hot-unplug   cgroup/cpuset: Introduce cpuset_cpus_allowed_locked()   docs: cgroup: No special handling of unpopulated memcgs   docs: cgroup: Note about sibling relative reclaim protection   docs: cgroup: Explain reclaim protection target   selftests/cgroup: conform test to KTAP format output   cpuset: remove need_rebuild_sched_domains   cpuset: remove global remote_children list   cpuset: simplify node setting on error   cgroup: include missing header for struct irq_work   cgroup: Fix sleeping from invalid context warning on PREEMPT_RT   cgroup/cpuset: Globally track isolated_cpus update   cgroup/cpuset: Ensure domain isolated CPUs stay in root or isolated partition   cgroup/cpuset: Move up prstate_housekeeping_conflict() helper   cgroup/cpuset: Fail if isolated and nohz_full don't leave any housekeeping   cgroup/cpuset: Rename update_unbound_workqueue_cpumask() to update_isolation_cpumasks()   cgroup: Defer task cgroup unlink until after the task is done switching out   cgroup: Move dying_tasks cleanup from cgroup_task_release() to cgroup_task_free()   cgroup: Rename cgroup lifecycle hooks to cgroup_task_*()   ...,https://github.com/torvalds/linux/commit/8449d3252c2603a51ffc7c36cb5bd94874378b7d
torvalds/linux,https://github.com/torvalds/linux,09b71a5,Jarkko Sakkinen,2025-09-30T13:06:51Z,KEYS: trusted: Use tpm_ret_to_err() in trusted_tpm2  Use tpm_ret_to_err() to transmute TPM return codes in trusted_tpm2.  Signed-off-by: Jarkko Sakkinen <jarkko.sakkinen@opinsys.com> Acked-by: Stefano Garzarella <sgarzare@redhat.com> Signed-off-by: Jarkko Sakkinen <jarkko@kernel.org>,https://github.com/torvalds/linux/commit/09b71a58ee355ae09f302bd0875a29ffbcbbe3ac
torvalds/linux,https://github.com/torvalds/linux,7fcf459,Jarkko Sakkinen,2025-09-30T13:02:54Z,"tpm: Use -EPERM as fallback error code in tpm_ret_to_err  Using -EFAULT as the tpm_ret_to_err() fallback error code causes makes it incompatible on how trusted keys transmute TPM return codes.  Change the fallback as -EPERM in order to gain compatibility with trusted keys. In addition, map TPM_RC_HASH to -EINVAL in order to be compatible with tpm2_seal_trusted() return values.  Signed-off-by: Jarkko Sakkinen <jarkko.sakkinen@opinsys.com> Reviewed-by: Stefano Garzarella <sgarzare@redhat.com> Signed-off-by: Jarkko Sakkinen <jarkko@kernel.org>",https://github.com/torvalds/linux/commit/7fcf459ac84c42a4ef63a650dccc345602cf4da6
torvalds/linux,https://github.com/torvalds/linux,faf07e6,Jarkko Sakkinen,2025-09-30T12:58:02Z,"tpm: Cap the number of PCR banks  tpm2_get_pcr_allocation() does not cap any upper limit for the number of banks. Cap the limit to eight banks so that out of bounds values coming from external I/O cause on only limited harm.  Cc: stable@vger.kernel.org # v5.10+ Fixes: bcfff8384f6c (""tpm: dynamically allocate the allocated_banks array"") Tested-by: Lai Yi <yi1.lai@linux.intel.com> Reviewed-by: Jonathan McDowell <noodles@meta.com> Reviewed-by: Roberto Sassu <roberto.sassu@huawei.com> Signed-off-by: Jarkko Sakkinen <jarkko.sakkinen@opinsys.com>",https://github.com/torvalds/linux/commit/faf07e611dfa464b201223a7253e9dc5ee0f3c9e
torvalds/linux,https://github.com/torvalds/linux,020a0d8,Jonathan McDowell,2025-11-27T17:02:29Z,"tpm: Remove tpm_find_get_ops  tpm_find_get_ops() looks for the first valid TPM if the caller passes in NULL. All internal users have been converted to either associate themselves with a TPM directly, or call tpm_default_chip() as part of their setup. Remove the no longer necessary tpm_find_get_ops().  Reviewed-by: Jarkko Sakkinen <jarkko@kernel.org> Signed-off-by: Jonathan McDowell <noodles@meta.com> Signed-off-by: Jarkko Sakkinen <jarkko@kernel.org>",https://github.com/torvalds/linux/commit/020a0d8feac0fd8a6f6c545c55f5990875226a0b
torvalds/linux,https://github.com/torvalds/linux,e68407b,Marco Crivellari,2025-11-06T16:28:00Z,"tpm: add WQ_PERCPU to alloc_workqueue users  Currently if a user enqueues a work item using schedule_delayed_work() the used wq is ""system_wq"" (per-cpu wq) while queue_delayed_work() use WORK_CPU_UNBOUND (used when a cpu is not specified). The same applies to schedule_work() that is using system_wq and queue_work(), that makes use again of WORK_CPU_UNBOUND. This lack of consistency cannot be addressed without refactoring the API.  alloc_workqueue() treats all queues as per-CPU by default, while unbound workqueues must opt-in via WQ_UNBOUND.  This default is suboptimal: most workloads benefit from unbound queues, allowing the scheduler to place worker threads where they’re needed and reducing noise when CPUs are isolated.  This continues the effort to refactor workqueue APIs, which began with the introduction of new workqueues and a new alloc_workqueue flag in:  commit 128ea9f6ccfb (""workqueue: Add system_percpu_wq and system_dfl_wq"") commit 930c2ea566af (""workqueue: Add new WQ_PERCPU flag"")  This change adds a new WQ_PERCPU flag to explicitly request alloc_workqueue() to be per-cpu when WQ_UNBOUND has not been specified.  With the introduction of the WQ_PERCPU flag (equivalent to !WQ_UNBOUND), any alloc_workqueue() caller that doesn’t explicitly specify WQ_UNBOUND must now use WQ_PERCPU.  Once migration is complete, WQ_UNBOUND can be removed and unbound will become the implicit default.  Suggested-by: Tejun Heo <tj@kernel.org> Signed-off-by: Marco Crivellari <marco.crivellari@suse.com> Reviewed-by: Jarkko Sakkinen <jarkko@kernel.org> Signed-off-by: Jarkko Sakkinen <jarkko@kernel.org>",https://github.com/torvalds/linux/commit/e68407b6b0c7c5a4b873bbbd0758a2aed857dc3f
torvalds/linux,https://github.com/torvalds/linux,6187221,Stuart Yoder,2025-10-28T02:09:21Z,tpm_crb: add missing loc parameter to kerneldoc  Update the kerneldoc parameter definitions for __crb_go_idle and __crb_cmd_ready to include the loc parameter.  Signed-off-by: Stuart Yoder <stuart.yoder@arm.com> Reviewed-by: Jarkko Sakkinen <jarkko@kernel.org> Signed-off-by: Jarkko Sakkinen <jarkko@kernel.org>,https://github.com/torvalds/linux/commit/61872214870e0cb0dc2e6d823f2362f11e87f4eb
torvalds/linux,https://github.com/torvalds/linux,76b1a8a,Chu Guangqing,2025-11-25T02:30:30Z,"tpm_crb: Fix a spelling mistake  The spelling of the word ""requrest"" is incorrect; it should be ""request"".  Signed-off-by: Chu Guangqing <chuguangqing@inspur.com> Signed-off-by: Jarkko Sakkinen <jarkko@kernel.org>",https://github.com/torvalds/linux/commit/76b1a8aebe0d326fe85f7af139ab86a5c628a016
torvalds/linux,https://github.com/torvalds/linux,cffc934,Maurice Hieronymus,2025-11-23T11:18:09Z,"selftests: tpm2: Fix ill defined assertions  Remove parentheses around assert statements in Python. With parentheses, assert always evaluates to True, making the checks ineffective.  Signed-off-by: Maurice Hieronymus <mhi@mailbox.org> Signed-off-by: Jarkko Sakkinen <jarkko@kernel.org>",https://github.com/torvalds/linux/commit/cffc934c0d81c9dea3d63cc108e6f925a4bac18e
torvalds/linux,https://github.com/torvalds/linux,2b60145,Linus Torvalds,2025-12-03T20:50:10Z,"Merge tag 'wq-for-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/tj/wq  Pull workqueue updates from Tejun Heo:   - Rescuer affinity management: Affinity is now updated only when    detached using wq_unbound_cpumask consistently. DISASSOCIATED workers    also follow unbound cpumask changes to avoid breaking CPU isolation   - Rescuer cleanups preparing for fetching work items one by one from    pool list: Work assignment factored out, optimized to skip pwqs no    longer needing rescue, and shutdown logic simplified   - Unused assert_rcu_or_wq_mutex_or_pool_mutex() removed  * tag 'wq-for-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/tj/wq:   workqueue: Don't rely on wq->rescuer to stop rescuer   workqueue: Only assign rescuer work when really needed   workqueue: Factor out assign_rescuer_work()   workqueue: Init rescuer's affinities as wq_unbound_cpumask   workqueue: Let DISASSOCIATED workers follow unbound wq cpumask changes   workqueue: Update the rescuer's affinity only when it is detached   workqueue: Remove unused assert_rcu_or_wq_mutex_or_pool_mutex",https://github.com/torvalds/linux/commit/2b60145734a0e5a4b73952a540928d2c4f4fed64
torvalds/linux,https://github.com/torvalds/linux,4d38b88,Linus Torvalds,2025-12-03T20:42:36Z,"Merge tag 'printk-for-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/printk/linux  Pull printk updates from Petr Mladek:   - Allow creaing nbcon console drivers with an unsafe write_atomic()    callback that can only be called by the final nbcon_atomic_flush_unsafe().    Otherwise, the driver would rely on the kthread.     It is going to be used as the-best-effort approach for an    experimental nbcon netconsole driver, see       https://lore.kernel.org/r/20251121-nbcon-v1-2-503d17b2b4af@debian.org     Note that a safe .write_atomic() callback is supposed to work in NMI    context. But some networking drivers are not safe even in IRQ    context:       https://lore.kernel.org/r/oc46gdpmmlly5o44obvmoatfqo5bhpgv7pabpvb6sjuqioymcg@gjsma3ghoz35     In an ideal world, all networking drivers would be fixed first and    the atomic flush would be blocked only in NMI context. But it brings    the question how reliable networking drivers are when the system is    in a bad state. They might block flushing more reliable serial    consoles which are more suitable for serious debugging anyway.   - Allow to use the last 4 bytes of the printk ring buffer.   - Prevent queuing IRQ work and block printk kthreads when consoles are    suspended. Otherwise, they create non-necessary churn or even block    the suspend.   - Release console_lock() between each record in the kthread used for    legacy consoles on RT. It might significantly speed up the boot.   - Release nbcon context between each record in the atomic flush. It    prevents stalls of the related printk kthread after it has lost the    ownership in the middle of a record   - Add support for NBCON consoles into KDB   - Add %ptsP modifier for printing struct timespec64 and use it where    possible   - Misc code clean up  * tag 'printk-for-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/printk/linux: (48 commits)   printk: Use console_is_usable on console_unblank   arch: um: kmsg_dump: Use console_is_usable   drivers: serial: kgdboc: Drop checks for CON_ENABLED and CON_BOOT   lib/vsprintf: Unify FORMAT_STATE_NUM handlers   printk: Avoid irq_work for printk_deferred() on suspend   printk: Avoid scheduling irq_work on suspend   printk: Allow printk_trigger_flush() to flush all types   tracing: Switch to use %ptSp   scsi: snic: Switch to use %ptSp   scsi: fnic: Switch to use %ptSp   s390/dasd: Switch to use %ptSp   ptp: ocp: Switch to use %ptSp   pps: Switch to use %ptSp   PCI: epf-test: Switch to use %ptSp   net: dsa: sja1105: Switch to use %ptSp   mmc: mmc_test: Switch to use %ptSp   media: av7110: Switch to use %ptSp   ipmi: Switch to use %ptSp   igb: Switch to use %ptSp   e1000e: Switch to use %ptSp   ...",https://github.com/torvalds/linux/commit/4d38b88fd17e9989429e65420bf3c33ca53b2085
torvalds/linux,https://github.com/torvalds/linux,4a4e019,Linus Torvalds,2025-12-03T20:41:00Z,Merge tag 'lkmm.2025.12.01a' of git://git.kernel.org/pub/scm/linux/kernel/git/paulmck/linux-rcu  Pull lkmm documentation update from Paul McKenney:   - Sort the memory-barriers.txt file's wait_event* and wait_on_bit* list    alphabetically  * tag 'lkmm.2025.12.01a' of git://git.kernel.org/pub/scm/linux/kernel/git/paulmck/linux-rcu:   memory-barriers.txt: Sort wait_event* and wait_on_bit* list alphabetically,https://github.com/torvalds/linux/commit/4a4e0199378f309fa7259132e1443efe56c1e276
torvalds/linux,https://github.com/torvalds/linux,cd6b7c8,Bjorn Helgaas,2025-12-03T20:18:46Z,Merge branch 'pci/misc'  - Use max() instead of max_t() to ease static analysis (David Laight)  - Add Manivannan Sadhasivam as PCI/pwrctrl maintainer (Bartosz Golaszewski)  * pci/misc:   MAINTAINERS: Add Manivannan Sadhasivam as PCI/pwrctrl maintainer   PCI: Use max() instead of max_t() to ease static analysis,https://github.com/torvalds/linux/commit/cd6b7c82b69139070ee1aaa73f768ecac99e4c3e
torvalds/linux,https://github.com/torvalds/linux,9f1aa39,Bjorn Helgaas,2025-12-03T20:18:45Z,"Merge branch 'pci/pwrctrl-tc9563'  - Add a struct pci_ops.assert_perst() function pointer to assert/deassert   PCIe PERST# and implement it for the qcom driver (Krishna Chaitanya   Chundru)  - Add DT binding and pwrctrl driver for the Toshiba TC9563 PCIe switch,   which must be held in reset after poweron so the pwrctrl driver can   configure the switch via I2C before bringing up the links (Krishna   Chaitanya Chundru)  * pci/pwrctrl-tc9563:   PCI: pwrctrl: Add power control driver for TC9563   PCI: qcom: Implement .assert_perst()   PCI: dwc: Implement .assert_perst() for dwc glue drivers   PCI: Add .assert_perst() to control PCIe PERST#   dt-bindings: PCI: Add binding for Toshiba TC9563 PCIe switch",https://github.com/torvalds/linux/commit/9f1aa395ad7889685ce7ea69a1a5badfacfce5e4
torvalds/linux,https://github.com/torvalds/linux,7a13e83,Bjorn Helgaas,2025-12-03T20:18:45Z,Merge branch 'pci/controller/stm32'  - Fix a race between link training and endpoint register initialization   (Christian Bruel)  - Align endpoint allocations to match the ATU requirements (Christian   Bruel)  - Add #includes to avoid depending on 'proxy' headers (Andy Shevchenko)  * pci/controller/stm32:   PCI: stm32: Don't use 'proxy' headers   PCI: stm32: Fix EP page_size alignment   PCI: stm32: Fix LTSSM EP race with start link,https://github.com/torvalds/linux/commit/7a13e837d20f7b02304df596fdcf63dc7ef05d59
torvalds/linux,https://github.com/torvalds/linux,388f9a6,Bjorn Helgaas,2025-12-03T20:18:44Z,Merge branch 'pci/controller/spacemit-k1'  - Add DT binding and driver for SpacemiT K1 (Alex Elder)  * pci/controller/spacemit-k1:   PCI: spacemit: Add SpacemiT PCIe host driver   dt-bindings: pci: spacemit: Introduce PCIe host controller,https://github.com/torvalds/linux/commit/388f9a600f10000b15fbfa2ee748530b4876db78
torvalds/linux,https://github.com/torvalds/linux,80a4441,Bjorn Helgaas,2025-12-03T20:18:43Z,Merge branch 'pci/controller/sky1'  - Add module support for platform controller driver (Manikandan K Pillai)  - Split headers into 'legacy' (LGA) and 'high perf' (HPA) (Manikandan K   Pillai)  - Add DT binding and driver for CIX Sky1 (Hans Zhang)  * pci/controller/sky1:   MAINTAINERS: Add CIX Sky1 PCIe controller driver maintainer   PCI: sky1: Add PCIe host support for CIX Sky1   dt-bindings: PCI: Add CIX Sky1 PCIe Root Complex bindings   PCI: cadence: Add support for High Perf Architecture (HPA) controller   PCI: cadence: Move PCIe RP common functions to a separate file   PCI: cadence: Split PCIe controller header file   PCI: cadence: Add module support for platform controller driver,https://github.com/torvalds/linux/commit/80a4441ce30431eeeba2a9a3e1b6059828cb4d8a
torvalds/linux,https://github.com/torvalds/linux,af257c7,Bjorn Helgaas,2025-12-03T20:18:43Z,Merge branch 'pci/controller/sg2042'  - Fix sg2042_pcie_remove() reference count issue (Christophe JAILLET)  * pci/controller/sg2042:   PCI: sg2042: Fix a reference count issue in sg2042_pcie_remove(),https://github.com/torvalds/linux/commit/af257c730f04c9dace3efb091b37d57ed3a4f239
torvalds/linux,https://github.com/torvalds/linux,dfb77c8,Bjorn Helgaas,2025-12-03T20:18:42Z,Merge branch 'pci/controller/s32g'  - Add NXP S32G host controller DT binding and driver (Vincent Guittot)  * pci/controller/s32g:   MAINTAINERS: Add NXP S32G PCIe controller driver maintainer   PCI: s32g: Add NXP S32G PCIe controller driver (RC)   PCI: dwc: Add register and bitfield definitions   dt-bindings: PCI: s32g: Add NXP S32G PCIe controller,https://github.com/torvalds/linux/commit/dfb77c81a68309182a458cb76c72fedfe8834482
torvalds/linux,https://github.com/torvalds/linux,c934541,Bjorn Helgaas,2025-12-03T20:18:41Z,Merge branch 'pci/controller/rzg3s-host'  - Add Renesas RZ/G3S host controller DT binding and driver (Claudiu Beznea)  * pci/controller/rzg3s-host:   PCI: Add Renesas RZ/G3S host controller driver   dt-bindings: PCI: Add Renesas RZ/G3S PCIe controller binding,https://github.com/torvalds/linux/commit/c934541253d074c6aaa1ad9ce233e5c160ac43eb
torvalds/linux,https://github.com/torvalds/linux,e4f4424,Bjorn Helgaas,2025-12-03T20:18:41Z,Merge branch 'pci/controller/rcar-gen2'  - Drop ARM dependency so we can build test on other arches (Geert   Uytterhoeven)  * pci/controller/rcar-gen2:   PCI: rcar-gen2: Drop ARM dependency from PCI_RCAR_GEN2,https://github.com/torvalds/linux/commit/e4f4424f062dd0a497aa5321b61e92f938ff799e
torvalds/linux,https://github.com/torvalds/linux,3684852,Bjorn Helgaas,2025-12-03T20:18:40Z,Merge branch 'pci/controller/qcom'  - Look up OPP using both frequency and data rate (not just frequency) so   RPMh votes can account for both (Krishna Chaitanya Chundru)  * pci/controller/qcom:   PCI: qcom: Use frequency and level based OPP lookup,https://github.com/torvalds/linux/commit/368485218c7aba3268978d1cbad4836deef4bdc9
torvalds/linux,https://github.com/torvalds/linux,88b8b5b,Bjorn Helgaas,2025-12-03T20:18:39Z,"Merge branch 'pci/controller/meson'  - Update DT binding to name DBI region ""dbi"", not ""elbi"", and update driver   to support both (Manivannan Sadhasivam)  * pci/controller/meson:   PCI: meson: Fix parsing the DBI register region   dt-bindings: PCI: amlogic: Fix the register name of the DBI region",https://github.com/torvalds/linux/commit/88b8b5b3eab25cdd3ef9b4efafd1db1d1b83d5e7
torvalds/linux,https://github.com/torvalds/linux,9563c34,Bjorn Helgaas,2025-12-03T20:18:38Z,Merge branch 'pci/controller/mediatek'  - Convert DT binding to YAML schema (Christian Marangi)  - Add Airoha AN7583 DT compatible and driver support (Christian Marangi)  * pci/controller/mediatek:   PCI: mediatek: Add support for Airoha AN7583 SoC   PCI: mediatek: Use generic MACRO for TPVPERL delay   PCI: mediatek: Convert bool to single quirks entry and bitmap   dt-bindings: PCI: mediatek: Add support for Airoha AN7583   dt-bindings: PCI: mediatek: Convert to YAML schema,https://github.com/torvalds/linux/commit/9563c343d921332a939c58b7a9dffb383d3136b4
torvalds/linux,https://github.com/torvalds/linux,5606b7b,Bjorn Helgaas,2025-12-03T20:18:38Z,"Merge branch 'pci/controller/keystone'  - Fail the probe instead of silently succeeding if ks_pcie_of_data   didn't specify Root Complex or Endpoint mode (Siddharth Vadapalli)  - Make keystone buildable as a loadable module, except on ARM32 where   hook_fault_code() is __init (Siddharth Vadapalli)  * pci/controller/keystone:   PCI: keystone: Add support to build as a loadable module   PCI: dwc: Export dw_pcie_allocate_domains() and dw_pcie_ep_raise_msix_irq()   PCI: Export pci_get_host_bridge_device() for use by pci-keystone   PCI: keystone: Exit ks_pcie_probe() for invalid mode",https://github.com/torvalds/linux/commit/5606b7bad00c65b4d006f4555bb111332fce4384
torvalds/linux,https://github.com/torvalds/linux,51f8276,Bjorn Helgaas,2025-12-03T20:18:37Z,Merge branch 'pci/controller/j721e'  - Use devm_clk_get_optional_enabled() instead of open-coding   devm_clk_get_optional() and clk_prepare_enable() (Anand Moon)  * pci/controller/j721e:   PCI: j721e: Use 'pcie->reset_gpio' directly and drop the local variable   PCI: j721e: Use devm_clk_get_optional_enabled() to get and enable the clock,https://github.com/torvalds/linux/commit/51f8276926bc600eeefe4c3dfbc1cf8cf73b9042
torvalds/linux,https://github.com/torvalds/linux,3041820,Bjorn Helgaas,2025-12-03T20:18:36Z,Merge branch 'pci/controller/ixp4xx'  - Guard ARM32-specific hook_fault_code() with ifdefs so we can build test   on other arches (Bjorn Helgaas)  * pci/controller/ixp4xx:   PCI: ixp4xx: Guard ARM32-specific hook_fault_code(),https://github.com/torvalds/linux/commit/30418204caa4e037da50518e096a05b879f220ab
torvalds/linux,https://github.com/torvalds/linux,dddd612,Bjorn Helgaas,2025-12-03T20:18:36Z,Merge branch 'pci/controller/dw-rockchip'  - Use devm_regulator_get_enable_optional() to simplify probing (Anand Moon)  * pci/controller/dw-rockchip:   PCI: dw-rockchip: Simplify regulator setup with devm_regulator_get_enable_optional(),https://github.com/torvalds/linux/commit/dddd6122d026b00eed28b55ed06be097f3fc78c0
torvalds/linux,https://github.com/torvalds/linux,2b12e31,Bjorn Helgaas,2025-12-03T20:18:35Z,"Merge branch 'pci/controller/dwc'  - Update PORT_LOGIC_LTSSM_STATE_MASK to be a 6-bit mask as per spec, not a   5-bit mask (Shawn Lin)  - Clear L1 PM Substate Capability 'Supported' bits unless glue driver says   it's supported, which prevents users from enabling non-working L1SS.   Currently only qcom and tegra194 support L1SS (Bjorn Helgaas)  - Remove now-superfluous L1SS disable code from tegra194 (Bjorn Helgaas)  - Configure L1SS support in dw-rockchip when DT says 'supports-clkreq'   (Shawn Lin)  * pci/controller/dwc:   PCI: dw-rockchip: Configure L1SS support   PCI: tegra194: Remove unnecessary L1SS disable code   PCI: dwc: Advertise L1 PM Substates only if driver requests it   PCI: dwc: Fix wrong PORT_LOGIC_LTSSM_STATE_MASK definition",https://github.com/torvalds/linux/commit/2b12e31cb39d681d8844254ca9db1e92cb562c8f
torvalds/linux,https://github.com/torvalds/linux,f4620f6,Bjorn Helgaas,2025-12-03T20:18:35Z,Merge branch 'pci/controller/brcmstb'  - Disable advertising ASPM L0s support correctly (Jim Quinlan)  - Add a panic/die handler to print diagnostic info in case PCIe caused an   unrecoverable abort (Jim Quinlan)  * pci/controller/brcmstb:   PCI: brcmstb: Add panic/die handler to driver   PCI: brcmstb: Add a way to indicate if PCIe bridge is active   PCI: brcmstb: Fix disabling L0s capability,https://github.com/torvalds/linux/commit/f4620f6216dbfb5ef8b31bc3eb558cde0b20913a
torvalds/linux,https://github.com/torvalds/linux,12390db,Bjorn Helgaas,2025-12-03T20:18:34Z,"Merge branch 'pci/controller/host-common'  - Move struct pci_host_bridge allocation from pci_host_common_init() to   callers, which significantly simplifies pcie-apple (Marc Zyngier)  * pci/controller/host-common:   PCI: host-generic: Move bridge allocation outside of pci_host_common_init()",https://github.com/torvalds/linux/commit/12390db236b395609178114d259f9f4ac62acaaf
torvalds/linux,https://github.com/torvalds/linux,87a194e,Bjorn Helgaas,2025-12-03T20:18:33Z,Merge branch 'pci/endpoint'  - Convert the endpoint doorbell test to use a threaded IRQ to fix a   'sleeping while atomic' issue (Bhanu Seshu Kumar Valluri)  - Add endpoint VNTB MSI doorbell support to reduce latency between host and   endpoint (Frank Li)  * pci/endpoint:   PCI: endpoint: pci-epf-vntb: Add MSI doorbell support   PCI: endpoint: Add pci_epf_assign_bar_space() API   PCI: endpoint: Add pci_epf_get_required_bar_size() helper   PCI: endpoint: Rename 'epf_bar::aligned_size' to 'epf_bar:mem_size'   PCI: endpoint: pci-epf-test: Fix sleeping function being called from atomic context,https://github.com/torvalds/linux/commit/87a194e67202a1279c7484ba438eb14206359349
torvalds/linux,https://github.com/torvalds/linux,f26a75c,Bjorn Helgaas,2025-12-03T20:18:33Z,"Merge branch 'pci/dt-binding'  - Add Rockchip RK3528 compatible strings in DT binding (Yao Zi)  - Add Qualcomm Kaanapali to SM8550 DT binding (Qiang Yu)  - Add 'contains' to the 'select' schema to enable the amlogic,axg-pcie   binding (Rob Herring)  - Update Manivannan Sadhasivam's email address in bindings (Manivannan   Sadhasivam)  - Add required 'power-domains' and 'resets' to qcom sa8775p, sc7280,   sc8280xp, sm8150, sm8250, sm8350, sm8450, sm8550, x1e80100 DT schemas   (Krzysztof Kozlowski)  * pci/dt-binding:   dt-bindings: PCI: qcom,pcie-x1e80100: Add missing required power-domains and resets   dt-bindings: PCI: qcom,pcie-sm8550: Add missing required power-domains and resets   dt-bindings: PCI: qcom,pcie-sm8450: Add missing required power-domains and resets   dt-bindings: PCI: qcom,pcie-sm8350: Add missing required power-domains and resets   dt-bindings: PCI: qcom,pcie-sm8250: Add missing required power-domains and resets   dt-bindings: PCI: qcom,pcie-sm8150: Add missing required power-domains and resets   dt-bindings: PCI: qcom,pcie-sc8280xp: Add missing required power-domains and resets   dt-bindings: PCI: qcom,pcie-sc7280: Add missing required power-domains and resets   dt-bindings: PCI: qcom,pcie-sa8775p: Add missing required power-domains and resets   dt-bindings: PCI: Update the email address for Manivannan Sadhasivam   dt-bindings: PCI: amlogic,axg-pcie: Fix select schema   dt-bindings: PCI: qcom,pcie-sm8550: Add Kaanapali compatible   dt-bindings: PCI: dwc: rockchip: Add RK3528 variant",https://github.com/torvalds/linux/commit/f26a75c9b3b918b499de538d6c3e324e29ed4c05
torvalds/linux,https://github.com/torvalds/linux,1357158,Bjorn Helgaas,2025-12-03T20:18:32Z,"Merge branch 'pci/resource'  - Prevent resource tree corruption when BAR resize fails (Ilpo Järvinen)  - Restore BARs to the original size if a BAR resize fails (Ilpo Järvinen)  - Remove BAR release from BAR resize attempts by the xe, i915, and amdgpu   drivers so the PCI core can restore BARs if the resize fails (Ilpo   Järvinen)  - Move Resizable BAR code to rebar.c (Ilpo Järvinen)  - Add pci_rebar_size_supported() and use it in i915 and xe (Ilpo Järvinen)  - Add pci_rebar_get_max_size() and use it in xe and amdgpu (Ilpo Järvinen)  * pci/resource:   PCI: Validate pci_rebar_size_supported() input   PCI: Convert BAR sizes bitmasks to u64   drm/amdgpu: Use pci_rebar_get_max_size()   drm/xe/vram: Use pci_rebar_get_max_size()   PCI: Add pci_rebar_get_max_size()   drm/xe/vram: Use PCI rebar helpers in resize_vram_bar()   drm/i915/gt: Use pci_rebar_size_supported()   PCI: Add pci_rebar_size_supported() helper   PCI: Improve Resizable BAR functions kernel doc   PCI: Move pci_rebar_size_to_bytes() and export it   PCI: Move pci_rebar_bytes_to_size() and clean it up   PCI: Move Resizable BAR code to rebar.c   PCI: Prevent restoring assigned resources   drm/amdgpu: Remove driver side BAR release before resize   drm/i915: Remove driver side BAR release before resize   drm/xe: Remove driver side BAR release before resize   PCI: Add kerneldoc for pci_resize_resource()   PCI: Fix restoring BARs on BAR resize rollback path   PCI: Free saved list without holding pci_bus_sem   PCI: Try BAR resize even when no window was released   PCI: Change pci_dev variable from 'bridge' to 'dev'   PCI/IOV: Adjust ->barsz[] when changing BAR size   PCI: Prevent resource tree corruption when BAR resize fails",https://github.com/torvalds/linux/commit/13571584e1dafb6465243772bd61edfc5231b30b
torvalds/linux,https://github.com/torvalds/linux,c1e900d,Bjorn Helgaas,2025-12-03T20:18:31Z,"Merge branch 'pci/ptm'  - Enable PTM only if device advertises support for a relevant role, to   prevent invalid PTM Requests that cause ACS violations that are reported   as AER Uncorrectable Non-Fatal errors (Mika Westerberg)  * pci/ptm:   PCI/PTM: Enable only if device advertises relevant role",https://github.com/torvalds/linux/commit/c1e900de220905173c6cef42adf97e8020f64027
torvalds/linux,https://github.com/torvalds/linux,5c5b875,Bjorn Helgaas,2025-12-03T20:18:31Z,"Merge branch 'pci/err'  - For drivers using PCI legacy suspend, save config state at suspend so   that state (not any earlier state from enumeration, probe, or error   recovery) will be restored when resuming (Lukas Wunner)  - For devices with no driver or a driver that lacks PM, save config state   at hibernate so that state (not any earlier state from enumeration,   probe, or error recovery) will be restored when resuming (Lukas Wunner)  - Save device config space on device addition, before driver binding, so   error recovery works more reliably (Lukas Wunner)  - Drop pci_save_state() from several drivers that no longer need it since   the PCI core always does it and pci_restore_state() no longer invalidates   the saved state (Lukas Wunner)  - Document use of pci_save_state() by drivers to capture the state they   want restored during error recovery (Lukas Wunner)  * pci/err:   Documentation: PCI: Amend error recovery doc with pci_save_state() rules   treewide: Drop pci_save_state() after pci_restore_state()   PCI/ERR: Ensure error recoverability at all times   PCI/PM: Stop needlessly clearing state_saved on enumeration and thaw   PCI/PM: Reinstate clearing state_saved in legacy and !PM codepaths",https://github.com/torvalds/linux/commit/5c5b8751e563ff8e9ef45816d703b5cf1feb80fa
torvalds/linux,https://github.com/torvalds/linux,e0910b3,Bjorn Helgaas,2025-12-03T20:18:30Z,Merge branch 'pci/enumeration'  - Enable host bridge emulation for PCI_DOMAINS_GENERIC platforms (Dan   Williams)  - Switch vmd from custom domain number allocator to the common allocator   (Dan Williams)  * pci/enumeration:   PCI: vmd: Switch to pci_bus_find_emul_domain_nr()   PCI: Enable host bridge emulation for PCI_DOMAINS_GENERIC platforms,https://github.com/torvalds/linux/commit/e0910b31ebda61b9914698892ab1b8a33feaf595
torvalds/linux,https://github.com/torvalds/linux,98e7dcb,Linus Torvalds,2025-12-03T20:18:07Z,"Merge tag 'rcu.release.v6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/rcu/linux  Pull RCU updates from Frederic Weisbecker:  ""SRCU:     - Properly handle SRCU readers within IRQ disabled sections in tiny      SRCU     - Preparation to reimplement RCU Tasks Trace on top of SRCU fast:        - Introduce API to expedite a grace period and test it through         rcutorture        - Split srcu-fast in two flavours: SRCU-fast and SRCU-fast-updown.          Both are still targeted toward faster readers (without full         barriers on LOCK and UNLOCK) at the expense of heavier write         side (using full RCU grace period ordering instead of simply         full ordering) as compared to ""traditional"" non-fast SRCU. But         those srcu-fast flavours are going to be optimized in two         different ways:            - SRCU-fast will become the reimplementation basis for             RCU-TASK-TRACE for consolidation. Since RCU-TASK-TRACE must             be NMI safe, SRCU-fast must be as well.            - SRCU-fast-updown will be needed for uretprobes code in order             to get rid of the read-side memory barriers while still             allowing entering the reader at task level while exiting it             in a timer handler. It is considered semaphore-like in that             it can have different owners between LOCK and UNLOCK.             However it is not NMI-safe.          The actual optimizations are work in progress for the next         cycle. Only the new interfaces are added for now, along with         related torture and scalability test code.     - Create/document/debug/torture new proper initializers for RCU fast:      DEFINE_SRCU_FAST() and init_srcu_struct_fast()       This allows for using right away the proper ordering on the write      side (either full ordering or full RCU grace period ordering)      without waiting for the read side to tell which to use.       This also optimizes the read side altogether with moving flavour      debug checks under debug config and with removing a costly RmW      operation on their first call.     - Make some diagnostic functions tracing safe    Refscale:     - Add performance testing for common context synchronizations      (Preemption, IRQ, Softirq) and per-cpu increments. Those are      relevant comparisons against SRCU-fast read side APIs, especially      as they are planned to synchronize further tracing fast-path code    Miscellanous:     - In order to prepare the layout for nohz_full work deferral to user      exit, the context tracking state must shrink the counter of      transitions to/from RCU not watching. The only possible hazard is      to trigger wrap-around more easily, delaying a bit grace periods      when that happens. This should be a rare event though. Yet add      debugging and torture code to test that assumption     - Fix memory leak on locktorture module     - Annotate accesses in rculist_nulls.h to prevent from KCSAN      warnings. On recent discussions, we also concluded that all those      WRITE_ONCE() and READ_ONCE() on list APIs deserve appropriate      comments. Something to be expected for the next cycle     - Provide a script to apply several configs to several commits with      torture     - Allow torture to reuse a build directory in order to save needless      rebuild time     - Various cleanups""  * tag 'rcu.release.v6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/rcu/linux: (29 commits)   refscale: Add SRCU-fast-updown readers   refscale: Exercise DEFINE_STATIC_SRCU_FAST() and init_srcu_struct_fast()   rcutorture: Make srcu{,d}_torture_init() announce the SRCU type   srcu: Create an SRCU-fast-updown API   refscale: Do not disable interrupts for tests involving local_bh_enable()   refscale: Add non-atomic per-CPU increment readers   refscale: Add this_cpu_inc() readers   refscale: Add preempt_disable() readers   refscale: Add local_bh_disable() readers   refscale: Add local_irq_disable() and local_irq_save() readers   torture: Permit negative kvm.sh --kconfig numberic arguments   srcu: Add SRCU_READ_FLAVOR_FAST_UPDOWN CPP macro   rcu: Mark diagnostic functions as notrace   rcutorture: Make TREE04 use CONFIG_RCU_DYNTICKS_TORTURE   rcutorture: Remove redundant rcutorture_one_extend() from rcu_torture_one_read()   rcutorture: Permit kvm-again.sh to re-use the build directory   torture: Add kvm-series.sh to test commit/scenario combination   rcu: use WRITE_ONCE() for ->next and ->pprev of hlist_nulls   locktorture: Fix memory leak in param_set_cpumask()   doc: Update for SRCU-fast definitions and initialization   ...",https://github.com/torvalds/linux/commit/98e7dcbb82fa57de8dfad357f9b851c3625797fa
torvalds/linux,https://github.com/torvalds/linux,b687034,Linus Torvalds,2025-12-03T19:53:47Z,"Merge tag 'slab-for-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/vbabka/slab  Pull slab updates from Vlastimil Babka:   - mempool_alloc_bulk() support for upcoming users in the block layer    that need to allocate multiple objects at once with the mempool's    guaranteed progress semantics, which is not achievable with an    allocation single objects in a loop. Along with refactoring and    various improvements (Christoph Hellwig)   - Preparations for the upcoming separation of struct slab from struct    page, mostly by removing the struct folio layer, as the purpose of    struct folio has shifted since it became used in slab code (Matthew    Wilcox)   - Modernisation of slab's boot param API usage, which removes some    unexpected parsing corner cases (Petr Tesarik)   - Refactoring of freelist_aba_t (now struct freelist_counters) and    associated functions for double cmpxchg, enabled by -fms-extensions    (Vlastimil Babka)   - Cleanups and improvements related to sheaves caching layer, that were    part of the full conversion to sheaves, which is planned for the next    release (Vlastimil Babka)  * tag 'slab-for-6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/vbabka/slab: (42 commits)   slab: Remove unnecessary call to compound_head() in alloc_from_pcs()   mempool: clarify behavior of mempool_alloc_preallocated()   mempool: drop the file name in the top of file comment   mempool: de-typedef   mempool: remove mempool_{init,create}_kvmalloc_pool   mempool: legitimize the io_schedule_timeout in mempool_alloc_from_pool   mempool: add mempool_{alloc,free}_bulk   mempool: factor out a mempool_alloc_from_pool helper   slab: Remove references to folios from virt_to_slab()   kasan: Remove references to folio in __kasan_mempool_poison_object()   memcg: Convert mem_cgroup_from_obj_folio() to mem_cgroup_from_obj_slab()   mempool: factor out a mempool_adjust_gfp helper   mempool: add error injection support   mempool: improve kerneldoc comments   mm: improve kerneldoc comments for __alloc_pages_bulk   fault-inject: make enum fault_flags available unconditionally   usercopy: Remove folio references from check_heap_object()   slab: Remove folio references from kfree_nolock()   slab: Remove folio references from kfree_rcu_sheaf()   slab: Remove folio references from build_detached_freelist()   ...",https://github.com/torvalds/linux/commit/b687034b1a4d85333ced0fe07f67b17276cccdc8
torvalds/linux,https://github.com/torvalds/linux,f961638,Linus Torvalds,2025-12-03T19:34:28Z,"Merge tag 'docs-6.19' of git://git.lwn.net/linux  Pull documentation updates from Jonathan Corbet:  ""This has been another busy cycle for documentation, with a lot of   build-system thrashing. That work should slow down from here on out.     - The various scripts and tools for documentation were spread out in      several directories; now they are (almost) all coalesced under      tools/docs/. The holdout is the kernel-doc script, which cannot be      easily moved without some further thought.     - As the amount of Python code increases, we are accumulating modules      that are imported by multiple programs. These modules have been      pulled together under tools/lib/python/ -- at least, for      documentation-related programs. There is other Python code in the      tree that might eventually want to move toward this organization.     - The Perl kernel-doc.pl script has been removed. It is no longer      used by default, and nobody has missed it, least of all anybody who      actually had to look at it.     - The docs build was controlled by a complex mess of makefilese that      few dared to touch. Mauro has moved that logic into a new program      (tools/docs/sphinx-build-wrapper) that, with any luck at all, will      be far easier to understand and maintain.     - The get_feat.pl program, used to access information under      Documentation/features/, has been rewritten in Python, bringing an      end to the use of Perl in the docs subsystem.     - The top-level README file has been reorganized into a more      reader-friendly presentation.     - A lot of Chinese translation additions     - Typo fixes and documentation updates as usual""  * tag 'docs-6.19' of git://git.lwn.net/linux: (164 commits)   docs: makefile: move rustdoc check to the build wrapper   README: restructure with role-based documentation and guidelines   docs: kdoc: various fixes for grammar, spelling, punctuation   docs: kdoc_parser: use '@' for Excess enum value   docs: submitting-patches: Clarify that removal of Acks needs explanation too   docs: kdoc_parser: add data/function attributes to ignore   docs: MAINTAINERS: update Mauro's files/paths   docs/zh_CN: Add wd719x.rst translation   docs/zh_CN: Add libsas.rst translation   get_feat.pl: remove it, as it got replaced by get_feat.py   Documentation/sphinx/kernel_feat.py: use class directly   tools/docs/get_feat.py: convert get_feat.pl to Python   Documentation/admin-guide: fix typo and comment in cscope example   docs/zh_CN: Add data-integrity.rst translation   docs/zh_CN: Add blk-mq.rst translation   docs/zh_CN: Add block/index.rst translation   docs/zh_CN: Update the Chinese translation of kbuild.rst   docs: bring some order to our Python module hierarchy   docs: Move the python libraries to tools/lib/python   Documentation/kernel-parameters: Move the kernel build options   ...",https://github.com/torvalds/linux/commit/f96163865a1346b199cc38e827269296f0f24ab0
torvalds/linux,https://github.com/torvalds/linux,a619fe3,Linus Torvalds,2025-12-03T19:28:38Z,"Merge tag 'v6.19-p1' of git://git.kernel.org/pub/scm/linux/kernel/git/herbert/crypto-2.6  Pull crypto updates from Herbert Xu:  ""API:    - Rewrite memcpy_sglist from scratch    - Add on-stack AEAD request allocation    - Fix partial block processing in ahash    Algorithms:    - Remove ansi_cprng    - Remove tcrypt tests for poly1305    - Fix EINPROGRESS processing in authenc    - Fix double-free in zstd    Drivers:    - Use drbg ctr helper when reseeding xilinx-trng    - Add support for PCI device 0x115A to ccp    - Add support of paes in caam    - Add support for aes-xts in dthev2    Others:    - Use likely in rhashtable lookup    - Fix lockdep false-positive in padata by removing a helper""  * tag 'v6.19-p1' of git://git.kernel.org/pub/scm/linux/kernel/git/herbert/crypto-2.6: (71 commits)   crypto: zstd - fix double-free in per-CPU stream cleanup   crypto: ahash - Zero positive err value in ahash_update_finish   crypto: ahash - Fix crypto_ahash_import with partial block data   crypto: lib/mpi - use min() instead of min_t()   crypto: ccp - use min() instead of min_t()   hwrng: core - use min3() instead of nested min_t()   crypto: aesni - ctr_crypt() use min() instead of min_t()   crypto: drbg - Delete unused ctx from struct sdesc   crypto: testmgr - Add missing DES weak and semi-weak key tests   Revert ""crypto: scatterwalk - Move skcipher walk and use it for memcpy_sglist""   crypto: scatterwalk - Fix memcpy_sglist() to always succeed   crypto: iaa - Request to add Kanchana P Sridhar to Maintainers.   crypto: tcrypt - Remove unused poly1305 support   crypto: ansi_cprng - Remove unused ansi_cprng algorithm   crypto: asymmetric_keys - fix uninitialized pointers with free attribute   KEYS: Avoid -Wflex-array-member-not-at-end warning   crypto: ccree - Correctly handle return of sg_nents_for_len   crypto: starfive - Correctly handle return of sg_nents_for_len   crypto: iaa - Fix incorrect return value in save_iaa_wq()   crypto: zstd - Remove unnecessary size_t cast   ...",https://github.com/torvalds/linux/commit/a619fe35ab41fded440d3762d4fbad84ff86a4d4
torvalds/linux,https://github.com/torvalds/linux,c832183,Linus Torvalds,2025-12-03T19:19:34Z,"Merge tag 'ipe-pr-20251202' of git://git.kernel.org/pub/scm/linux/kernel/git/wufan/ipe  Pull IPE udates from Fan Wu:  ""The primary change is the addition of support for the AT_EXECVE_CHECK   flag. This allows interpreters to signal the kernel to perform IPE   security checks on script files before execution, extending IPE   enforcement to indirectly executed scripts.    Update documentation for it, and also fix a comment""  * tag 'ipe-pr-20251202' of git://git.kernel.org/pub/scm/linux/kernel/git/wufan/ipe:   ipe: Update documentation for script enforcement   ipe: Add AT_EXECVE_CHECK support for script enforcement   ipe: Drop a duplicated CONFIG_ prefix in the ifdeffery",https://github.com/torvalds/linux/commit/c8321831480d80af01ce001bd6626fc130fd13b1
torvalds/linux,https://github.com/torvalds/linux,777f817,Linus Torvalds,2025-12-03T19:08:03Z,"Merge tag 'integrity-v6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/zohar/linux-integrity  Pull integrity updates from Mimi Zohar:  ""Bug fixes:     - defer credentials checking from the bprm_check_security hook to the      bprm_creds_from_file security hook     - properly ignore IMA policy rules based on undefined SELinux labels    IMA policy rule extensions:     - extend IMA to limit including file hashes in the audit logs      (dont_audit action)     - define a new filesystem subtype policy option (fs_subtype)    Misc:     - extend IMA to support in-kernel module decompression by deferring      the IMA signature verification in kernel_read_file() to after the      kernel module is decompressed""  * tag 'integrity-v6.19' of git://git.kernel.org/pub/scm/linux/kernel/git/zohar/linux-integrity:   ima: Handle error code returned by ima_filter_rule_match()   ima: Access decompressed kernel module to verify appended signature   ima: add fs_subtype condition for distinguishing FUSE instances   ima: add dont_audit action to suppress audit actions   ima: Attach CREDS_CHECK IMA hook to bprm_creds_from_file LSM hook",https://github.com/torvalds/linux/commit/777f8171602d5954cac024b66afa1b5b030641a4
torvalds/linux,https://github.com/torvalds/linux,204a920,Linus Torvalds,2025-12-03T18:58:59Z,"Merge tag 'Smack-for-6.19' of https://github.com/cschaufler/smack-next  Pull smack updates from Casey Schaufler:   - fix several cases where labels were treated inconsistently when    imported from user space   - clean up the assignment of extended attributes   - documentation improvements  * tag 'Smack-for-6.19' of https://github.com/cschaufler/smack-next:   Smack: function parameter 'gfp' not described   smack: fix kernel-doc warnings for smk_import_valid_label()   smack: fix bug: setting task label silently ignores input garbage   smack: fix bug: unprivileged task can create labels   smack: fix bug: invalid label of unix socket file   smack: always ""instantiate"" inode in smack_inode_init_security()   smack: deduplicate xattr setting in smack_inode_init_security()   smack: fix bug: SMACK64TRANSMUTE set on non-directory   smack: deduplicate ""does access rule request transmutation""",https://github.com/torvalds/linux/commit/204a920f284e7264aa6dcd5876cbb1e03a7e4ebc
torvalds/linux,https://github.com/torvalds/linux,0eae328,Linus Torvalds,2025-12-03T18:52:01Z,"Merge tag 'audit-pr-20251201' of git://git.kernel.org/pub/scm/linux/kernel/git/pcmoore/audit  Pull audit updates from Paul Moore:   - Consolidate the loops in __audit_inode_child() to improve performance     When logging a child inode in __audit_inode_child(), we first run    through the list of recorded inodes looking for the parent and then    we repeat the search looking for a matching child entry. This pull    request consolidates both searches into one pass through the recorded    inodes, resuling in approximately a 50% reduction in audit overhead.     See the commit description for the testing details.   - Combine kmalloc()/memset() into kzalloc() in audit_krule_to_data()   - Comment fixes  * tag 'audit-pr-20251201' of git://git.kernel.org/pub/scm/linux/kernel/git/pcmoore/audit:   audit: merge loops in __audit_inode_child()   audit: Use kzalloc() instead of kmalloc()/memset() in audit_krule_to_data()   audit: fix comment misindentation in audit.h",https://github.com/torvalds/linux/commit/0eae3283c3024d576623736eeafcde75135ad585
torvalds/linux,https://github.com/torvalds/linux,51e3b98,Linus Torvalds,2025-12-03T18:45:47Z,"Merge tag 'selinux-pr-20251201' of git://git.kernel.org/pub/scm/linux/kernel/git/pcmoore/selinux  Pull selinux updates from Paul Moore:   - Improve the granularity of SELinux labeling for memfd files     Currently when creating a memfd file, SELinux treats it the same as    any other tmpfs, or hugetlbfs, file. While simple, the drawback is    that it is not possible to differentiate between memfd and tmpfs    files.     This adds a call to the security_inode_init_security_anon() LSM hook    and wires up SELinux to provide a set of memfd specific access    controls, including the ability to control the execution of memfds.     As usual, the commit message has more information.   - Improve the SELinux AVC lookup performance     Adopt MurmurHash3 for the SELinux AVC hash function instead of the    custom hash function currently used. MurmurHash3 is already used for    the SELinux access vector table so the impact to the code is minimal,    and performance tests have shown improvements in both hash    distribution and latency.     See the commit message for the performance measurments.   - Introduce a Kconfig option for the SELinux AVC bucket/slot size     While we have the ability to grow the number of AVC hash buckets    today, the size of the buckets (slot size) is fixed at 512. This pull    request makes that slot size configurable at build time through a new    Kconfig knob, CONFIG_SECURITY_SELINUX_AVC_HASH_BITS.  * tag 'selinux-pr-20251201' of git://git.kernel.org/pub/scm/linux/kernel/git/pcmoore/selinux:   selinux: improve bucket distribution uniformity of avc_hash()   selinux: Move avtab_hash() to a shared location for future reuse   selinux: Introduce a new config to make avc cache slot size adjustable   memfd,selinux: call security_inode_init_security_anon()",https://github.com/torvalds/linux/commit/51e3b98d737aa3e76e077db77b9aa749436c93ac
torvalds/linux,https://github.com/torvalds/linux,121cc35,Linus Torvalds,2025-12-03T17:53:48Z,"Merge tag 'lsm-pr-20251201' of git://git.kernel.org/pub/scm/linux/kernel/git/pcmoore/lsm  Pull LSM updates from Paul Moore:   - Rework the LSM initialization code     What started as a ""quick"" patch to enable a notification event once    all of the individual LSMs were initialized, snowballed a bit into a    30+ patch patchset when everything was done. Most of the patches, and    diffstat, is due to splitting out the initialization code into    security/lsm_init.c and cleaning up some of the mess that was there.    While not strictly necessary, it does cleanup the code signficantly,    and hopefully makes the upkeep a bit easier in the future.     Aside from the new LSM_STARTED_ALL notification, these changes also    ensure that individual LSM initcalls are only called when the LSM is    enabled at boot time. There should be a minor reduction in boot times    for those who build multiple LSMs into their kernels, but only enable    a subset at boot.     It is worth mentioning that nothing at present makes use of the    LSM_STARTED_ALL notification, but there is work in progress which is    dependent upon LSM_STARTED_ALL.   - Make better use of the seq_put*() helpers in device_cgroup  * tag 'lsm-pr-20251201' of git://git.kernel.org/pub/scm/linux/kernel/git/pcmoore/lsm: (36 commits)   lsm: use unrcu_pointer() for current->cred in security_init()   device_cgroup: Refactor devcgroup_seq_show to use seq_put* helpers   lsm: add a LSM_STARTED_ALL notification event   lsm: consolidate all of the LSM framework initcalls   selinux: move initcalls to the LSM framework   ima,evm: move initcalls to the LSM framework   lockdown: move initcalls to the LSM framework   apparmor: move initcalls to the LSM framework   safesetid: move initcalls to the LSM framework   tomoyo: move initcalls to the LSM framework   smack: move initcalls to the LSM framework   ipe: move initcalls to the LSM framework   loadpin: move initcalls to the LSM framework   lsm: introduce an initcall mechanism into the LSM framework   lsm: group lsm_order_parse() with the other lsm_order_*() functions   lsm: output available LSMs when debugging   lsm: cleanup the debug and console output in lsm_init.c   lsm: add/tweak function header comment blocks in lsm_init.c   lsm: fold lsm_init_ordered() into security_init()   lsm: cleanup initialize_lsm() and rename to lsm_init_single()   ...",https://github.com/torvalds/linux/commit/121cc35cfb55ab0bcf04c8ba6b364a0990eb2449
torvalds/linux,https://github.com/torvalds/linux,7fc2cd2,Linus Torvalds,2025-12-03T17:45:23Z,Merge tag 'keys-trusted-next-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/jarkko/linux-tpmdd  Pull trusted key updates from Jarkko Sakkinen:   - Remove duplicate 'tpm2_hash_map' in favor of 'tpm2_find_hash_alg()'   - Fix a memory leak on failure paths of 'tpm2_load_cmd'  * tag 'keys-trusted-next-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/jarkko/linux-tpmdd:   KEYS: trusted: Fix a memory leak in tpm2_load_cmd   KEYS: trusted: Replace a redundant instance of tpm2_hash_map,https://github.com/torvalds/linux/commit/7fc2cd2e4b398c57c9cf961cfea05eadbf34c05c
torvalds/linux,https://github.com/torvalds/linux,b082c4b,Linus Torvalds,2025-12-03T17:41:04Z,"Merge tag 'keys-next-6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/jarkko/linux-tpmdd  Pull keys update from Jarkko Sakkinen:  ""This contains only three fixes""  * tag 'keys-next-6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/jarkko/linux-tpmdd:   keys: Fix grammar and formatting in 'struct key_type' comments   keys: Replace deprecated strncpy in ecryptfs_fill_auth_tok   keys: Remove redundant less-than-zero checks",https://github.com/torvalds/linux/commit/b082c4b06056139b2f3e0a8a0fa3235e145fba80
torvalds/linux,https://github.com/torvalds/linux,f2310b6,Linus Torvalds,2025-12-03T17:23:25Z,"Merge tag 'nolibc-20251130-for-6.19-1' of git://git.kernel.org/pub/scm/linux/kernel/git/nolibc/linux-nolibc  Pull nolibc updates from Thomas Weißschuh:   - Preparations to the use of nolibc in UML:      - Cleanup of sparse warnings      - Library mode without _start()      - More consistency when disabling errno   - Unconditional installation of all architecture support files   - Always 64-bit wide ino_t and off_t   - Various cleanups and bug fixes  * tag 'nolibc-20251130-for-6.19-1' of git://git.kernel.org/pub/scm/linux/kernel/git/nolibc/linux-nolibc: (25 commits)   selftests/nolibc: error out on linker warnings   selftests/nolibc: use lld to link loongarch binaries   tools/nolibc: remove more __nolibc_enosys() fallbacks   tools/nolibc: remove now superfluous overflow check in llseek   tools/nolibc: use 64-bit off_t   tools/nolibc: prefer the llseek syscall   tools/nolibc: handle 64-bit off_t for llseek   tools/nolibc: use 64-bit ino_t   tools/nolibc: avoid using plain integer as NULL pointer   tools/nolibc: add support for fchdir()   tools/nolibc: clean up outdated comments in generic arch.h   tools/nolibc: make the ""headers"" target install all supported archs   tools/nolibc: add the more portable inttypes.h   tools/nolibc: provide the portable sys/select.h   tools/nolibc: add missing memchr() to string.h   tools/nolibc: fix misleading help message regarding installation path   tools/nolibc: add uio.h with readv and writev   tools/nolibc: add option to disable runtime   tools/nolibc: use __fallthrough__ rather than fallthrough   tools/nolibc: implement %m if errno is not defined   ...",https://github.com/torvalds/linux/commit/f2310b6271dc54278337987ec8140175e8df16f4
torvalds/linux,https://github.com/torvalds/linux,82d7a9d,Rob Herring (Arm),2025-12-03T15:24:36Z,"dt-bindings: thermal: qcom-tsens: Remove invalid tab character  Commit 1ee90870ce79 (""dt-bindings: thermal: tsens: Add QCS8300 compatible"") uses a tab character which is illegal in YAML (at the beginning of a line).  The original patch was correct, so this got corrupted when applied.  Fixes: 1ee90870ce79 (""dt-bindings: thermal: tsens: Add QCS8300 compatible"") Signed-off-by: Rob Herring (Arm) <robh@kernel.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>",https://github.com/torvalds/linux/commit/82d7a9da6e5ba41623c0959fbe03574cbae4ce9c
torvalds/linux,https://github.com/torvalds/linux,954c55c,Rob Herring (Arm),2025-12-01T17:50:29Z,"dt-bindings: kbuild: Skip validating empty examples  Extracting empty examples results in just the empty template being generated and then validated. That's pointless and not free, so filter out the schemas without any examples from the targets.  There's currently a little less than 10% of the binding schema files without examples. Removing them improves the build time by ~6%.  Link: https://patch.msgid.link/20251201175030.3785060-1-robh@kernel.org Signed-off-by: Rob Herring (Arm) <robh@kernel.org>",https://github.com/torvalds/linux/commit/954c55c658e11c0cdc4cfa85968a0a5df975e26a
torvalds/linux,https://github.com/torvalds/linux,d7ba853,Yanzhu Huang,2025-11-05T23:26:15Z,"ipe: Update documentation for script enforcement  This patch adds explanation of script enforcement mechanism in admin guide documentation. Describes how IPE supports integrity enforcement for indirectly executed scripts through the AT_EXECVE_CHECK flag, and how this differs from kernel enforcement for compiled executables.  Signed-off-by: Yanzhu Huang <yanzhuhuang@linux.microsoft.com> Signed-off-by: Fan Wu <wufan@kernel.org>",https://github.com/torvalds/linux/commit/d7ba853c0e47d57805181f5269ba250270d2adde
torvalds/linux,https://github.com/torvalds/linux,6767818,Yanzhu Huang,2025-11-05T23:26:14Z,"ipe: Add AT_EXECVE_CHECK support for script enforcement  This patch adds a new ipe_bprm_creds_for_exec() hook that integrates with the AT_EXECVE_CHECK mechanism. To enable script enforcement, interpreters need to incorporate the AT_EXECVE_CHECK flag when calling execveat() on script files before execution.  When a userspace interpreter calls execveat() with the AT_EXECVE_CHECK flag, this hook triggers IPE policy evaluation on the script file. The hook only triggers IPE when bprm->is_check is true, ensuring it's being called from an AT_EXECVE_CHECK context. It then builds an evaluation context for an IPE_OP_EXEC operation and invokes IPE policy. The kernel returns the policy decision to the interpreter, which can then decide whether to proceed with script execution.  This extends IPE enforcement to indirectly executed scripts, permitting trusted scripts to execute while denying untrusted ones.  Signed-off-by: Yanzhu Huang <yanzhuhuang@linux.microsoft.com> Signed-off-by: Fan Wu <wufan@kernel.org>",https://github.com/torvalds/linux/commit/67678189e492dc119b91c30beccd12cdbb32350e
torvalds/linux,https://github.com/torvalds/linux,864468a,Borislav Petkov (AMD),2025-10-09T15:45:25Z,"ipe: Drop a duplicated CONFIG_ prefix in the ifdeffery  Looks like it got added by mistake, perhaps editor auto-completion artifact. Drop it.  No functional changes.  Signed-off-by: Borislav Petkov (AMD) <bp@alien8.de> Signed-off-by: Fan Wu <wufan@kernel.org>",https://github.com/torvalds/linux/commit/864468ae309943fc9a1067606098b30959e4db33
torvalds/linux,https://github.com/torvalds/linux,3f9f025,Linus Torvalds,2025-12-03T03:00:26Z,"Merge tag 'random-6.19-rc1-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/crng/random  Pull random number generator updates from Jason Donenfeld:   - Dynamically allocate cpumasks off of the stack if the kernel is    configured for a lot of CPUs, to handle a -Wframe-larger-than case   - The removal of next_pseudo_random32() after the last user was    switched over to the prandom interface   - The removal of get_random_u{8,16,32,64}_wait() functions, as there    were no users of those at all   - Some house keeping changes - a few grammar cleanups in the    comments, system_unbound_wq was renamed to system_dfl_wq, and    static_key_initialized no longer needs to be checked  * tag 'random-6.19-rc1-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/crng/random:   random: complete sentence of comment   random: drop check for static_key_initialized   random: remove unused get_random_var_wait functions   random: replace use of system_unbound_wq with system_dfl_wq   random: use offstack cpumask when necessary   prandom: remove next_pseudo_random32   media: vivid: use prandom   random: add missing words in function comments",https://github.com/torvalds/linux/commit/3f9f0252130e7dd60d41be0802bf58f6471c691d
torvalds/linux,https://github.com/torvalds/linux,f617d24,Linus Torvalds,2025-12-03T02:53:50Z,"Merge tag 'fpsimd-on-stack-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/ebiggers/linux  Pull arm64 FPSIMD on-stack buffer updates from Eric Biggers:  ""This is a core arm64 change. However, I was asked to take this because   most uses of kernel-mode FPSIMD are in crypto or CRC code.    In v6.8, the size of task_struct on arm64 increased by 528 bytes due   to the new 'kernel_fpsimd_state' field. This field was added to allow   kernel-mode FPSIMD code to be preempted.    Unfortunately, 528 bytes is kind of a lot for task_struct. This   regression in the task_struct size was noticed and reported.    Recover that space by making this state be allocated on the stack at   the beginning of each kernel-mode FPSIMD section.    To make it easier for all the users of kernel-mode FPSIMD to do that   correctly, introduce and use a 'scoped_ksimd' abstraction""  * tag 'fpsimd-on-stack-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/ebiggers/linux: (23 commits)   lib/crypto: arm64: Move remaining algorithms to scoped ksimd API   lib/crypto: arm/blake2b: Move to scoped ksimd API   arm64/fpsimd: Allocate kernel mode FP/SIMD buffers on the stack   arm64/fpu: Enforce task-context only for generic kernel mode FPU   net/mlx5: Switch to more abstract scoped ksimd guard API on arm64   arm64/xorblocks:  Switch to 'ksimd' scoped guard API   crypto/arm64: sm4 - Switch to 'ksimd' scoped guard API   crypto/arm64: sm3 - Switch to 'ksimd' scoped guard API   crypto/arm64: sha3 - Switch to 'ksimd' scoped guard API   crypto/arm64: polyval - Switch to 'ksimd' scoped guard API   crypto/arm64: nhpoly1305 - Switch to 'ksimd' scoped guard API   crypto/arm64: aes-gcm - Switch to 'ksimd' scoped guard API   crypto/arm64: aes-blk - Switch to 'ksimd' scoped guard API   crypto/arm64: aes-ccm - Switch to 'ksimd' scoped guard API   raid6: Move to more abstract 'ksimd' guard API   crypto: aegis128-neon - Move to more abstract 'ksimd' guard API   crypto/arm64: sm4-ce-gcm - Avoid pointless yield of the NEON unit   crypto/arm64: sm4-ce-ccm - Avoid pointless yield of the NEON unit   crypto/arm64: aes-ce-ccm - Avoid pointless yield of the NEON unit   lib/crc: Switch ARM and arm64 to 'ksimd' scoped guard API   ...",https://github.com/torvalds/linux/commit/f617d24606553159a271f43e36d1c71a4c317e48
torvalds/linux,https://github.com/torvalds/linux,906003e,Linus Torvalds,2025-12-03T02:26:54Z,"Merge tag 'libcrypto-at-least-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/ebiggers/linux  Pull 'at_least' array size update from Eric Biggers:  ""C supports lower bounds on the sizes of array parameters, using the   static keyword as follows: 'void f(int a[static 32]);'. This allows   the compiler to warn about a too-small array being passed.    As discussed, this reuse of the 'static' keyword, while standard, is a   bit obscure. Therefore, add an alias 'at_least' to compiler_types.h.    Then, add this 'at_least' annotation to the array parameters of   various crypto library functions""  * tag 'libcrypto-at-least-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/ebiggers/linux:   lib/crypto: sha2: Add at_least decoration to fixed-size array params   lib/crypto: sha1: Add at_least decoration to fixed-size array params   lib/crypto: poly1305: Add at_least decoration to fixed-size array params   lib/crypto: md5: Add at_least decoration to fixed-size array params   lib/crypto: curve25519: Add at_least decoration to fixed-size array params   lib/crypto: chacha: Add at_least decoration to fixed-size array params   lib/crypto: chacha20poly1305: Statically check fixed array lengths   compiler_types: introduce at_least parameter decoration pseudo keyword   wifi: iwlwifi: trans: rename at_least variable to min_mode",https://github.com/torvalds/linux/commit/906003e15160642658358153e7598302d1b38166
torvalds/linux,https://github.com/torvalds/linux,8f4c997,Linus Torvalds,2025-12-03T02:24:35Z,"Merge tag 'aes-gcm-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/ebiggers/linux  Pull AES-GCM optimizations from Eric Biggers:  ""More optimizations and cleanups for the x86_64 AES-GCM code:     - Add a VAES+AVX2 optimized implementation of AES-GCM. This is very      helpful on CPUs that have VAES but not AVX512, such as AMD Zen 3.     - Make the VAES+AVX512 optimized implementation of AES-GCM handle      large amounts of associated data efficiently.     - Remove the ""avx10_256"" implementation of AES-GCM. It's superseded      by the VAES+AVX2 optimized implementation.     - Rename the ""avx10_512"" implementation to ""avx512""    Overall, this fills in a gap where AES-GCM wasn't fully optimized on   some recent CPUs. It also drops code that won't be as useful as   initially expected due to AVX10/256 being dropped from the AVX10 spec""  * tag 'aes-gcm-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/ebiggers/linux:   crypto: x86/aes-gcm-vaes-avx2 - initialize full %rax return register   crypto: x86/aes-gcm - optimize long AAD processing with AVX512   crypto: x86/aes-gcm - optimize AVX512 precomputation of H^2 from H^1   crypto: x86/aes-gcm - revise some comments in AVX512 code   crypto: x86/aes-gcm - reorder AVX512 precompute and aad_update functions   crypto: x86/aes-gcm - clean up AVX512 code to assume 512-bit vectors   crypto: x86/aes-gcm - rename avx10 and avx10_512 to avx512   crypto: x86/aes-gcm - remove VAES+AVX10/256 optimized code   crypto: x86/aes-gcm - add VAES+AVX2 optimized code",https://github.com/torvalds/linux/commit/8f4c9978de91a9a3b37df1e74d6201acfba6cefd
torvalds/linux,https://github.com/torvalds/linux,db425f7,Linus Torvalds,2025-12-03T02:20:06Z,"Merge tag 'libcrypto-tests-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/ebiggers/linux  Pull crypto library test updates from Eric Biggers:   - Add KUnit test suites for SHA-3, BLAKE2b, and POLYVAL. These are the    algorithms that have new crypto library interfaces this cycle.   - Remove the crypto_shash POLYVAL tests. They're no longer needed    because POLYVAL support was removed from crypto_shash. Better POLYVAL    test coverage is now provided via the KUnit test suite.  * tag 'libcrypto-tests-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/ebiggers/linux:   crypto: testmgr - Remove polyval tests   lib/crypto: tests: Add KUnit tests for POLYVAL   lib/crypto: tests: Add additional SHAKE tests   lib/crypto: tests: Add SHA3 kunit tests   lib/crypto: tests: Add KUnit tests for BLAKE2b",https://github.com/torvalds/linux/commit/db425f7a0b158d0dbb07c4f4653795aaad3a7a15
torvalds/linux,https://github.com/torvalds/linux,5abe8d8,Linus Torvalds,2025-12-03T02:01:03Z,"Merge tag 'libcrypto-updates-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/ebiggers/linux  Pull crypto library updates from Eric Biggers:  ""This is the main crypto library pull request for 6.19. It includes:     - Add SHA-3 support to lib/crypto/, including support for both the      hash functions and the extendable-output functions. Reimplement the      existing SHA-3 crypto_shash support on top of the library.       This is motivated mainly by the upcoming support for the ML-DSA      signature algorithm, which needs the SHAKE128 and SHAKE256      functions. But even on its own it's a useful cleanup.       This also fixes the longstanding issue where the      architecture-optimized SHA-3 code was disabled by default.     - Add BLAKE2b support to lib/crypto/, and reimplement the existing      BLAKE2b crypto_shash support on top of the library.       This is motivated mainly by btrfs, which supports BLAKE2b      checksums. With this change, all btrfs checksum algorithms now have      library APIs. btrfs is planned to start just using the library      directly.       This refactor also improves consistency between the BLAKE2b code      and BLAKE2s code. And as usual, it also fixes the issue where the      architecture-optimized BLAKE2b code was disabled by default.     - Add POLYVAL support to lib/crypto/, replacing the existing POLYVAL      support in crypto_shash. Reimplement HCTR2 on top of the library.       This simplifies the code and improves HCTR2 performance. As usual,      it also makes the architecture-optimized code be enabled by      default. The generic implementation of POLYVAL is greatly improved      as well.     - Clean up the BLAKE2s code     - Add FIPS self-tests for SHA-1, SHA-2, and SHA-3""  * tag 'libcrypto-updates-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/ebiggers/linux: (37 commits)   fscrypt: Drop obsolete recommendation to enable optimized POLYVAL   crypto: polyval - Remove the polyval crypto_shash   crypto: hctr2 - Convert to use POLYVAL library   lib/crypto: x86/polyval: Migrate optimized code into library   lib/crypto: arm64/polyval: Migrate optimized code into library   lib/crypto: polyval: Add POLYVAL library   crypto: polyval - Rename conflicting functions   lib/crypto: x86/blake2s: Use vpternlogd for 3-input XORs   lib/crypto: x86/blake2s: Avoid writing back unchanged 'f' value   lib/crypto: x86/blake2s: Improve readability   lib/crypto: x86/blake2s: Use local labels for data   lib/crypto: x86/blake2s: Drop check for nblocks == 0   lib/crypto: x86/blake2s: Fix 32-bit arg treated as 64-bit   lib/crypto: arm, arm64: Drop filenames from file comments   lib/crypto: arm/blake2s: Fix some comments   crypto: s390/sha3 - Remove superseded SHA-3 code   crypto: sha3 - Reimplement using library API   crypto: jitterentropy - Use default sha3 implementation   lib/crypto: s390/sha3: Add optimized one-shot SHA-3 digest functions   lib/crypto: sha3: Support arch overrides of one-shot digest functions   ...",https://github.com/torvalds/linux/commit/5abe8d8efc022cc78b6273d01e4a453242b9f4d8
torvalds/linux,https://github.com/torvalds/linux,619f4ed,Linus Torvalds,2025-12-03T01:49:12Z,"Merge tag 'thermal-6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/rafael/linux-pm  Pull thermal control updates from Rafael Wysocki:  ""These add Nova Lake processor support to the Intel thermal drivers and   DPTF code, update thermal control documentation, simplify the ACPI   DPTF code related to thermal control, add QCS8300 compatible to the   tsens thermal DT bindings, add DT bindings for NXP i.MX91 thermal   module and add support for it to the imx91 thermal driver, update a   few other thermal drivers and fix a format string issue in a thermal   utility:     - Add Nova Lake processor thermal device to the int340x      processor_thermal driver, add DLVR support for Nova Lake to it, add      Nova Lake support to the ACPI DPTF code, document thermal      throttling on Intel platforms, and update workload type hint      interface documentation (Srinivas Pandruvada)     - Remove int340x thermal scan handler from the ACPI DPTF code because      it turned out to be unnecessary (Slawomir Rosek)     - Clean up the Intel int340x thermal driver (Kaushlendra Kumar)     - Document the RZ/V2H TSU DT bindings (Ovidiu Panait)     - Document the Kaanapali Temperature Sensor (Manaf Meethalavalappu      Pallikunhi)     - Document R-Car Gen4 and RZ/G2 support in driver comment (Marek      Vasut)     - Convert to DEFINE_SIMPLE_DEV_PM_OPS() in R-Car [Gen3] (Geert      Uytterhoeven)     - Fix format string bug in thermal-engine (Malaya Kumar Rout)     - Make ipq5018 tsens standalone compatible (George Moussalem)     - Add the QCS8300 compatible for QCom Tsens (Gaurav Kohli)     - Add support for the NXP i.MX91 thermal module, including the DT      bindings (Pengfei Li)""  * tag 'thermal-6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/rafael/linux-pm:   thermal/drivers/imx91: Add support for i.MX91 thermal monitoring unit   dt-bindings: thermal: fsl,imx91-tmu: add bindings for NXP i.MX91 thermal module   dt-bindings: thermal: tsens: Add QCS8300 compatible   dt-bindings: thermal: qcom-tsens: make ipq5018 tsens standalone compatible   tools/thermal/thermal-engine: Fix format string bug in thermal-engine   docs: driver-api/thermal/intel_dptf: Add new workload type hint   thermal/drivers/rcar_gen3: Convert to DEFINE_SIMPLE_DEV_PM_OPS()   thermal/drivers/rcar: Convert to DEFINE_SIMPLE_DEV_PM_OPS()   Documentation: thermal: Document thermal throttling on Intel platforms   ACPI: DPTF: Support Nova Lake   thermal: intel: int340x: Add DLVR support for Nova Lake   thermal: int340x: processor_thermal: Add Nova Lake processor thermal device   thermal: intel: int340x: Replace sprintf() with sysfs_emit()   thermal: intel: int340x: Use symbolic constant for UUID comparison   thermal/drivers/rcar_gen3: Document R-Car Gen4 and RZ/G2 support in driver comment   dt-bindings: thermal: qcom-tsens: document the Kaanapali Temperature Sensor   dt-bindings: thermal: r9a09g047-tsu: Document RZ/V2H TSU   ACPI: DPTF: Remove int340x thermal scan handler   thermal: intel: Select INT340X_THERMAL from INTEL_SOC_DTS_THERMAL",https://github.com/torvalds/linux/commit/619f4edc8d4f785dcabf564786e787fa8108deb4
torvalds/linux,https://github.com/torvalds/linux,d348c22,Linus Torvalds,2025-12-03T01:31:22Z,"Merge tag 'pm-6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/rafael/linux-pm  Pull power management updates from Rafael Wysocki:  ""There are quite a few interesting things here, including new hardware   support, new features, some bug fixes and documentation updates. In   addition, there are a usual bunch of minor fixes and cleanups all   over.    In the new hardware support category, there are intel_pstate and   intel_rapl driver updates to support new processors, Panther Lake,   Wildcat Lake, Noval Lake, and Diamond Rapids in the OOB mode, OPP and   bandwidth allocation support in the tegra186 cpufreq driver, and   JH7110S SOC support in dt-platdev cpufreq.    The new features are the PM QoS CPU latency limit for suspend-to-idle,   the netlink support for the energy model management, support for   terminating system suspend via a wakeup event during the sync of file   systems, configurable number of hibernation compression threads, the   runtime PM auto-cleanup macros, and the ""poweroff"" PM event that is   expected to be used during system shutdown.    Bugs are mostly fixed in cpuidle governors, but there are also fixes   elsewhere, like in the amd-pstate cpufreq driver.    Documentation updates include, but are not limited to, a new doc on   debugging shutdown hangs, cross-referencing fixes and cleanups in the   intel_pstate documentation, and updates of comments in the core   hibernation code.    Specifics:     - Introduce and document a QoS limit on CPU exit latency during      wakeup from suspend-to-idle (Ulf Hansson)     - Add support for building libcpupower statically (Zuo An)     - Add support for sending netlink notifications to user space on      energy model updates (Changwoo Mini, Peng Fan)     - Minor improvements to the Rust OPP interface (Tamir Duberstein)     - Fixes to scope-based pointers in the OPP library (Viresh Kumar)     - Use residency threshold in polling state override decisions in the      menu cpuidle governor (Aboorva Devarajan)     - Add sanity check for exit latency and target residency in the      cpufreq core (Rafael Wysocki)     - Use this_cpu_ptr() where possible in the teo governor (Christian      Loehle)     - Rework the handling of tick wakeups in the teo cpuidle governor to      increase the likelihood of stopping the scheduler tick in the cases      when tick wakeups can be counted as non-timer ones (Rafael Wysocki)     - Fix a reverse condition in the teo cpuidle governor and drop a      misguided target residency check from it (Rafael Wysocki)     - Clean up multiple minor defects in the teo cpuidle governor (Rafael      Wysocki)     - Update header inclusion to make it follow the Include What You Use      principle (Andy Shevchenko)     - Enable MSR-based RAPL PMU support in the intel_rapl power capping      driver and arrange for using it on the Panther Lake and Wildcat      Lake processors (Kuppuswamy Sathyanarayanan)     - Add support for Nova Lake and Wildcat Lake processors to the      intel_rapl power capping driver (Kaushlendra Kumar, Srinivas      Pandruvada)     - Add OPP and bandwidth support for Tegra186 (Aaron Kling)     - Optimizations for parameter array handling in the amd-pstate      cpufreq driver (Mario Limonciello)     - Fix for mode changes with offline CPUs in the amd-pstate cpufreq      driver (Gautham Shenoy)     - Preserve freq_table_sorted across suspend/hibernate in the cpufreq      core (Zihuan Zhang)     - Adjust energy model rules for Intel hybrid platforms in the      intel_pstate cpufreq driver and improve printing of debug messages      in it (Rafael Wysocki)     - Replace deprecated strcpy() in cpufreq_unregister_governor()      (Thorsten Blum)     - Fix duplicate hyperlink target errors in the intel_pstate cpufreq      driver documentation and use :ref: directive for internal linking      in it (Swaraj Gaikwad, Bagas Sanjaya)     - Add Diamond Rapids OOB mode support to the intel_pstate cpufreq      driver (Kuppuswamy Sathyanarayanan)     - Use mutex guard for driver locking in the intel_pstate driver and      eliminate some code duplication from it (Rafael Wysocki)     - Replace udelay() with usleep_range() in ACPI cpufreq (Kaushlendra      Kumar)     - Minor improvements to various cpufreq drivers (Christian Marangi,      Hal Feng, Jie Zhan, Marco Crivellari, Miaoqian Lin, and Shuhao Fu)     - Replace snprintf() with scnprintf() in show_trace_dev_match()      (Kaushlendra Kumar)     - Fix memory allocation error handling in pm_vt_switch_required()      (Malaya Kumar Rout)     - Introduce CALL_PM_OP() macro and use it to simplify code in generic      PM operations (Kaushlendra Kumar)     - Add module param to backtrace all CPUs in the device power      management watchdog (Sergey Senozhatsky)     - Rework message printing in swsusp_save() (Rafael Wysocki)     - Make it possible to change the number of hibernation compression      threads (Xueqin Luo)     - Clarify that only cgroup1 freezer uses PM freezer (Tejun Heo)     - Add document on debugging shutdown hangs to PM documentation and      correct a mistaken configuration option in it (Mario Limonciello)     - Shut down wakeup source timer before removing the wakeup source      from the list (Kaushlendra Kumar, Rafael Wysocki)     - Introduce new PMSG_POWEROFF event for system shutdown handling with      the help of PM device callbacks (Mario Limonciello)     - Make pm_test delay interruptible by wakeup events (Riwen Lu)     - Clean up kernel-doc comment style usage in the core hibernation      code and remove unuseful comments from it (Sunday Adelodun, Rafael      Wysocki)     - Add support for handling wakeup events and aborting the suspend      process while it is syncing file systems (Samuel Wu, Rafael      Wysocki)     - Add WQ_UNBOUND to pm_wq workqueue (Marco Crivellari)     - Add runtime PM wrapper macros for ACQUIRE()/ACQUIRE_ERR() and use      them in the PCI core and the ACPI TAD driver (Rafael Wysocki)     - Improve runtime PM in the ACPI TAD driver (Rafael Wysocki)     - Update pm_runtime_allow/forbid() documentation (Rafael Wysocki)     - Fix typos in runtime.c comments (Malaya Kumar Rout)     - Move governor.h from devfreq under include/linux/ and rename to      devfreq-governor.h to allow devfreq governor definitions in out of      drivers/devfreq/ (Dmitry Baryshkov)     - Use min() to improve readability in tegra30-devfreq.c (Thorsten      Blum)     - Fix potential use-after-free issue of OPP handling in      hisi_uncore_freq.c (Pengjie Zhang)     - Fix typo in DFSO_DOWNDIFFERENTIAL macro name in      governor_simpleondemand.c in devfreq (Riwen Lu)""  * tag 'pm-6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/rafael/linux-pm: (96 commits)   PM / devfreq: Fix typo in DFSO_DOWNDIFFERENTIAL macro name   cpuidle: Warn instead of bailing out if target residency check fails   cpuidle: Update header inclusion   Documentation: power/cpuidle: Document the CPU system wakeup latency QoS   cpuidle: Respect the CPU system wakeup QoS limit for cpuidle   sched: idle: Respect the CPU system wakeup QoS limit for s2idle   pmdomain: Respect the CPU system wakeup QoS limit for cpuidle   pmdomain: Respect the CPU system wakeup QoS limit for s2idle   PM: QoS: Introduce a CPU system wakeup QoS limit   cpuidle: governors: teo: Add missing space to the description   PM: hibernate: Extra cleanup of comments in swap handling code   PM / devfreq: tegra30: use min to simplify actmon_cpu_to_emc_rate   PM / devfreq: hisi: Fix potential UAF in OPP handling   PM / devfreq: Move governor.h to a public header location   powercap: intel_rapl: Enable MSR-based RAPL PMU support   powercap: intel_rapl: Prepare read_raw() interface for atomic-context callers   cpufreq: qcom-nvmem: fix compilation warning for qcom_cpufreq_ipq806x_match_list   PM: sleep: Call pm_sleep_fs_sync() instead of ksys_sync_helper()   PM: sleep: Add support for wakeup during filesystem sync   cpufreq: ACPI: Replace udelay() with usleep_range()   ...",https://github.com/torvalds/linux/commit/d348c22394ad3c8eaf7bc693cb0ca0edc2ec5246
torvalds/linux,https://github.com/torvalds/linux,959bfe4,Linus Torvalds,2025-12-03T01:24:03Z,"Merge tag 'acpi-6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/rafael/linux-pm  Pull ACPI updates from Rafael Wysocki:  ""These add Microsoft fan extensions support to the ACPI fan driver, fix   a bug in ACPICA, update other ACPI drivers (processor, time and alarm   device), update ACPI power management code and ACPI device properties   management, and fix an ACPI utility:     - Avoid walking the ACPI namespace in the AML interpreter if the      starting node cannot be determined (Cryolitia PukNgae)     - Use min() instead of min_t() in the ACPI device properties handling      code to avoid discarding significant bits (David Laight)     - Fix potential fwnode refcount leak in      acpi_fwnode_graph_parse_endpoint() that may prevent the parent      fwnode from being released (Haotian Zhang)     - Rework acpi_graph_get_next_endpoint() to use ACPI functions only,      remove unnecessary conditionals from it to make it easier to      follow, and make acpi_get_next_subnode() static (Sakari Ailus)     - Drop unused function acpi_get_lps0_constraint(), make some      Low-Power S0 callback functions for suspend-to-idle static, and      rearrange the code retrieving Low-Power S0 constraints so it only      runs when the constraints are actually used (Rafael Wysocki)     - Drop redundant locking from the ACPI battery driver (Rafael      Wysocki)     - Improve runtime PM in the ACPI time and alarm device (TAD) driver      using guard macros and rearrange code related to runtime PM in      acpi_tad_remove() (Rafael Wysocki)     - Add support for Microsoft fan extensions to the ACPI fan driver      along with notification support and work around a 64-bit firmware      bug in that driver (Armin Wolf)     - Use ACPI_FREE() to free ACPI buffer in the ACPI DPTF code      (Kaushlendra Kumar)     - Fix a memory leak and a resource leak in the ACPI pfrut utility      (Malaya Kumar Rout)     - Replace `core::mem::zeroed` with `pin_init::zeroed` in the ACPI      Rust code (Siyuan Huang)     - Update the ACPI code to use the new style of allocating workqueues      and new global workqueues (Marco Crivellari)     - Fix two spelling mistakes in the ACPI code (Chu Guangqing)     - Fix ISAPNP to generate uevents to auto-load modules (René Rebe)     - Relocate the state flags initialization in the ACPI processor idle      driver and drop redundant C-state count checks from it (Huisong Li)     - Fix map_x2apic_id() in the ACPI processor core driver for      amd-pstate on am4 (René Rebe)""  * tag 'acpi-6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/rafael/linux-pm: (30 commits)   ACPI: PM: Fix a spelling mistake   ACPI: LPSS: Fix a spelling mistake   ACPI: processor_core: fix map_x2apic_id for amd-pstate on am4   ACPICA: Avoid walking the Namespace if start_node is NULL   ACPI: tools: pfrut: fix memory leak and resource leak in pfrut.c   ACPI: property: use min() instead of min_t()   PNP: Fix ISAPNP to generate uevents to auto-load modules   ACPI: property: Fix fwnode refcount leak in acpi_fwnode_graph_parse_endpoint()   ACPI: DPTF: Use ACPI_FREE() for ACPI buffer deallocation   ACPI: processor: idle: Drop redundant C-state count checks   ACPI: thermal: Add WQ_PERCPU to alloc_workqueue() users   ACPI: OSL: Add WQ_PERCPU to alloc_workqueue() users   ACPI: EC: Add WQ_PERCPU to alloc_workqueue() users   ACPI: OSL: replace use of system_wq with system_percpu_wq   ACPI: scan: replace use of system_unbound_wq with system_dfl_wq   ACPI: fan: Add support for Microsoft fan extensions   ACPI: fan: Add hwmon notification support   ACPI: fan: Add basic notification support   ACPI: TAD: Improve runtime PM using guard macros   ACPI: TAD: Rearrange runtime PM operations in acpi_tad_remove()   ...",https://github.com/torvalds/linux/commit/959bfe496bbaf3daa5dca32d397e29ea12471779
torvalds/linux,https://github.com/torvalds/linux,44fc843,Linus Torvalds,2025-12-03T01:03:55Z,"Merge tag 'arm64-upstream' of git://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux  Pull arm64 updates from Catalin Marinas:  ""These are the arm64 updates for 6.19.    The biggest part is the Arm MPAM driver under drivers/resctrl/.   There's a patch touching mm/ to handle spurious faults for huge pmd   (similar to the pte version). The corresponding arm64 part allows us   to avoid the TLB maintenance if a (huge) page is reused after a write   fault. There's EFI refactoring to allow runtime services with   preemption enabled and the rest is the usual perf/PMU updates and   several cleanups/typos.    Summary:    Core features:     - Basic Arm MPAM (Memory system resource Partitioning And Monitoring)      driver under drivers/resctrl/ which makes use of the fs/rectrl/ API    Perf and PMU:     - Avoid cycle counter on multi-threaded CPUs     - Extend CSPMU device probing and add additional filtering support      for NVIDIA implementations     - Add support for the PMUs on the NoC S3 interconnect     - Add additional compatible strings for new Cortex and C1 CPUs     - Add support for data source filtering to the SPE driver     - Add support for i.MX8QM and ""DB"" PMU in the imx PMU driver    Memory managemennt:     - Avoid broadcast TLBI if page reused in write fault     - Elide TLB invalidation if the old PTE was not valid     - Drop redundant cpu_set_*_tcr_t0sz() macros     - Propagate pgtable_alloc() errors outside of __create_pgd_mapping()     - Propagate return value from __change_memory_common()    ACPI and EFI:     - Call EFI runtime services without disabling preemption     - Remove unused ACPI function    Miscellaneous:     - ptrace support to disable streaming on SME-only systems     - Improve sysreg generation to include a 'Prefix' descriptor     - Replace __ASSEMBLY__ with __ASSEMBLER__     - Align register dumps in the kselftest zt-test     - Remove some no longer used macros/functions     - Various spelling corrections""  * tag 'arm64-upstream' of git://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux: (94 commits)   arm64/mm: Document why linear map split failure upon vm_reset_perms is not problematic   arm64/pageattr: Propagate return value from __change_memory_common   arm64/sysreg: Remove unused define ARM64_FEATURE_FIELD_BITS   KVM: arm64: selftests: Consider all 7 possible levels of cache   KVM: arm64: selftests: Remove ARM64_FEATURE_FIELD_BITS and its last user   arm64: atomics: lse: Remove unused parameters from ATOMIC_FETCH_OP_AND macros   Documentation/arm64: Fix the typo of register names   ACPI: GTDT: Get rid of acpi_arch_timer_mem_init()   perf: arm_spe: Add support for filtering on data source   perf: Add perf_event_attr::config4   perf/imx_ddr: Add support for PMU in DB (system interconnects)   perf/imx_ddr: Get and enable optional clks   perf/imx_ddr: Move ida_alloc() from ddr_perf_init() to ddr_perf_probe()   dt-bindings: perf: fsl-imx-ddr: Add compatible string for i.MX8QM, i.MX8QXP and i.MX8DXL   arm64: remove duplicate ARCH_HAS_MEM_ENCRYPT   arm64: mm: use untagged address to calculate page index   MAINTAINERS: new entry for MPAM Driver   arm_mpam: Add kunit tests for props_mismatch()   arm_mpam: Add kunit test for bitmap reset   arm_mpam: Add helper to reset saved mbwu state   ...",https://github.com/torvalds/linux/commit/44fc84337b6eae580a51cf6f7ca6a22ef1349556
torvalds/linux,https://github.com/torvalds/linux,2547f79,Linus Torvalds,2025-12-03T00:37:00Z,"Merge tag 's390-6.19-1' of git://git.kernel.org/pub/scm/linux/kernel/git/s390/linux  Pull s390 updates from Heiko Carstens:   - Provide a new interface for dynamic configuration and deconfiguration    of hotplug memory, allowing with and without memmap_on_memory    support. This makes the way memory hotplug is handled on s390 much    more similar to other architectures   - Remove compat support. There shouldn't be any compat user space    around anymore, therefore get rid of a lot of code which also doesn't    need to be tested anymore   - Add stackprotector support. GCC 16 will get new compiler options,    which allow to generate code required for kernel stackprotector    support   - Merge pai_crypto and pai_ext PMU drivers into a new driver. This    removes a lot of duplicated code. The new driver is also extendable    and allows to support new PMUs   - Add driver override support for AP queues   - Rework and extend zcrypt and AP trace events to allow for tracing of    crypto requests   - Support block sizes larger than 65535 bytes for CCW tape devices   - Since the rework of the virtual kernel address space the module area    and the kernel image are within the same 4GB area. This eliminates    the need of weak per cpu variables. Get rid of    ARCH_MODULE_NEEDS_WEAK_PER_CPU   - Various other small improvements and fixes  * tag 's390-6.19-1' of git://git.kernel.org/pub/scm/linux/kernel/git/s390/linux: (92 commits)   watchdog: diag288_wdt: Remove KMSG_COMPONENT macro   s390/entry: Use lay instead of aghik   s390/vdso: Get rid of -m64 flag handling   s390/vdso: Rename vdso64 to vdso   s390: Rename head64.S to head.S   s390/vdso: Use common STABS_DEBUG and DWARF_DEBUG macros   s390: Add stackprotector support   s390/modules: Simplify module_finalize() slightly   s390: Remove KMSG_COMPONENT macro   s390/percpu: Get rid of ARCH_MODULE_NEEDS_WEAK_PER_CPU   s390/ap: Restrict driver_override versus apmask and aqmask use   s390/ap: Rename mutex ap_perms_mutex to ap_attr_mutex   s390/ap: Support driver_override for AP queue devices   s390/ap: Use all-bits-one apmask/aqmask for vfio in_use() checks   s390/debug: Update description of resize operation   s390/syscalls: Switch to generic system call table generation   s390/syscalls: Remove system call table pointer from thread_struct   s390/uapi: Remove 31 bit support from uapi header files   s390: Remove compat support   tools: Remove s390 compat support   ...",https://github.com/torvalds/linux/commit/2547f79b0b0cd969ae6f736890af4ebd9368cda5
torvalds/linux,https://github.com/torvalds/linux,4a21d1b,Linus Torvalds,2025-12-03T00:32:02Z,Merge tag 'm68k-for-v6.19-tag1' of git://git.kernel.org/pub/scm/linux/kernel/git/geert/linux-m68k  Pull m68k update from Geert Uytterhoeven:   - defconfig update  * tag 'm68k-for-v6.19-tag1' of git://git.kernel.org/pub/scm/linux/kernel/git/geert/linux-m68k:   m68k: defconfig: Update defconfigs for v6.18-rc1,https://github.com/torvalds/linux/commit/4a21d1b33f47b7fb330f8e7af69192493e3125d1
torvalds/linux,https://github.com/torvalds/linux,0692602,Dave Airlie,2025-12-02T23:43:09Z,Merge tag 'amd-drm-next-6.19-2025-12-02' of https://gitlab.freedesktop.org/agd5f/linux into drm-next  amd-drm-next-6.19-2025-12-02:  amdgpu: - Unified MES fix - SMU 11 unbalanced irq fix - Fix for driver reloading on APUs - pp_table sysfs fix - Fix memory leak in fence handling - HDMI fix - DC cursor fixes - eDP panel parsing fix - Brightness fix - DC analog fixes - EDID retry fixes - UserQ fixes - RAS fixes - IP discovery fix - Add missing locking in amdgpu_ttm_access_memory_sdma() - Smart Power OLED fix - PRT and page fault fixes for GC 6-8 - VMID reservation fix - ACP platform device fix - Add missing vm fault handling for GC 11-12 - VPE fix  amdkfd: - Partitioning fix  Signed-off-by: Dave Airlie <airlied@redhat.com>  From: Alex Deucher <alexander.deucher@amd.com> Link: https://patch.msgid.link/20251202220101.2039347-1-alexander.deucher@amd.com,https://github.com/torvalds/linux/commit/0692602defb0c273f80dec9c564ca50726404aca
torvalds/linux,https://github.com/torvalds/linux,4de4454,Jakub Kicinski,2025-12-02T23:37:48Z,Merge git://git.kernel.org/pub/scm/linux/kernel/git/netdev/net  Merge in late fixes in preparation for the net-next PR.  Signed-off-by: Jakub Kicinski <kuba@kernel.org>,https://github.com/torvalds/linux/commit/4de44542991ed4cb8c9fb2ccd766d6e6015101b0
torvalds/linux,https://github.com/torvalds/linux,d61f1cc,Linus Torvalds,2025-12-02T22:48:08Z,"Merge tag 'x86_cpu_for_6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip  Pull x86 CPU feature updates from Dave Hansen:  ""The biggest thing of note here is Linear Address Space Separation   (LASS). It represents the first time I can think of that the   upper=>kernel/lower=>user address space convention is actually   recognized by the hardware on x86. It ensures that userspace can not   even get the hardware to _start_ page walks for the kernel address   space. This, of course, is a really nice generic side channel defense.    This is really only a down payment on LASS support. There are still   some details to work out in its interaction with EFI calls and   vsyscall emulation. For now, LASS is disabled if either of those   features is compiled in (which is almost always the case).    There's also one straggler commit in here which converts an   under-utilized AMD CPU feature leaf into a generic Linux-defined leaf   so more feature can be packed in there.    Summary:     - Enable Linear Address Space Separation (LASS)     - Change X86_FEATURE leaf 17 from an AMD leaf to Linux-defined""  * tag 'x86_cpu_for_6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip:   x86/cpu: Enable LASS during CPU initialization   selftests/x86: Update the negative vsyscall tests to expect a #GP   x86/traps: Communicate a LASS violation in #GP message   x86/kexec: Disable LASS during relocate kernel   x86/alternatives: Disable LASS when patching kernel code   x86/asm: Introduce inline memcpy and memset   x86/cpu: Add an LASS dependency on SMAP   x86/cpufeatures: Enumerate the LASS feature bits   x86/cpufeatures: Make X86_FEATURE leaf 17 Linux-specific",https://github.com/torvalds/linux/commit/d61f1cc5db799f4e44a63418b2dc19396787427b
torvalds/linux,https://github.com/torvalds/linux,a7610b8,Linus Torvalds,2025-12-02T22:24:21Z,"Merge tag 'x86_entry_for_6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip  Pull x86 entry update from Dave Hansen:  ""This one is pretty trivial: fix a badly-named FRED data structure   member""  * tag 'x86_entry_for_6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip:   x86/fred: Fix 64bit identifier in fred_ss",https://github.com/torvalds/linux/commit/a7610b8465393edc936c2640b903cb7758d5d155
torvalds/linux,https://github.com/torvalds/linux,e2aa39b,Linus Torvalds,2025-12-02T22:16:42Z,"Merge tag 'x86_misc_for_6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip  Pull misc x86 updates from Dave Hansen:  ""The most significant are some changes to ensure that symbols exported   for KVM are used only by KVM modules themselves, along with some   related cleanups.    In true x86/misc fashion, the other patch is completely unrelated and   just enhances an existing pr_warn() to make it clear to users how they   have tainted their kernel when something is mucking with MSRs.    Summary:     - Make MSR-induced taint easier for users to track down     - Restrict KVM-specific exports to KVM itself""  * tag 'x86_misc_for_6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip:   x86: Restrict KVM-induced symbol exports to KVM modules where obvious/possible   x86/mm: Drop unnecessary export of ""ptdump_walk_pgd_level_debugfs""   x86/mtrr: Drop unnecessary export of ""mtrr_state""   x86/bugs: Drop unnecessary export of ""x86_spec_ctrl_base""   x86/msr: Add CPU_OUT_OF_SPEC taint name to ""unrecognized"" pr_warn(msg)",https://github.com/torvalds/linux/commit/e2aa39b368bb147afe8f6bd63d962494354f6498
torvalds/linux,https://github.com/torvalds/linux,54de197,Linus Torvalds,2025-12-02T22:03:05Z,"Merge tag 'x86_sgx_for_6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip  Pull x86 SGX updates from Dave HansenL  ""The main content here is adding support for the new EUPDATESVN SGX   ISA. Before this, folks who updated microcode had to reboot before   enclaves could attest to the new microcode. The new functionality lets   them do this without a reboot.    The rest are some nice, but relatively mundane comment and kernel-doc   fixups.    Summary:     - Allow security version (SVN) updates so enclaves can attest to new      microcode     - Fix kernel docs typos""  * tag 'x86_sgx_for_6.19-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip:   x86/sgx: Fix a typo in the kernel-doc comment for enum sgx_attribute   x86/sgx: Remove superfluous asterisk from copyright comment in asm/sgx.h   x86/sgx: Document structs and enums with '@', not '%'   x86/sgx: Add kernel-doc descriptions for params passed to vDSO user handler   x86/sgx: Add a missing colon in kernel-doc markup for ""struct sgx_enclave_run""   x86/sgx: Enable automatic SVN updates for SGX enclaves   x86/sgx: Implement ENCLS[EUPDATESVN]   x86/sgx: Define error codes for use by ENCLS[EUPDATESVN]   x86/cpufeatures: Add X86_FEATURE_SGX_EUPDATESVN feature flag   x86/sgx: Introduce functions to count the sgx_(vepc_)open()",https://github.com/torvalds/linux/commit/54de197c9a5e8f522cb0a472e68e3e9888c91aa3
torvalds/linux,https://github.com/torvalds/linux,c76431e,Linus Torvalds,2025-12-02T21:32:52Z,"Merge tag 'x86_mm_for_v6.19_rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip  Pull x86 mm updates from Borislav Petkov:   - Use the proper accessors when reading CR3 as part of the page level    transitions (5-level to 4-level, the use case being kexec) so that    only the physical address in CR3 is picked up and not flags which are    above the physical mask shift   - Clean up and unify __phys_addr_symbol() definitions  * tag 'x86_mm_for_v6.19_rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip:   efi/libstub: Fix page table access in 5-level to 4-level paging transition   x86/boot: Fix page table access in 5-level to 4-level paging transition   x86/mm: Unify __phys_addr_symbol()",https://github.com/torvalds/linux/commit/c76431e3b53a426de565fa75f8278c59ca6f5ed6
torvalds/linux,https://github.com/torvalds/linux,a9a10e9,Linus Torvalds,2025-12-02T21:27:09Z,Merge tag 'x86_bugs_for_v6.19_rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip  Pull x86 CPU mitigation updates from Borislav Petkov:   - Convert the tsx= cmdline parsing to use early_param()   - Cleanup forward declarations gunk in bugs.c  * tag 'x86_bugs_for_v6.19_rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip:   x86/bugs: Get rid of the forward declarations   x86/tsx: Get the tsx= command line parameter with early_param()   x86/tsx: Make tsx_ctrl_state static,https://github.com/torvalds/linux/commit/a9a10e920e2e1ece946c584aa68f8a4fcedab791
torvalds/linux,https://github.com/torvalds/linux,cb502f0,Linus Torvalds,2025-12-02T21:07:53Z,Merge tag 'x86_sev_for_v6.19_rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip  Pull x86 SEV updates from Borislav Petkov:   - Largely cleanups along with a change to save XSS to the GHCB    (Guest-Host Communication Block) in SEV-ES guests so that the    hypervisor can determine the guest's XSAVES buffer size properly    and thus support shadow stacks in AMD confidential guests  * tag 'x86_sev_for_v6.19_rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip:   x86/cc: Fix enum spelling to fix kernel-doc warnings   x86/boot: Drop unused sev_enable() fallback   x86/coco/sev: Convert has_cpuflag() to use cpu_feature_enabled()   x86/sev: Include XSS value in GHCB CPUID request   x86/boot: Move boot_*msr helpers to asm/shared/msr.h,https://github.com/torvalds/linux/commit/cb502f0e5e87f769417691c7060a358a8b117c22
torvalds/linux,https://github.com/torvalds/linux,7eba05e,Bartosz Golaszewski,2025-11-20T08:27:47Z,MAINTAINERS: Add Manivannan Sadhasivam as PCI/pwrctrl maintainer  Manivannan is doing a lot of work on the PCI power control. Add him as maintainer.  Signed-off-by: Bartosz Golaszewski <bartosz.golaszewski@linaro.org> Signed-off-by: Bjorn Helgaas <bhelgaas@google.com> Acked-by: Manivannan Sadhasivam <mani@kernel.org> Link: https://patch.msgid.link/20251120082747.10541-1-brgl@bgdev.pl,https://github.com/torvalds/linux/commit/7eba05e79ca20b7169bf25da1e6cac1d31269f90
torvalds/linux,https://github.com/torvalds/linux,51f38be,Hans Zhang,2025-11-08T14:03:03Z,MAINTAINERS: Add CIX Sky1 PCIe controller driver maintainer  Add Hans Zhang as maintainer of the CIX Sky1 PCIe host driver.  Signed-off-by: Hans Zhang <hans.zhang@cixtech.com> Signed-off-by: Manivannan Sadhasivam <mani@kernel.org> Signed-off-by: Bjorn Helgaas <bhelgaas@google.com> Link: https://patch.msgid.link/20251108140305.1120117-9-hans.zhang@cixtech.com,https://github.com/torvalds/linux/commit/51f38bef0485f71c09755455df5bcf6f64320468
torvalds/linux,https://github.com/torvalds/linux,a0d9f2c,Hans Zhang,2025-11-08T14:03:02Z,"PCI: sky1: Add PCIe host support for CIX Sky1  Add driver for the CIX Sky1 SoC PCIe Gen4 16 GT/s controller based on the Cadence High Performance Architecture (HPA) PCIe core.  The controller supports MSI/MSI-X via GICv3, Single Virtual Channel, and Single Function.  Signed-off-by: Hans Zhang <hans.zhang@cixtech.com> [mani: moved the PCI ID definitions and squashed Kconfig change] Signed-off-by: Manivannan Sadhasivam <mani@kernel.org> [bhelgaas: sort Kconfig menu entry, squash https://lore.kernel.org/r/aSBqp0cglr-Sc8na@stanley.mountain] Signed-off-by: Bjorn Helgaas <bhelgaas@google.com> Link: https://patch.msgid.link/20251108140305.1120117-8-hans.zhang@cixtech.com",https://github.com/torvalds/linux/commit/a0d9f2c08f45ff3dfdb9eb0a843a486ad4875dbe
torvalds/linux,https://github.com/torvalds/linux,33c139d,Hans Zhang,2025-11-08T14:03:00Z,"dt-bindings: PCI: Add CIX Sky1 PCIe Root Complex bindings  Document the bindings for CIX Sky1 PCIe Controller configured in Root Complex mode with five Root Ports.  The controller supports 4 INTx, MSI and MSI-X interrupts with the help of the ARM GICv3 interrupt controller.  Signed-off-by: Hans Zhang <hans.zhang@cixtech.com> Signed-off-by: Manivannan Sadhasivam <mani@kernel.org> Signed-off-by: Bjorn Helgaas <bhelgaas@google.com> Reviewed-by: Krzysztof Kozlowski <krzysztof.kozlowski@linaro.org> Link: https://patch.msgid.link/20251108140305.1120117-6-hans.zhang@cixtech.com",https://github.com/torvalds/linux/commit/33c139dcff751d4d545ecc0a174adc0767274c1f
torvalds/linux,https://github.com/torvalds/linux,d748981,Linus Torvalds,2025-12-02T20:17:47Z,"Merge tag 'x86_cleanups_for_v6.19_rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip  Pull x86 cleanups from Borislav Petkov:   - The mandatory pile of cleanups the cat drags in every merge window  * tag 'x86_cleanups_for_v6.19_rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip:   x86/boot: Clean up whitespace in a20.c   x86/mm: Delete disabled debug code   x86/{boot,mtrr}: Remove unused function declarations   x86/percpu: Use BIT_WORD() and BIT_MASK() macros   x86/cpufeatures: Correct LKGS feature flag description   x86/idtentry: Add missing '*' to kernel-doc lines",https://github.com/torvalds/linux/commit/d7489818348e5374a8a12a309183fa44b3df41cc
torvalds/linux,https://github.com/torvalds/linux,8babd8a,Manikandan K Pillai,2025-11-08T14:02:59Z,"PCI: cadence: Add support for High Perf Architecture (HPA) controller  Add support for Cadence PCIe RP configuration for High Performance Architecture (HPA) controllers. The Cadence High Performance controllers are the latest PCIe controllers that have support for DMA, optional IDE and updated register set. Add a common library for High Performance Architecture (HPA) PCIe controllers.  Signed-off-by: Manikandan K Pillai <mpillai@cadence.com> Signed-off-by: Manivannan Sadhasivam <mani@kernel.org> [bhelgaas: squash https://lore.kernel.org/r/20251120093518.2760492-1-jiapeng.chong@linux.alibaba.com, squash https://lore.kernel.org/all/52abaad8-a43e-4e29-93d7-86a3245692c3@cixtech.com/] Signed-off-by: Bjorn Helgaas <bhelgaas@google.com> Link: https://patch.msgid.link/20251108140305.1120117-5-hans.zhang@cixtech.com",https://github.com/torvalds/linux/commit/8babd8afe58a65c8d3cb9b5a6a8d24d4f93033ab
torvalds/linux,https://github.com/torvalds/linux,de45401,Vincent Guittot,2025-11-21T16:49:20Z,MAINTAINERS: Add NXP S32G PCIe controller driver maintainer  Add a new entry for S32G PCIe controller driver.  Signed-off-by: Vincent Guittot <vincent.guittot@linaro.org> Signed-off-by: Manivannan Sadhasivam <mani@kernel.org> [bhelgaas: update to Ciprian Marian Costea per https://lore.kernel.org/r/f38396c7-0605-4876-9ea6-0a179d6577c7@oss.nxp.com] Signed-off-by: Bjorn Helgaas <bhelgaas@google.com> Reviewed-by: Frank Li <Frank.Li@nxp.com> Link: https://patch.msgid.link/20251121164920.2008569-5-vincent.guittot@linaro.org,https://github.com/torvalds/linux/commit/de45401e27bcecbc56ff2f02edc00a37beb1501b
torvalds/linux,https://github.com/torvalds/linux,5cbc7d3,Vincent Guittot,2025-11-21T16:49:19Z,PCI: s32g: Add NXP S32G PCIe controller driver (RC)  Add initial support of the PCIe controller for the NXP S32G SoC family. Only host mode is supported.  Co-developed-by: Ionut Vicovan <Ionut.Vicovan@nxp.com> Signed-off-by: Ionut Vicovan <Ionut.Vicovan@nxp.com> Co-developed-by: Ciprian Marian Costea <ciprianmarian.costea@nxp.com> Signed-off-by: Ciprian Marian Costea <ciprianmarian.costea@nxp.com> Co-developed-by: Ghennadi Procopciuc <Ghennadi.Procopciuc@nxp.com> Signed-off-by: Ghennadi Procopciuc <Ghennadi.Procopciuc@nxp.com> Co-developed-by: Larisa Grigore <larisa.grigore@nxp.com> Signed-off-by: Larisa Grigore <larisa.grigore@nxp.com> Signed-off-by: Vincent Guittot <vincent.guittot@linaro.org> [mani: replaced memblock_start_of_DRAM with hardcoded boundary addr] Signed-off-by: Manivannan Sadhasivam <mani@kernel.org> Signed-off-by: Bjorn Helgaas <bhelgaas@google.com> Reviewed-by: Frank Li <Frank.Li@nxp.com> Link: https://patch.msgid.link/20251121164920.2008569-4-vincent.guittot@linaro.org,https://github.com/torvalds/linux/commit/5cbc7d3e316e4251035e5d54c52540a8a7aa81c4
torvalds/linux,https://github.com/torvalds/linux,045ad2c,Vincent Guittot,2025-11-21T16:49:18Z,PCI: dwc: Add register and bitfield definitions  Add register and bitfield definitions:    - GEN3_RELATED_OFF_EQ_PHASE_2_3 field of GEN3_RELATED_OFF    - Coherency control registers  Signed-off-by: Vincent Guittot <vincent.guittot@linaro.org> Signed-off-by: Manivannan Sadhasivam <mani@kernel.org> Signed-off-by: Bjorn Helgaas <bhelgaas@google.com> Reviewed-by: Frank Li <Frank.Li@nxp.com> Link: https://patch.msgid.link/20251121164920.2008569-3-vincent.guittot@linaro.org,https://github.com/torvalds/linux/commit/045ad2c623d607f2c7720e2b8fcda675d96f7381
torvalds/linux,https://github.com/torvalds/linux,0472132,Vincent Guittot,2025-11-21T16:49:17Z,dt-bindings: PCI: s32g: Add NXP S32G PCIe controller  Describe the PCIe host controller available on the S32G platforms.  Co-developed-by: Ionut Vicovan <Ionut.Vicovan@nxp.com> Signed-off-by: Ionut Vicovan <Ionut.Vicovan@nxp.com> Co-developed-by: Bogdan-Gabriel Roman <bogdan-gabriel.roman@nxp.com> Signed-off-by: Bogdan-Gabriel Roman <bogdan-gabriel.roman@nxp.com> Co-developed-by: Larisa Grigore <larisa.grigore@nxp.com> Signed-off-by: Larisa Grigore <larisa.grigore@nxp.com> Co-developed-by: Ghennadi Procopciuc <Ghennadi.Procopciuc@nxp.com> Signed-off-by: Ghennadi Procopciuc <Ghennadi.Procopciuc@nxp.com> Co-developed-by: Ciprian Marian Costea <ciprianmarian.costea@nxp.com> Signed-off-by: Ciprian Marian Costea <ciprianmarian.costea@nxp.com> Co-developed-by: Bogdan Hamciuc <bogdan.hamciuc@nxp.com> Signed-off-by: Bogdan Hamciuc <bogdan.hamciuc@nxp.com> Signed-off-by: Vincent Guittot <vincent.guittot@linaro.org> Signed-off-by: Manivannan Sadhasivam <mani@kernel.org> Signed-off-by: Bjorn Helgaas <bhelgaas@google.com> Reviewed-by: Frank Li <Frank.Li@nxp.com> Reviewed-by: Manivannan Sadhasivam <mani@kernel.org> Reviewed-by: Rob Herring (Arm) <robh@kernel.org> Link: https://patch.msgid.link/20251121164920.2008569-2-vincent.guittot@linaro.org,https://github.com/torvalds/linux/commit/0472132df8489c56ae446646214f3cb2b7cd3946
torvalds/linux,https://github.com/torvalds/linux,2ae20d6,Linus Torvalds,2025-12-02T19:55:58Z,"Merge tag 'x86_cache_for_v6.19_rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip  Pull x86 resource control updates from Borislav Petkov:   - Add support for AMD's Smart Data Cache Injection feature which allows    for direct insertion of data from I/O devices into the L3 cache, thus    bypassing DRAM and saving its bandwidth; the resctrl side of the    feature allows the size of the L3 used for data injection to be    controlled   - Add Intel Clearwater Forest to the list of CPUs which support    Sub-NUMA clustering   - Other fixes and cleanups  * tag 'x86_cache_for_v6.19_rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip:   fs/resctrl: Update bit_usage to reflect io_alloc   fs/resctrl: Introduce interface to modify io_alloc capacity bitmasks   fs/resctrl: Modify struct rdt_parse_data to pass mode and CLOSID   fs/resctrl: Introduce interface to display io_alloc CBMs   fs/resctrl: Add user interface to enable/disable io_alloc feature   fs/resctrl: Introduce interface to display ""io_alloc"" support   x86,fs/resctrl: Implement ""io_alloc"" enable/disable handlers   x86,fs/resctrl: Detect io_alloc feature   x86/resctrl: Add SDCIAE feature in the command line options   x86/cpufeatures: Add support for L3 Smart Data Cache Injection Allocation Enforcement   fs/resctrl: Consider sparse masks when initializing new group's allocation   x86/resctrl: Support Sub-NUMA Cluster (SNC) mode on Clearwater Forest",https://github.com/torvalds/linux/commit/2ae20d651091c71ef182d28cbf10ce6f8be79c99
torvalds/linux,https://github.com/torvalds/linux,2a47c26,Linus Torvalds,2025-12-02T19:35:49Z,"Merge tag 'x86_microcode_for_v6.19_rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip  Pull x86 microcode loading updates from Borislav Petkov:   - Add microcode staging support on Intel: it moves the sole microcode    blobs loading to a non-critical path so that microcode loading    latencies are kept at minimum. The actual ""directing"" the hardware to    load microcode is the only step which is done on the critical path.     This scheme is also opportunistic as in: on a failure, the machinery    falls back to normal loading   - Add the capability to the AMD side of the loader to select one of two    per-family/model/stepping patches: one is pre-Entrysign and the other    is post-Entrysign; with the goal to take care of machines which    haven't updated their BIOS yet - something they should absolutely do    as this is the only proper Entrysign fix   - Other small cleanups and fixlets  * tag 'x86_microcode_for_v6.19_rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip:   x86/microcode: Mark early_parse_cmdline() as __init   x86/microcode/AMD: Select which microcode patch to load   x86/microcode/intel: Enable staging when available   x86/microcode/intel: Support mailbox transfer   x86/microcode/intel: Implement staging handler   x86/microcode/intel: Define staging state struct   x86/microcode/intel: Establish staging control logic   x86/microcode: Introduce staging step to reduce late-loading time   x86/cpu/topology: Make primary thread mask available with SMP=n",https://github.com/torvalds/linux/commit/2a47c26e55a2bc085a2349ed1d4e065ee298155f
torvalds/linux,https://github.com/torvalds/linux,9954464,Pavel Begunkov,2025-11-30T23:35:17Z,"net: page_pool: sanitise allocation order  We're going to give more control over rx buffer sizes to user space, and since we can't always rely on driver validation, let's sanitise it in page_pool_init() as well. Note that we only need to reject over MAX_PAGE_ORDER allocations for normal page pools, as current memory providers don't need to use the buddy allocator and must check the order on init.i  Suggested-by: Stanislav Fomichev <stfomichev@gmail.com> Reviewed-by: Mina Almasry <almasrymina@google.com> Signed-off-by: Pavel Begunkov <asml.silence@gmail.com> Link: https://patch.msgid.link/77ad83c1aec66cbd00e7b3952f74bc3b7a988150.1764542851.git.asml.silence@gmail.com Signed-off-by: Jakub Kicinski <kuba@kernel.org>",https://github.com/torvalds/linux/commit/9954464d737dd12f12b274d3da46397e3656f079
torvalds/linux,https://github.com/torvalds/linux,8548588,Pavel Begunkov,2025-11-30T23:35:16Z,"net: page pool: xa init with destroy on pp init  The free_ptr_ring label path initialises ->dma_mapped xarray but doesn't destroy it in case of an error. That's not a real problem since init itself doesn't do anything requiring destruction, but still match it with xa_destroy() to silence warnings.  Signed-off-by: Pavel Begunkov <asml.silence@gmail.com> Link: https://patch.msgid.link/02904c6d83dbe5cc1c671106a5c97bd93ab31006.1764542851.git.asml.silence@gmail.com Signed-off-by: Jakub Kicinski <kuba@kernel.org>",https://github.com/torvalds/linux/commit/854858848bc7ac6ea3bf896ef1b541cb9d4bca20
torvalds/linux,https://github.com/torvalds/linux,a612882,Linus Torvalds,2025-12-02T19:04:37Z,"Merge tag 'ras_core_for_v6.19_rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip  Pull x86 RAS updates from Borislav Petkov:   - The second part of the AMD MCA interrupts rework after the    last-minute show-stopper from the last merge window was sorted out.    After this, the AMD MCA deferred errors, thresholding and corrected    errors interrupt handlers use common MCA code and are tightly    integrated into the core MCA code, thereby getting rid of    considerable duplication. All culminating into allowing CMCI error    thresholding storms to be detected at AMD too, using the common    infrastructure   - Add support for two new MCA bank bits on AMD Zen6 which denote    whether the error address logged is a system physical address, which    obviates the need for it to be translated before further error    recovery can be done  * tag 'ras_core_for_v6.19_rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip:   x86/mce: Handle AMD threshold interrupt storms   x86/mce: Do not clear bank's poll bit in mce_poll_banks on AMD SMCA systems   x86/mce: Add support for physical address valid bit   x86/mce: Save and use APEI corrected threshold limit   x86/mce/amd: Define threshold restart function for banks   x86/mce/amd: Remove redundant reset_block()   x86/mce/amd: Support SMCA Corrected Error Interrupt   x86/mce/amd: Enable interrupt vectors once per-CPU on SMCA systems   x86/mce: Unify AMD DFR handler with MCA Polling   x86/mce: Unify AMD THR handler with MCA Polling",https://github.com/torvalds/linux/commit/a61288200e8b6f42bff116508dc72ebcc206f10a
torvalds/linux,https://github.com/torvalds/linux,49219bb,Linus Torvalds,2025-12-02T18:45:50Z,"Merge tag 'edac_updates_for_v6.19_rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/ras/ras  Pull EDAC updates from Borislav Petkov:   - imh_edac: Add a new EDAC driver for Intel Diamond Rapids and future    incarnations of this memory controllers architecture   - amd64_edac: Remove the legacy csrow sysfs interface which has been    deprecated and unused (we assume) for at least a decade   - Add the capability to fallback to BIOS-provided address translation    functionality (ACPI PRM) which can be used on systems unsupported by    the current AMD address translation library   - The usual fixes, fixlets, cleanups and improvements all over the    place  * tag 'edac_updates_for_v6.19_rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/ras/ras:   RAS/AMD/ATL: Replace bitwise_xor_bits() with hweight16()   EDAC/igen6: Fix error handling in igen6_edac driver   EDAC/imh: Setup 'imh_test' debugfs testing node   EDAC/{skx_comm,imh}: Detect 2-level memory configuration   EDAC/skx_common: Extend the maximum number of DRAM chip row bits   EDAC/{skx_common,imh}: Add EDAC driver for Intel Diamond Rapids servers   EDAC/skx_common: Prepare for skx_set_hi_lo()   EDAC/skx_common: Prepare for skx_get_edac_list()   EDAC/{skx_common,skx,i10nm}: Make skx_register_mci() independent of pci_dev   EDAC/ghes: Replace deprecated strcpy() in ghes_edac_report_mem_error()   EDAC/ie31200: Fix error handling in ie31200_register_mci   RAS/CEC: Replace use of system_wq with system_percpu_wq   EDAC: Remove the legacy EDAC sysfs interface   EDAC/amd64: Remove NUM_CONTROLLERS macro   EDAC/amd64: Generate ctl_name string at runtime   RAS/AMD/ATL: Require PRM support for future systems   ACPI: PRM: Add acpi_prm_handler_available()   RAS/AMD/ATL: Return error codes from helper functions",https://github.com/torvalds/linux/commit/49219bba0149157774b7091c3ea9ad22b2114285
torvalds/linux,https://github.com/torvalds/linux,7f8d5f7,Linus Torvalds,2025-12-02T18:18:49Z,"Merge tag 'core-core-2025-12-03' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip  Pull core irq cleanup from Thomas Gleixner:  ""Tree wide cleanup of the remaining users of in_irq() which got   replaced by in_hardirq() and marked deprecated in 2020""  * tag 'core-core-2025-12-03' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip:   treewide: Remove in_irq()",https://github.com/torvalds/linux/commit/7f8d5f70fffe2177afcc62f02feead5827dfe8dd
torvalds/linux,https://github.com/torvalds/linux,d42e504,Linus Torvalds,2025-12-02T17:58:33Z,"Merge tag 'timers-core-2025-11-30' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip  Pull timer core updates from Thomas Gleixner:   - Prevent a thundering herd problem when the timekeeper CPU is delayed    and a large number of CPUs compete to acquire jiffies_lock to do the    update. Limit it to one CPU with a separate ""uncontended"" atomic    variable.   - A set of improvements for the timer migration mechanism:       - Support imbalanced NUMA trees correctly       - Support dynamic exclusion of CPUs from the migrator duty to allow        the cpuset/isolation mechanism to exclude them from handling        timers of remote idle CPUs   - The usual small updates, cleanups and enhancements  * tag 'timers-core-2025-11-30' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip:   timers/migration: Exclude isolated cpus from hierarchy   cpumask: Add initialiser to use cleanup helpers   sched/isolation: Force housekeeping if isolcpus and nohz_full don't leave any   cgroup/cpuset: Rename update_unbound_workqueue_cpumask() to update_isolation_cpumasks()   timers/migration: Use scoped_guard on available flag set/clear   timers/migration: Add mask for CPUs available in the hierarchy   timers/migration: Rename 'online' bit to 'available'   selftests/timers/nanosleep: Add tests for return of remaining time   selftests/timers: Clean up kernel version check in posix_timers   time: Fix a few typos in time[r] related code comments   time: tick-oneshot: Add missing Return and parameter descriptions to kernel-doc   hrtimer: Store time as ktime_t in restart block   timers/migration: Remove dead code handling idle CPU checking for remote timers   timers/migration: Remove unused ""cpu"" parameter from tmigr_get_group()   timers/migration: Assert that hotplug preparing CPU is part of stable active hierarchy   timers/migration: Fix imbalanced NUMA trees   timers/migration: Remove locking on group connection   timers/migration: Convert ""while"" loops to use ""for""   tick/sched: Limit non-timekeeper CPUs calling jiffies update",https://github.com/torvalds/linux/commit/d42e504a555d0da2a10001e697f0c8a7f633fb05
torvalds/linux,https://github.com/torvalds/linux,5028f42,Linus Torvalds,2025-12-02T17:54:27Z,"Merge tag 'timers-clocksource-2025-11-30' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip  Pull clocksource updates from Thomas Gleixner:  ""Updates for clocksource and clockevent drivers:     - A new driver for the Realtel system timer     - Prevent the unbinding of timers when the drivers do not support      that     - Expand the timer counter readout for the SPRD driver to 64 bit      to allow IOT devices suspend times of more than 36 hours, which      is the current limit of the 32-bi readout     - The usual small cleanups, fixes and enhancements all over the      place""  * tag 'timers-clocksource-2025-11-30' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip:   clocksource/drivers: Add Realtek system timer driver   dt-bindings: timer: Add Realtek SYSTIMER   clocksource/drivers/stm32-lp: Drop unused module alias   clocksource/drivers/rda: Add sched_clock_register for RDA8810PL SoC   clocksource/drivers/nxp-stm: Prevent driver unbind   clocksource/drivers/nxp-pit: Prevent driver unbind   clocksource/drivers/arm_arch_timer_mmio: Prevent driver unbind   clocksource/drivers/nxp-stm: Fix section mismatches   clocksource/drivers/sh_cmt: Always leave device running after probe   clocksource/drivers/stm: Fix double deregistration on probe failure   clocksource/drivers/ralink: Fix resource leaks in init error path   clocksource/drivers/timer-sp804: Fix read_current_timer() issue when clock source is not registered   clocksource/drivers/sprd: Enable register for timer counter from 32 bit to 64 bit",https://github.com/torvalds/linux/commit/5028f42416eaec08d3f6aa4f98ccca669b3f8ab3
torvalds/linux,https://github.com/torvalds/linux,9ce62eb,Linus Torvalds,2025-12-02T17:35:59Z,"Merge tag 'irq-msi-2025-11-30' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip  Pull MSI updates from Thomas Gleixner:  ""Updates for [PCI] MSI related code:     - Remove one variant of PCI/MSI management as all users have been      converted to use per device domains. That reduces the variants to      two:       The modern and the real archaic legacy variant, which keeps the      usual suspects in the museum category alive.     - Rework the platform MSI device ID detection mechanism in the ARM      GIC world to address resource leaks, duplicated code and other      details. This requires a corresponding preparatory step in the      PCI/iproc driver.     - Trivial core code cleanups""  * tag 'irq-msi-2025-11-30' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip:   irqchip/gic-its: Rework platform MSI deviceID detection   PCI: iproc: Implement MSI controller node detection with of_msi_xlate()   genirq/msi: Slightly simplify msi_domain_alloc()   PCI/MSI: Delete pci_msi_create_irq_domain()",https://github.com/torvalds/linux/commit/9ce62ebbb7b24c28a1781f6b3bc6fdcd0b961392
torvalds/linux,https://github.com/torvalds/linux,15b87be,Linus Torvalds,2025-12-02T17:32:53Z,"Merge tag 'irq-drivers-2025-11-30' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip  Pull irq driver updates from Thomas Gleixner:  ""Boring updates for interrupt drivers:     - Support for a couple of new ARM64 and RISCV SoC variants and their      magic interrupt controllers which either can reuse existing code or      require quirks due to a botched hardware implementation     - More section mismatch fixes     - The usual cleanups and fixes all over the place""  * tag 'irq-drivers-2025-11-30' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip: (32 commits)   irqchip/meson-gpio: Add support for Amlogic S6 S7 and S7D SoCs   dt-bindings: interrupt-controller: Add support for Amlogic S6 S7 and S7D SoCs   dt-bindings: interrupt-controller: aspeed,ast2700: Correct #interrupt-cells and interrupts count   irqchip/aclint-sswi: Add Nuclei UX900 support   dt-bindings: interrupt-controller: Add Anlogic DR1V90 ACLINT SSWI   dt-bindings: interrupt-controller: Add Anlogic DR1V90 ACLINT MSWI   dt-bindings: interrupt-controller: Add Anlogic DR1V90 PLIC   irqchip/irq-bcm7038-l1: Remove unused reg_mask_status()   irqchip/sifive-plic: Fix call to __plic_toggle() in M-Mode code path   irqchip/sifive-plic: Add support for UltraRISC DP1000 PLIC   irqchip/sifive-plic: Cache the interrupt enable state   dt-bindings: interrupt-controller: Add UltraRISC DP1000 PLIC   dt-bindings: vendor-prefixes: Add UltraRISC   irqchip/qcom-irq-combiner: Rename driver structure   irqchip/riscv-imsic: Inline imsic_vector_from_local_id()   irqchip/riscv-imsic: Embed the vector array in lpriv   irqchip/riscv-imsic: Remove redundant irq_data lookups   irqchip/ts4800: Drop unused module alias   irqchip/mvebu-pic: Drop unused module alias   irqchip/meson-gpio: Drop unused module alias   ...",https://github.com/torvalds/linux/commit/15b87bec89cb227b55b3689bf5de31b85cf88559
torvalds/linux,https://github.com/torvalds/linux,6863c83,Linus Torvalds,2025-12-02T17:14:26Z,"Merge tag 'irq-core-2025-11-30' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip  Pull irq core updates from Thomas Gleixner:  ""Updates for the interrupt core and treewide cleanups:     - Rework of the Per Processor Interrupt (PPI) management on ARM[64]       PPI support was built under the assumption that the systems are      homogenous so that the same CPU local device types are connected to      them. That's unfortunately wishful thinking and created horrible      workarounds.       This rework provides affinity management for PPIs so that they can      be individually configured in the firmware tables and mops up the      related drivers all over the place.     - Prevent CPUSET/isolation changes to arbitrarily affine interrupt      threads to random CPUs, which ignores user or driver settings.     - Plug a harmless race in the interrupt affinity proc interface,      which allows to see a half updated mask     - Adjust the priority of secondary interrupt threads on RT, so that      the combination of primary and secondary thread emulates the      hardware interrupt plus thread scenario. Having them at the same      priority can cause starvation issues in some drivers""  * tag 'irq-core-2025-11-30' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip: (33 commits)   genirq: Remove cpumask availability check on kthread affinity setting   genirq: Fix interrupt threads affinity vs. cpuset isolated partitions   genirq: Prevent early spurious wake-ups of interrupt threads   genirq: Use raw_spinlock_irq() in irq_set_affinity_notifier()   genirq/manage: Reduce priority of forced secondary interrupt handler   genirq/proc: Fix race in show_irq_affinity()   genirq: Fix percpu_devid irq affinity documentation   perf: arm_pmu: Kill last use of per-CPU cpu_armpmu pointer   irqdomain: Kill of_node_to_fwnode() helper   genirq: Kill irq_{g,s}et_percpu_devid_partition()   irqchip: Kill irq-partition-percpu   irqchip/apple-aic: Drop support for custom PMU irq partitions   irqchip/gic-v3: Drop support for custom PPI partitions   coresight: trbe: Request specific affinities for per CPU interrupts   perf: arm_spe_pmu: Request specific affinities for per CPU interrupts   perf: arm_pmu: Request specific affinities for per CPU NMIs/interrupts   genirq: Add request_percpu_irq_affinity() helper   genirq: Allow per-cpu interrupt sharing for non-overlapping affinities   genirq: Update request_percpu_nmi() to take an affinity   genirq: Add affinity to percpu_devid interrupt requests   ...",https://github.com/torvalds/linux/commit/6863c8385c28ba4d30391f1d1fce39f62581d362
torvalds/linux,https://github.com/torvalds/linux,312f5b1,Linus Torvalds,2025-12-02T17:07:48Z,"Merge tag 'core-debugobjects-2025-11-30' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip  Pull debugobjects update from Thomas Gleixner:  ""Two small updates for debugobjects:     - Allow pool refill on RT enabled kernels before the scheduler is up      and running to prevent pool exhaustion     - Correct the lockdep override to prevent false positives""  * tag 'core-debugobjects-2025-11-30' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip:   debugobjects: Use LD_WAIT_CONFIG instead of LD_WAIT_SLEEP   debugobjects: Allow to refill the pool before SYSTEM_SCHEDULING",https://github.com/torvalds/linux/commit/312f5b18663a6dd8d8e6ad5a3fce0059a11686b2
torvalds/linux,https://github.com/torvalds/linux,eaf526c,Ilyas Gasanov,2025-12-02T15:49:30Z,"ALSA: hda/realtek: Add PCI SSIDs to HP ProBook quirks  According to HW probes, there exist upgraded variants of HP ProBook 440/450 G8 notebook PC hardware, with PCI SSIDs not yet covered:   - https://linux-hardware.org/?id=pci:8086-a0c8-103c-8a76    (HP ProBook 440 G8, SSID 103C:8A76, Tiger Lake HDA, ALC236)  - https://linux-hardware.org/?id=pci:8086-a0c8-103c-8a77    (HP ProBook 450 G8, SSID 103C:8A77, Tiger Lake HDA, ALC236)  The HDA GPIO indices for the mic mute (0x1) and speaker mute (0x2) LEDs are virtually guaranteed to be identical for the HP ProBook 440/450 G8 variants with motherboard SSIDs 8A74/8A75 (BIOS T87) and 8A76/8A77 (BIOS T88); especially since spare keyboard parts are interchangeable between different revisions of the same notebook models, and thus necessarily have the same slot pinouts.  Signed-off-by: Ilyas Gasanov <public@gsnoff.com> Link: https://patch.msgid.link/20251202154930.74481-1-public@gsnoff.com Signed-off-by: Takashi Iwai <tiwai@suse.de>",https://github.com/torvalds/linux/commit/eaf526cfa4e537af86543d77f402b9ae803f606e
torvalds/linux,https://github.com/torvalds/linux,2b09f48,Linus Torvalds,2025-12-02T16:48:53Z,"Merge tag 'core-rseq-2025-11-30' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip  Pull rseq updates from Thomas Gleixner:  ""A large overhaul of the restartable sequences and CID management:    The recent enablement of RSEQ in glibc resulted in regressions which   are caused by the related overhead. It turned out that the decision to   invoke the exit to user work was not really a decision. More or less   each context switch caused that. There is a long list of small issues   which sums up nicely and results in a 3-4% regression in I/O   benchmarks.    The other detail which caused issues due to extra work in context   switch and task migration is the CID (memory context ID) management.   It also requires to use a task work to consolidate the CID space,   which is executed in the context of an arbitrary task and results in   sporadic uncontrolled exit latencies.    The rewrite addresses this by:     - Removing deprecated and long unsupported functionality     - Moving the related data into dedicated data structures which are      optimized for fast path processing.     - Caching values so actual decisions can be made     - Replacing the current implementation with a optimized inlined      variant.     - Separating fast and slow path for architectures which use the      generic entry code, so that only fault and error handling goes into      the TIF_NOTIFY_RESUME handler.     - Rewriting the CID management so that it becomes mostly invisible in      the context switch path. That moves the work of switching modes      into the fork/exit path, which is a reasonable tradeoff. That work      is only required when a process creates more threads than the      cpuset it is allowed to run on or when enough threads exit after      that. An artificial thread pool benchmarks which triggers this did      not degrade, it actually improved significantly.       The main effect in migration heavy scenarios is that runqueue lock      held time and therefore contention goes down significantly""  * tag 'core-rseq-2025-11-30' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip: (54 commits)   sched/mmcid: Switch over to the new mechanism   sched/mmcid: Implement deferred mode change   irqwork: Move data struct to a types header   sched/mmcid: Provide CID ownership mode fixup functions   sched/mmcid: Provide new scheduler CID mechanism   sched/mmcid: Introduce per task/CPU ownership infrastructure   sched/mmcid: Serialize sched_mm_cid_fork()/exit() with a mutex   sched/mmcid: Provide precomputed maximal value   sched/mmcid: Move initialization out of line   signal: Move MMCID exit out of sighand lock   sched/mmcid: Convert mm CID mask to a bitmap   cpumask: Cache num_possible_cpus()   sched/mmcid: Use cpumask_weighted_or()   cpumask: Introduce cpumask_weighted_or()   sched/mmcid: Prevent pointless work in mm_update_cpus_allowed()   sched/mmcid: Move scheduler code out of global header   sched: Fixup whitespace damage   sched/mmcid: Cacheline align MM CID storage   sched/mmcid: Use proper data structures   sched/mmcid: Revert the complex CID management   ...",https://github.com/torvalds/linux/commit/2b09f480f0a1e68111ae36a7be9aa1c93e067255
torvalds/linux,https://github.com/torvalds/linux,8a157e0,Andreas Gruenbacher,2025-11-30T21:19:52Z,"gfs2: Fix use of bio_chain  In gfs2_chain_bio(), the call to bio_chain() has its arguments swapped. The result is leaked bios and incorrect synchronization (only the last bio will actually be waited for).  This code is only used during mount and filesystem thaw, so the bug normally won't be noticeable.  Reported-by: Stephen Zhang <starzhangzsd@gmail.com> Signed-off-by: Andreas Gruenbacher <agruenba@redhat.com>",https://github.com/torvalds/linux/commit/8a157e0a0aa5143b5d94201508c0ca1bb8cfb941
torvalds/linux,https://github.com/torvalds/linux,3925683,Mario Limonciello (AMD),2025-11-30T01:46:31Z,"Revert ""drm/amd: Skip power ungate during suspend for VPE""  Skipping power ungate exposed some scenarios that will fail like below:  ``` amdgpu: Register(0) [regVPEC_QUEUE_RESET_REQ] failed to reach value 0x00000000 != 0x00000001n amdgpu 0000:c1:00.0: amdgpu: VPE queue reset failed ... amdgpu: [drm] *ERROR* wait_for_completion_timeout timeout! ```  The underlying s2idle issue that prompted this commit is going to be fixed in BIOS. This reverts commit 2a6c826cfeedd7714611ac115371a959ead55bda.  Fixes: 2a6c826cfeed (""drm/amd: Skip power ungate during suspend for VPE"") Cc: stable@vger.kernel.org Signed-off-by: Mario Limonciello (AMD) <superm1@kernel.org> Acked-by: Alex Deucher <alexander.deucher@amd.com> Reported-by: Konstantin <answer2019@yandex.ru> Closes: https://bugzilla.kernel.org/show_bug.cgi?id=220812 Reported-by: Matthew Schwartz <matthew.schwartz@linux.dev> Signed-off-by: Alex Deucher <alexander.deucher@amd.com>",https://github.com/torvalds/linux/commit/3925683515e93844be204381d2d5a1df5de34f31
torvalds/linux,https://github.com/torvalds/linux,8173560,Alex Deucher,2025-11-18T21:56:54Z,drm/amdgpu: use common defines for HUB faults  Use common definitions for the fault bits in the IH sourc data for the gmc9-12 memory hub faults  Reviewed-by: Timur Kristóf <timur.kristof@gmail.com> Signed-off-by: Alex Deucher <alexander.deucher@amd.com>,https://github.com/torvalds/linux/commit/817356048e38e2284a04319b7c78b3c5a5f3d7c3
torvalds/linux,https://github.com/torvalds/linux,ff28ff9,Alex Deucher,2025-11-13T20:57:43Z,"drm/amdgpu/gmc12: add amdgpu_vm_handle_fault() handling  We need to call amdgpu_vm_handle_fault() on page fault on all gfx9 and newer parts to properly update the page tables, not just for recoverable page faults.  Cc: stable@vger.kernel.org Reviewed-by: Timur Kristóf <timur.kristof@gmail.com> Signed-off-by: Alex Deucher <alexander.deucher@amd.com>",https://github.com/torvalds/linux/commit/ff28ff98db6a8eeb469e02fb8bd1647b353232a9
torvalds/linux,https://github.com/torvalds/linux,3f2289b,Alex Deucher,2025-11-13T20:55:19Z,"drm/amdgpu/gmc11: add amdgpu_vm_handle_fault() handling  We need to call amdgpu_vm_handle_fault() on page fault on all gfx9 and newer parts to properly update the page tables, not just for recoverable page faults.  Cc: stable@vger.kernel.org Reviewed-by: Timur Kristóf <timur.kristof@gmail.com> Signed-off-by: Alex Deucher <alexander.deucher@amd.com>",https://github.com/torvalds/linux/commit/3f2289b56cd98f5741056bdb6e521324eff07ce5
torvalds/linux,https://github.com/torvalds/linux,0300e6d,Brady Norander,2025-03-25T21:05:17Z,"drm/amdgpu: use static ids for ACP platform devs  mfd_add_hotplug_devices() assigns child platform devices with PLATFORM_DEVID_AUTO, but the ACP machine drivers expect the platform device names to never change. Use mfd_add_devices() instead and give each cell a unique id.  Signed-off-by: Brady Norander <bradynorander@gmail.com> Signed-off-by: Alex Deucher <alexander.deucher@amd.com>",https://github.com/torvalds/linux/commit/0300e6d6ff63ff86f9acca65071ecbfff50eb575
torvalds/linux,https://github.com/torvalds/linux,c8e7e3c,Srinivasan Shanmugam,2025-11-25T15:50:45Z,"drm/amdgpu/sdma6: Update SDMA 6.0.3 FW version to include UMQ protected-fence fix  On GFX11.0.3, earlier SDMA firmware versions issue the PROTECTED_FENCE write from the user VMID (e.g. VMID 8) instead of VMID 0. This causes a GPU VM protection fault when SDMA tries to write the secure fence location, as seen in the UMQ SDMA test (cs-sdma-with-IP-DMA-UMQ)  Fixes the below GPU page fault: [  514.037189] amdgpu 0000:0b:00.0: amdgpu: [gfxhub] page fault (src_id:0 ring:40 vmid:8 pasid:32770) [  514.037199] amdgpu 0000:0b:00.0: amdgpu:  Process  pid 0 thread  pid 0 [  514.037205] amdgpu 0000:0b:00.0: amdgpu:   in page starting at address 0x00007fff00409000 from client 10 [  514.037212] amdgpu 0000:0b:00.0: amdgpu: GCVM_L2_PROTECTION_FAULT_STATUS:0x00841A51 [  514.037217] amdgpu 0000:0b:00.0: amdgpu:      Faulty UTCL2 client ID: SDMA0 (0xd) [  514.037223] amdgpu 0000:0b:00.0: amdgpu:      MORE_FAULTS: 0x1 [  514.037227] amdgpu 0000:0b:00.0: amdgpu:      WALKER_ERROR: 0x0 [  514.037232] amdgpu 0000:0b:00.0: amdgpu:      PERMISSION_FAULTS: 0x5 [  514.037236] amdgpu 0000:0b:00.0: amdgpu:      MAPPING_ERROR: 0x0 [  514.037241] amdgpu 0000:0b:00.0: amdgpu:      RW: 0x1  v2: Updated commit message v3: s/gfx11.0.3/sdma 6.0.3/ in patch title (Alex)  Cc: Alex Deucher <alexander.deucher@amd.com> Cc: Christian König <christian.koenig@amd.com> Cc: stable@vger.kernel.org Signed-off-by: Srinivasan Shanmugam <srinivasan.shanmugam@amd.com> Reviewed-by: Alex Deucher <alexander.deucher@amd.com> Signed-off-by: Alex Deucher <alexander.deucher@amd.com>",https://github.com/torvalds/linux/commit/c8e7e3c2215e286ebfe66fe828ed426546c519e6
torvalds/linux,https://github.com/torvalds/linux,8defb4f,Natalie Vock,2025-12-01T17:52:38Z,"drm/amdgpu: Forward VMID reservation errors  Otherwise userspace may be fooled into believing it has a reserved VMID when in reality it doesn't, ultimately leading to GPU hangs when SPM is used.  Fixes: 80e709ee6ecc (""drm/amdgpu: add option params to enforce process isolation between graphics and compute"") Cc: stable@vger.kernel.org Reviewed-by: Christian König <christian.koenig@amd.com> Signed-off-by: Natalie Vock <natalie.vock@gmx.de> Signed-off-by: Alex Deucher <alexander.deucher@amd.com>",https://github.com/torvalds/linux/commit/8defb4f081a5feccc3ea8372d0c7af3522124e1f
torvalds/linux,https://github.com/torvalds/linux,40cc2b4,Timur Kristóf,2025-11-26T13:29:52Z,"drm/amdgpu/gmc8: Delegate VM faults to soft IRQ handler ring  On old GPUs, it may be an issue that handling the interrupts from VM faults is too slow and the interrupt handler (IH) ring may overflow, which can cause an eventual hang.  Delegate the processing of all VM faults to the soft IRQ handler ring.  As a result, we spend much less time in the IRQ handler that interacts with the HW IH ring, which significantly reduces the chance of hangs/reboots.  Signed-off-by: Timur Kristóf <timur.kristof@gmail.com> Reviewed-by: Christian König <christian.koenig@amd.com> Signed-off-by: Christian König <christian.koenig@amd.com> Signed-off-by: Alex Deucher <alexander.deucher@amd.com>",https://github.com/torvalds/linux/commit/40cc2b423d9da17ac622dbcc858fa94d428a4f03
torvalds/linux,https://github.com/torvalds/linux,8715a7a,Timur Kristóf,2025-11-26T13:29:51Z,"drm/amdgpu/gmc7: Delegate VM faults to soft IRQ handler ring  On old GPUs, it may be an issue that handling the interrupts from VM faults is too slow and the interrupt handler (IH) ring may overflow, which can cause an eventual hang.  Delegate the processing of all VM faults to the soft IRQ handler ring.  As a result, we spend much less time in the IRQ handler that interacts with the HW IH ring, which significantly reduces the chance of hangs/reboots.  Signed-off-by: Timur Kristóf <timur.kristof@gmail.com> Reviewed-by: Christian König <christian.koenig@amd.com> Signed-off-by: Christian König <christian.koenig@amd.com> Signed-off-by: Alex Deucher <alexander.deucher@amd.com>",https://github.com/torvalds/linux/commit/8715a7ab382a7e92d1431b565d7bdb5e13b3715e
torvalds/linux,https://github.com/torvalds/linux,4996b4c,Timur Kristóf,2025-11-26T13:29:50Z,"drm/amdgpu/gmc6: Delegate VM faults to soft IRQ handler ring  On old GPUs, it may be an issue that handling the interrupts from VM faults is too slow and the interrupt handler (IH) ring may overflow, which can cause an eventual hang.  Delegate the processing of all VM faults to the soft IRQ handler ring.  As a result, we spend much less time in the IRQ handler that interacts with the HW IH ring, which significantly reduces the chance of hangs/reboots.  Signed-off-by: Timur Kristóf <timur.kristof@gmail.com> Reviewed-by: Christian König <christian.koenig@amd.com> Signed-off-by: Christian König <christian.koenig@amd.com> Signed-off-by: Alex Deucher <alexander.deucher@amd.com>",https://github.com/torvalds/linux/commit/4996b4c19984a71ec7eae6301a24565252291433
torvalds/linux,https://github.com/torvalds/linux,61673ef,Timur Kristóf,2025-11-26T13:29:49Z,drm/amdgpu/gmc6: Cache VM fault info  Call amdgpu_vm_update_fault_cache on GMC v6 similarly to how we do in GMC v7-v8 so that VM fault info can be used later by userspace for debugging.  Signed-off-by: Timur Kristóf <timur.kristof@gmail.com> Reviewed-by: Christian König <christian.koenig@amd.com> Signed-off-by: Christian König <christian.koenig@amd.com> Signed-off-by: Alex Deucher <alexander.deucher@amd.com>,https://github.com/torvalds/linux/commit/61673efc1f5b883ecbeaf7957c5594b70015572b
torvalds/linux,https://github.com/torvalds/linux,d56aaba,Timur Kristóf,2025-11-26T13:29:48Z,"drm/amdgpu/gmc6: Don't print MC client as it's unknown  The VM_CONTEXT1_PROTECTION_FAULT_MCCLIENT register doesn't exist on GMC v6 so we can't print the MC client as a string like we do on GMC v7-v8. However, we still print the mc_id from VM_CONTEXT1_PROTECTION_FAULT_STATUS.  Signed-off-by: Timur Kristóf <timur.kristof@gmail.com> Reviewed-by: Christian König <christian.koenig@amd.com> Signed-off-by: Christian König <christian.koenig@amd.com> Signed-off-by: Alex Deucher <alexander.deucher@amd.com>",https://github.com/torvalds/linux/commit/d56aabaa562bcf9ac915b265c565d22f72ca2dd2
torvalds/linux,https://github.com/torvalds/linux,488d9e7,Timur Kristóf,2025-11-26T13:29:47Z,drm/amdgpu/cz_ih: Enable soft IRQ handler ring  We are going to use the soft IRQ handler ring on GMC v8 to process interrupts from VM faults.  Signed-off-by: Timur Kristóf <timur.kristof@gmail.com> Reviewed-by: Christian König <christian.koenig@amd.com> Signed-off-by: Christian König <christian.koenig@amd.com> Signed-off-by: Alex Deucher <alexander.deucher@amd.com>,https://github.com/torvalds/linux/commit/488d9e7cd68ced0fa62bb6641a2b9a8329d399d5
torvalds/linux,https://github.com/torvalds/linux,f808585,Timur Kristóf,2025-11-26T13:29:46Z,drm/amdgpu/tonga_ih: Enable soft IRQ handler ring  We are going to use the soft IRQ handler ring on GMC v8 to process interrupts from VM faults.  Signed-off-by: Timur Kristóf <timur.kristof@gmail.com> Reviewed-by: Christian König <christian.koenig@amd.com> Signed-off-by: Christian König <christian.koenig@amd.com> Signed-off-by: Alex Deucher <alexander.deucher@amd.com>,https://github.com/torvalds/linux/commit/f8085859a5b0ab587256149832d218902e41463a
torvalds/linux,https://github.com/torvalds/linux,f4fa4c9,Timur Kristóf,2025-11-26T13:29:45Z,drm/amdgpu/iceland_ih: Enable soft IRQ handler ring  We are going to use the soft IRQ handler ring on GMC v8 to process interrupts from VM faults.  Signed-off-by: Timur Kristóf <timur.kristof@gmail.com> Reviewed-by: Christian König <christian.koenig@amd.com> Signed-off-by: Christian König <christian.koenig@amd.com> Signed-off-by: Alex Deucher <alexander.deucher@amd.com>,https://github.com/torvalds/linux/commit/f4fa4c9e2dcf4c02da63c995fc584e4427c22a4d
torvalds/linux,https://github.com/torvalds/linux,45bef89,Timur Kristóf,2025-11-26T13:29:44Z,drm/amdgpu/cik_ih: Enable soft IRQ handler ring  We are going to use the soft IRQ handler ring on GMC v7 (CIK) to process interrupts from VM faults.  Signed-off-by: Timur Kristóf <timur.kristof@gmail.com> Reviewed-by: Christian König <christian.koenig@amd.com> Signed-off-by: Christian König <christian.koenig@amd.com> Signed-off-by: Alex Deucher <alexander.deucher@amd.com>,https://github.com/torvalds/linux/commit/45bef8999a641573dbfac4f80fa47cee90a5aa2d
torvalds/linux,https://github.com/torvalds/linux,2a38b0e,Timur Kristóf,2025-11-26T13:29:43Z,drm/amdgpu/si_ih: Enable soft IRQ handler ring  We are going to use the soft IRQ handler ring on GMC v6 (SI) to process interrupts from VM faults.  Signed-off-by: Timur Kristóf <timur.kristof@gmail.com> Reviewed-by: Christian König <christian.koenig@amd.com> Signed-off-by: Christian König <christian.koenig@amd.com> Signed-off-by: Alex Deucher <alexander.deucher@amd.com>,https://github.com/torvalds/linux/commit/2a38b0ece1923cb626b639507a9c6e633b511291
torvalds/linux,https://github.com/torvalds/linux,1dce506,Linus Torvalds,2025-12-02T16:01:39Z,"Merge tag 'core-uaccess-2025-11-30' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip  Pull scoped user access updates from Thomas Gleixner:  ""Scoped user mode access and related changes:     - Implement the missing u64 user access function on ARM when      CONFIG_CPU_SPECTRE=n.       This makes it possible to access a 64bit value in generic code with      [unsafe_]get_user(). All other architectures and ARM variants      provide the relevant accessors already.     - Ensure that ASM GOTO jump label usage in the user mode access      helpers always goes through a local C scope label indirection      inside the helpers.       This is required because compilers are not supporting that a ASM      GOTO target leaves a auto cleanup scope. GCC silently fails to emit      the cleanup invocation and CLANG fails the build.       [ Editor's note: gcc-16 will have fixed the code generation issue        in commit f68fe3ddda4 (""eh: Invoke cleanups/destructors in asm        goto jumps [PR122835]""). But we obviously have to deal with clang        and older versions of gcc, so.. - Linus ]       This provides generic wrapper macros and the conversion of affected      architecture code to use them.     - Scoped user mode access with auto cleanup       Access to user mode memory can be required in hot code paths, but      if it has to be done with user controlled pointers, the access is      shielded with a speculation barrier, so that the CPU cannot      speculate around the address range check. Those speculation      barriers impact performance quite significantly.       This cost can be avoided by ""masking"" the provided pointer so it is      guaranteed to be in the valid user memory access range and      otherwise to point to a guaranteed unpopulated address space. This      has to be done without branches so it creates an address dependency      for the access, which the CPU cannot speculate ahead.       This results in repeating and error prone programming patterns:         	    if (can_do_masked_user_access())                       from = masked_user_read_access_begin((from));               else if (!user_read_access_begin(from, sizeof(*from)))                       return -EFAULT;               unsafe_get_user(val, from, Efault);               user_read_access_end();               return 0;         Efault:               user_read_access_end();               return -EFAULT;        which can be replaced with scopes and automatic cleanup:                scoped_user_read_access(from, Efault)                       unsafe_get_user(val, from, Efault);               return 0;          Efault:               return -EFAULT;     - Convert code which implements the above pattern over to      scope_user.*.access(). This also corrects a couple of imbalanced      masked_*_begin() instances which are harmless on most      architectures, but prevent PowerPC from implementing the masking      optimization.     - Add a missing speculation barrier in copy_from_user_iter()""  * tag 'core-uaccess-2025-11-30' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip:   lib/strn*,uaccess: Use masked_user_{read/write}_access_begin when required   scm: Convert put_cmsg() to scoped user access   iov_iter: Add missing speculation barrier to copy_from_user_iter()   iov_iter: Convert copy_from_user_iter() to masked user access   select: Convert to scoped user access   x86/futex: Convert to scoped user access   futex: Convert to get/put_user_inline()   uaccess: Provide put/get_user_inline()   uaccess: Provide scoped user access regions   arm64: uaccess: Use unsafe wrappers for ASM GOTO   s390/uaccess: Use unsafe wrappers for ASM GOTO   riscv/uaccess: Use unsafe wrappers for ASM GOTO   powerpc/uaccess: Use unsafe wrappers for ASM GOTO   x86/uaccess: Use unsafe wrappers for ASM GOTO   uaccess: Provide ASM GOTO safe wrappers for unsafe_*_user()   ARM: uaccess: Implement missing __get_user_asm_dword()",https://github.com/torvalds/linux/commit/1dce50698a5ceedaca806e0a78573886a363dc95
torvalds/linux,https://github.com/torvalds/linux,a7fa4f2,Aditya Gollamudi,2025-10-12T19:13:19Z,"drm/amd/display: fix typo in display_mode_core_structs.h  Fix a typo in a comment, change ""enviroment"" to ""environment"" in drivers/gpu/drm/amd/display/dc/dml2/display_mode_core_structs.h  Fixes: e6a8a000cfe6 (""drm/amd/display: Rename dml2 to dml2_0 folder"") Acked-by: Aurabindo Pillai <aurabindo.pillai@amd.com> Signed-off-by: Aditya Gollamudi <adigollamudi@gmail.com> Signed-off-by: Alex Deucher <alexander.deucher@amd.com> Signed-off-by: Roman Li <roman.li@amd.com> Signed-off-by: Alex Deucher <alexander.deucher@amd.com>",https://github.com/torvalds/linux/commit/a7fa4f2d9665eb09564cd9801b5c4aec93188d1d
torvalds/linux,https://github.com/torvalds/linux,54da09c,Ian Chen,2025-11-13T05:07:58Z,"drm/amd/display: fix Smart Power OLED not working after S4  [HOW] Before enable smart power OLED, we need to call set pipe to let DMUB get correct ABM config.  Reviewed-by: Robin Chen <robin.chen@amd.com> Signed-off-by: Ian Chen <ian.chen@amd.com> Signed-off-by: Roman Li <roman.li@amd.com> Tested-by: Dan Wheeler <daniel.wheeler@amd.com> Signed-off-by: Alex Deucher <alexander.deucher@amd.com>",https://github.com/torvalds/linux/commit/54da09c768ebe85efa043ad0d0695d0ee374c2d7
torvalds/linux,https://github.com/torvalds/linux,5fdd03c,Ivan Lipski,2025-11-21T20:03:57Z,"drm/amd/display: Move RGB-type check for audio sync to DCE HW sequence  [Why&How] DVI-A & VGA connectors are applicable to DCE ASICs, so move them to dce110_hwseq.c to block audio sync on SIGNAL_TYPE_RGB for DCE ASICs.  Signed-off-by: Ivan Lipski <ivan.lipski@amd.com> Reviewed-by: Harry Wentland <harry.wentland@amd.com> Tested-by: Dan Wheeler <daniel.wheeler@amd.com> Signed-off-by: Alex Deucher <alexander.deucher@amd.com>",https://github.com/torvalds/linux/commit/5fdd03c7e2ec19476d7598e5604c09ca4062764b
torvalds/linux,https://github.com/torvalds/linux,4fa9442,Pierre-Eric Pelloux-Prayer,2025-11-25T09:48:39Z,"drm/amdgpu: add missing lock to amdgpu_ttm_access_memory_sdma  Users of ttm entities need to hold the gtt_window_lock before using them to guarantee proper ordering of jobs.  Cc: stable@vger.kernel.org Fixes: cb5cc4f573e1 (""drm/amdgpu: improve debug VRAM access performance using sdma"") Signed-off-by: Pierre-Eric Pelloux-Prayer <pierre-eric.pelloux-prayer@amd.com> Reviewed-by: Christian König <christian.koenig@amd.com> Signed-off-by: Alex Deucher <alexander.deucher@amd.com>",https://github.com/torvalds/linux/commit/4fa944255be521b1bbd9780383f77206303a3a5c
torvalds/linux,https://github.com/torvalds/linux,3c4159b,Paolo Abeni,2025-12-02T14:20:41Z,"Merge branch 'net-mlx5e-disable-egress-xdp-redirect-in-default'  Tariq Toukan says:  ==================== net/mlx5e: Disable egress xdp-redirect in default  This small series disables the egress xdp-redirect feature in default. It can still be enabled by loading a dummy XDP program.  Patches were previously submitted as part of [1].  This reduces the default number of SQs in each channel from 4 to 3, and saves resources in device and host memory.  This also improves the latency of channel configuration operations, like interface up (create channels), interface down (destroy channels), and channels reconfiguration (create new set, destroy old one).  Perf numbers: NIC: Connect-X7. Setup: 248 channels, default mtu and rx/tx ring sizes.  Interface up + down: Before: 2.246 secs After:  1.798 secs (-0.448 sec)  Saves ~1.8 msec per channel.  [1] https://lore.kernel.org/all/1762939749-1165658-1-git-send-email-tariqt@nvidia.com/ ====================  Link: https://patch.msgid.link/1764497617-1326331-1-git-send-email-tariqt@nvidia.com Signed-off-by: Paolo Abeni <pabeni@redhat.com>",https://github.com/torvalds/linux/commit/3c4159b3019cc3444495f54c18083cda579cba84
torvalds/linux,https://github.com/torvalds/linux,d4aa0cc,Tariq Toukan,2025-11-30T10:13:37Z,"net/mlx5e: Support XDP target xmit with dummy program  Save per-channel resources in default, in device and host memory.  As no better API exist, make the XDP-redirect-target SQ available by loading a dummy XDP program.  This improves the latency of interface up/down operations when feature is disabled.  Perf numbers: NIC: Connect-X7. Setup: 248 channels, default mtu and rx/tx ring sizes.  Interface up + down: Before: 2.246 secs After:  1.798 secs (-0.448 sec)  Saves ~1.8 msec per channel.  Signed-off-by: Tariq Toukan <tariqt@nvidia.com> Reviewed-by: Dragos Tatulea <dtatulea@nvidia.com> Reviewed-by: William Tu <witu@nvidia.com> Link: https://patch.msgid.link/1764497617-1326331-3-git-send-email-tariqt@nvidia.com Signed-off-by: Paolo Abeni <pabeni@redhat.com>",https://github.com/torvalds/linux/commit/d4aa0cc9bd31f3e0cd5f067d649bf39135e4b46b

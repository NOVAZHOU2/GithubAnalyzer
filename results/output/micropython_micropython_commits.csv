项目名称,项目URL,提交ID,提交者,提交时间,提交信息,提交链接
micropython/micropython,https://github.com/micropython/micropython,3f796b6,Damien George,2025-12-03T13:33:04Z,"tools/autobuild: Make firmware destination directory configurable.  The destination directory for the firmware built by `autobuild.sh` is currently hard-coded to `/tmp/autobuild-firmware-$$`.  Now that there are many boards built by this script, the `/tmp` partition can run out of space.  This commit makes the destination directory configurable via the `MICROPY_AUTOBUILD_DEST` environment variable.  Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/3f796b687b4ca2b1bf7db7ed0220dbf6b8a55b14
micropython/micropython,https://github.com/micropython/micropython,0b1a6be,Angus Gratton,2025-11-05T00:22:18Z,"docs/library/machine.Timer: Explain the id parameter in more detail.  As noted in discussion on PR #18263, the id parameter is optional on ports that support virtual timers.  Add some more general explanation of hardware vs virtual timers, and remove redundant documentation about timer callbacks in favour of the isr_rules page.  This work was funded through GitHub Sponsors.  Signed-off-by: Angus Gratton <angus@redyak.com.au>",https://github.com/micropython/micropython/commit/0b1a6bebae857053a0c6cc865e3ca38a8f5f28df
micropython/micropython,https://github.com/micropython/micropython,5ea9a26,Angus Gratton,2025-12-03T00:23:34Z,"esp32: Don't disable component manager when updating submodules.  - Reverts the change from ec527a1 - since later change cccac2cc we   no longer exit CMake early to get the submodule list, so it's OK   to run component manager during this phase.  - Fixes issue where ""make submodules BOARD=ESP32_GENERIC_S3"" (or any other   board that depends on USB) would fail due to missing component(s).  This work was funded through GitHub Sponsors.  Signed-off-by: Angus Gratton <angus@redyak.com.au>",https://github.com/micropython/micropython/commit/5ea9a2662d9f530f88d566aec76cfaef5f6d392d
micropython/micropython,https://github.com/micropython/micropython,a94f811,Damien George,2025-12-02T23:41:47Z,"esp32/boards/ESP32_GENERIC_P4: Add variants to board.json and .md files.  Add variants to the new ESP32_GENERIC_P4 board, so they appear on the download page.  Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/a94f8114f3bd6a01093b99a75ef62ff619a61a23
micropython/micropython,https://github.com/micropython/micropython,797925c,Angus Gratton,2025-12-02T23:39:29Z,"esp32: Fix board images for ESP32_GENERIC_[C2|C5|P4].  These recently added boards had copy-paste image names, change them to match the images pending addition to micropython-media.  This work was funded through GitHub Sponsors.  Signed-off-by: Angus Gratton <angus@redyak.com.au>",https://github.com/micropython/micropython/commit/797925c057bddc855b089397cb7fba024341caef
micropython/micropython,https://github.com/micropython/micropython,e6a7dc1,Damien George,2025-11-30T05:20:56Z,"rp2/mpconfigport: Enable MD5, SHA1 and cryptolib on all boards.  This fixes a regression introduced by PR #17926 / commit b5fcb33eaa682bb666c839cd4fb301175cc3564f which accidentally disabled `hashlib.sha1` and the `cryptolib` module on rp2 boards that don't have networking enabled, eg RPI_PICO.  `hashlib.md5` is enabled to keep the configuration the same as boards that do have networking enabled.  Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/e6a7dc111438d9e9d76f2d6c9384373c382d9c27
micropython/micropython,https://github.com/micropython/micropython,2db2f53,Anson Mansfield,2025-03-21T17:03:27Z,"rp2/rp2_pio: Fix support for pin wrapping and RP2350B upper-bank pins.  On RP2350B where there are more than 32 pins, using `pio_sm_set_pins_with_mask()` and `pio_sm_set_pindirs_with_mask()` is not correct because their arguments are `uint32_t` and higher bits get lost when `pio.gpio_base(16)` is used.  This commit fixes the issue by using the 64-bit API functions on RP2350B. It also makes sure pin wrapping is supported, i.e. using [30, 31, 0, 1] or [46, 47, 16, 17] as contiguous pin ranges for a PIO program.  Fixes issue #16199.  Signed-off-by: Anson Mansfield <amansfield@mantaro.com>",https://github.com/micropython/micropython/commit/2db2f536acd1b5701ca23d9cd065ef5479adf467
micropython/micropython,https://github.com/micropython/micropython,b24c9cf,Dryw Wade,2025-11-24T21:00:34Z,rp2/rp2_dma: Properly close DMA channels.  Clears the control registers and aborts the closed channel upon a call to `.close()` and `.__del__()` (GC collect).  Fixes issue #18446.  Signed-off-by: Dryw Wade <dryw.wade@sparkfun.com>,https://github.com/micropython/micropython/commit/b24c9cf2a9d8b0d12a17ea3c7d83b133483a7024
micropython/micropython,https://github.com/micropython/micropython,1ef76c7,Dryw Wade,2025-11-21T17:51:30Z,"rp2: Add HSTX alternate function.  A follow up to 40df95357c7b3270dc60421a0078fd73b122473f / PR #17692, this commit adds the HSTX alternate pin function for GPIO12-19 on the RP2350.  Signed-off-by: Dryw Wade <dryw.wade@sparkfun.com>",https://github.com/micropython/micropython/commit/1ef76c7fba267753aa445678a36608a747f26334
micropython/micropython,https://github.com/micropython/micropython,8dc05cd,David Lechner,2025-11-25T23:33:34Z,rp2/main: Add guard around machine_i2s_init0().  Add a #if MICROPY_PY_MACHINE_I2S guard around the call to machine_i2s_init0() in ports/rp2/main.c. This matches the existing guard around machine_i2s_deinit_all() in the same function.  Signed-off-by: David Lechner <david@pybricks.com>,https://github.com/micropython/micropython/commit/8dc05cdba35063e5a9218fa71488c13b008cb4c9
micropython/micropython,https://github.com/micropython/micropython,bfacf82,Matt Trentini,2025-04-25T04:39:25Z,rp2/boards/WEACTSTUDIO_RP2350B_CORE: Add board.pinout.  This adds an ANSI-rendered pinout for the WeAct Studio RP2350B Core board.  Signed-off-by: Matt Trentini <matt.trentini@gmail.com>,https://github.com/micropython/micropython/commit/bfacf821f448c4d99055738e90de81e50dcb156c
micropython/micropython,https://github.com/micropython/micropython,7357fc5,Josip Šimun Kuči,2025-09-18T07:59:16Z,esp32/boards/SOLDERED_NULA_MINI: Add new board definition.  Add support for the upcoming Soldered NULA Mini ESP32C6 board by Soldered Electronics.  Signed-off-by: Josip Šimun Kuči <josipsimunkuci@gmail.com>,https://github.com/micropython/micropython/commit/7357fc583b5a0407d1b4b7e07aa932f99b0eb32b
micropython/micropython,https://github.com/micropython/micropython,bdf7613,Damien George,2025-11-30T23:46:43Z,esp32/mphalport: Enable D-cache flushing on P4 for native code.  This is necessary to get native code running on the ESP32-P4.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/bdf761329664ef09bdd33e659de7fa25f6970112
micropython/micropython,https://github.com/micropython/micropython,ff7f744,Damien George,2025-11-30T23:44:51Z,"py/emitglue: Add hook for RV32 arch to flush D-cache for native emitter.  Eventually this cache flushing mechanism should be generalised to work the same way for all architectures.  But for now, this allows ESP32 RV32 SoCs to flush the D-cache whenn needed.  Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/ff7f7449d2c40a3aa1e16abf7fc337d1ee43d712
micropython/micropython,https://github.com/micropython/micropython,eb5d89c,Angus Gratton,2025-11-20T06:33:01Z,"esp32/usb_serial_jtag: Flush usb_serial_jtag TXFIFO from ISR.  This was necessary to un-wedge the USJ TX path on ESP32-P4, I think because the bootloader prints a lot on this chip. I think it might be possible to hit it on other chips, though.  The implementation is based on the ESP-IDF driver, which will always add an extra flush when the TXFIFO is empty in case the host is expecting a ZLP.  This work was funded through GitHub Sponsors.  Signed-off-by: Angus Gratton <angus@redyak.com.au>",https://github.com/micropython/micropython/commit/eb5d89cd8324407eda67066292d4cabbc4ce4cd4
micropython/micropython,https://github.com/micropython/micropython,50a06b6,Vincent1-python,2025-08-15T09:26:05Z,"esp32/boards/ESP32_GENERIC_P4: Add board definition for ESP32P4.  Includes a base variant with LAN, and C5_WIFI and C6_WIFI variants with LAN, WiFi and BLE.  And builds this board in the esp32 CI, to cover the P4 support.  Signed-off-by: Vincent1-python <pywei201209@163.com> Signed-off-by: Angus Gratton <angus@redyak.com.au> Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/50a06b64042feb5387b7d520152f5f09b1537a68
micropython/micropython,https://github.com/micropython/micropython,e6f1f78,Vincent1-python,2025-08-15T09:26:05Z,esp32: Add support for ESP32-P4.  This commit adds support for ESP32-P4 SoCs.  Signed-off-by: Vincent1-python <pywei201209@163.com> Signed-off-by: Angus Gratton <angus@redyak.com.au> Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/e6f1f7871380950657947a64f6ba0ae724258dc0
micropython/micropython,https://github.com/micropython/micropython,604cda5,Angus Gratton,2025-11-21T05:28:11Z,esp32: Support building with network and/or bluetooth disabled.  (and a smaller binary size as a result)  Signed-off-by: Angus Gratton <angus@redyak.com.au>,https://github.com/micropython/micropython/commit/604cda5d545564523c4deaedb2e93a464e3dcf8f
micropython/micropython,https://github.com/micropython/micropython,521b2f8,Angus Gratton,2025-11-21T04:32:25Z,"shared/tinyusb: Remove USBD_RHPORT constant.  TinyUSB defines TUD_OPT_RHPORT which is the same thing, make shorter definition RHPORT in the two files which use it.  This work was funded through GitHub Sponsors.  Signed-off-by: Angus Gratton <angus@redyak.com.au>",https://github.com/micropython/micropython/commit/521b2f86bede90f5f30b6c9ce6a75e987a5f021d
micropython/micropython,https://github.com/micropython/micropython,83131c1,Jos Verlinde,2025-11-18T11:06:55Z,"pyproject.toml: Update ruff configuration to target Python 3.8.  As per 4c9ce826cbfbd99cff10cc933064f87a13bee4ac the tests now target Python 3.8 syntax and features, so update the ruff configuration to match.  Changes in this commit: - Update to Python 3.8 syntax. - Ignore import not at top of module warnings. - Exclude common SDK folders. - Exclude cpydiff test with intentional error.  Also see: https://github.com/micropython/micropython-lib/pull/1059  Signed-off-by: Jos Verlinde <jos_verlinde@hotmail.com>",https://github.com/micropython/micropython/commit/83131c106d2a7d78055fb83f9a17c9c9c348ea73
micropython/micropython,https://github.com/micropython/micropython,2fbd72a,Damien George,2025-10-13T01:18:44Z,tools/ci.sh: Build all stm32 MCU families in stm32 CI functions.  Currently the CI for stm32 only tests building about half of the available MCU families.  This commit adds the remaining families to the stm32 CI jobs.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/2fbd72ad78a490bab19797e768707f0190fbd4a9
micropython/micropython,https://github.com/micropython/micropython,f63e64f,Damien George,2025-11-29T21:34:20Z,tools/ci.sh: Install latest ARM toolchain for stm32 CI.  This is needed to build Cortex-M55 (STM32N6) based boards.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/f63e64f4bc7097b4d41494d51198f41011e0daf0
micropython/micropython,https://github.com/micropython/micropython,9c2b0cd,Damien George,2025-11-29T21:25:17Z,"stm32/usbd_conf: Fix build for boards with USB disabled.  Some boards (eg NUCLEO_G0B1RE and NUCLEO_G474RE) have USB disabled but still configure MICROPY_HW_USB_FS/HS for the cases where USB does get enabled.  Such a configuration should not build any of the code in `usbd_conf.c`, nor the USB interrupt handlers.  Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/9c2b0cd2e3c9bfc96fe23f4a395f8f8115768fea
micropython/micropython,https://github.com/micropython/micropython,41acdd8,Damien George,2025-11-26T02:02:16Z,stm32/rtc: Make sure RTC is using LSE on N6 MCUs.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/41acdd8083effcd513ee245075280b78af1ad938
micropython/micropython,https://github.com/micropython/micropython,63c94fe,Damien George,2025-11-27T04:00:32Z,"stm32: Fix init sequence of USB hardware and TinyUSB stack.  This commit fixes the initialization sequence for TinyUSB when enabled on the stm32 port:  - Following other ports, `mp_usbd_init()` should be called just after   running `boot.py`, to give the user a chance to configure USB.  - Hardware initialization (via `pyb_usbd_init()`) should only occur once,   the first time TinyUSB is started up.  This is achieved by adding a hook   to the shared TinyUSB bindings to call `pyb_usbd_init()`, and only do the   hardware init if TinyUSB was not already initialized.  Also, `pyb_usbd_init()` is renamed `mp_usbd_ll_init()` to make it match with the rest of the stared TinyUSB binding code.  Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/63c94fe73ed5c52d4d7ccbf4ddcc2a1e3178d21b
micropython/micropython,https://github.com/micropython/micropython,f43810b,Damien George,2025-11-27T12:24:24Z,"stm32/usbd_conf: Clean up USBD hardware initialization functions.  Break the FS and HS initialization routines out into separate functions, and call them as necessary from the TinyUSB or STM USB helper functions.  Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/f43810b1cd4142474a99df4e08d51a97eb9af00a
micropython/micropython,https://github.com/micropython/micropython,14b5080,Damien George,2025-11-27T04:00:12Z,shared/tinyusb: Add optional port-specific hook on USBD init.  This allows a port to do hardware initialization just before the TinyUSB stack is brought up.  That means the hardware is only turned on when it's needed.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/14b5080515ec483f0f7be843a089eea835e4519f
micropython/micropython,https://github.com/micropython/micropython,9b73e34,Yuuki NAGAO,2025-07-25T23:39:41Z,stm32/boards/WEACTSTUDIO_MINI_STM32H743: Add WeAct H743VI board support.  This change adds WeAct Studio Mini STM32H743 board support to the STM32 port.  Some of the work from PR #12540 is combined here.  WeAct Studio Mini STM32H43 board: https://github.com/WeActStudio/MiniSTM32H7xx  This board uses STM32H743VI: https://www.st.com/en/microcontrollers-microprocessors/stm32h743vi.html  Signed-off-by: Yuuki NAGAO <wf.yn386@gmail.com>,https://github.com/micropython/micropython/commit/9b73e344ebdb9f086013ff45e9dc73af33d2c0d1
micropython/micropython,https://github.com/micropython/micropython,22cff2f,Damien George,2025-11-27T07:30:46Z,stm32/boards/STM32F469DISC: Add board.json file.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/22cff2f6f590cdcd70c795ad95bf6678c3e80435
micropython/micropython,https://github.com/micropython/micropython,b4d546d,Mike Tolkachev,2025-10-13T14:06:24Z,stm32/boards/STM32F469DISC: Add new board definition files.  Signed-off-by: Mike Tolkachev <contact@miketolkachev.dev>,https://github.com/micropython/micropython/commit/b4d546d82e01d16664b2d17d9f145cb4768460c9
micropython/micropython,https://github.com/micropython/micropython,cad9bb3,Mike Tolkachev,2025-10-13T14:06:24Z,stm32: Add support for STM32F469xx MCUs.  Signed-off-by: Mike Tolkachev <contact@miketolkachev.dev>,https://github.com/micropython/micropython/commit/cad9bb3a2b5c73637d67591c43ee10c39719fa5e
micropython/micropython,https://github.com/micropython/micropython,b087cb4,iabdalkader,2025-11-24T10:51:28Z,stm32/mpconfigboard_common: Define TinyUSB MCU type for N6.  Allows using TinyUSB stack on N6.  Note there's still an issue with TinyUSB on the N6: `pyb_usbd_init()` can't be called multiple times (on soft-reboot).  Signed-off-by: iabdalkader <i.abdalkader@gmail.com>,https://github.com/micropython/micropython/commit/b087cb41e85641b9aa530dc2001e151750219f0b
micropython/micropython,https://github.com/micropython/micropython,6b661ca,Alessandro Gatti,2025-11-05T20:58:51Z,"github/workflows: Test mpy-cross debug emitter.  This commit adds a new workflow step to the CI, to test the debug emitter provided by mpy-cross.  The checks being done are limited to make sure that the debug emitter does not crash and emits opcodes for a simple test file that is guaranteed to work for all configurations.  Signed-off-by: Alessandro Gatti <a.gatti@frob.it>",https://github.com/micropython/micropython/commit/6b661ca3f6d877cfca224cc311cb84eba2d2b380
micropython/micropython,https://github.com/micropython/micropython,65f994e,Alessandro Gatti,2025-11-04T19:18:16Z,"py/compile: Allow NULL emitter table entries.  This commit fixes a regression introduced in 1b92bda5b8e5e2db8e57c4b7134930e52bc5207a, where a new architecture was added to mpy-cross but it had no matching native emitter exists.  The result was that the architecture emitter entry point would be correctly calculated according to the native architecture index, but if the emitters entry points table was not updated to match the new number of architectures an out of bound access may be performed.  Unfortunately adding RV64IMC shifted the debug emitter index further down the table, and that table wasn't updated to reflect the lack of an emitter for RV64.  Adding a NULL entry there would cause a NULL pointer access as there was no need to perform any check about the emitter entry point function's validity until now.  Signed-off-by: Alessandro Gatti <a.gatti@frob.it>",https://github.com/micropython/micropython/commit/65f994e26a852eecc2b641db4d35b5e1676d4442
micropython/micropython,https://github.com/micropython/micropython,3d9a3e8,Vdragon,2025-10-25T21:39:33Z,"zephyr: Add support for GC split-heap.  Adds the ability to use PSRAM and non-contiguous memory.  Example usage, add this to dts overlay:      / {             heap_psram {                     compatible = ""micropython,heap"";                     size = <DT_SIZE_M(4)>;                     memory-region = <&psram>;             };              heap_sram1 {                     compatible = ""micropython,heap"";                     size = <DT_SIZE_K(140)>;                     memory-region = <&sram1>;             };     };  Signed-off-by: Vdragon <mail@massdriver.space>",https://github.com/micropython/micropython/commit/3d9a3e89cf4a32fdc6fca2a8edd91714b5b67665
micropython/micropython,https://github.com/micropython/micropython,bd111cc,Vdragon,2025-11-20T20:01:20Z,zephyr: Allow a custom dts.  Allows using custom DTS things such as bindings.  Signed-off-by: Vdragon <mail@massdriver.space>,https://github.com/micropython/micropython/commit/bd111ccd4b4932ea94ba7c66007840cb88e3b4a7
micropython/micropython,https://github.com/micropython/micropython,d5ad2cd,Matt Trentini,2025-09-02T13:26:53Z,docs/library: Add machine.DAC documentation.  Fixes issue #7915.  Signed-off-by: Matt Trentini <matt.trentini@gmail.com>,https://github.com/micropython/micropython/commit/d5ad2cdcca3e94e4d1822dbedc2c3f42057a6ce4
micropython/micropython,https://github.com/micropython/micropython,9b3b3a5,Alex Tran,2025-11-25T00:57:00Z,"docs/library: Fix typos under I2CTarget irq method description.  There were a few typos in the documentation for the `I2CTarget.irq` method description where `IRQ_ADDR_MATCH_READ` was used, however `IRQ_ADDR_MATCH_WRITE` should have been used.  Fixes issue #18470.  Signed-off-by: Alex Tran <alex.t.tran@gmail.com>",https://github.com/micropython/micropython/commit/9b3b3a53ed52340809f9b87f0c215bbd8e87f9a9
micropython/micropython,https://github.com/micropython/micropython,1c47db3,Jos Verlinde,2025-11-06T15:44:40Z,docs/library: Document OrderedDict.popitem()'s CPython differences.  Fixes issue #18370.  Signed-off-by: Jos Verlinde <jos_verlinde@hotmail.com>,https://github.com/micropython/micropython/commit/1c47db32e4096c4fdb978771ef108d93bff28ace
micropython/micropython,https://github.com/micropython/micropython,4633d2a,Alessandro Gatti,2025-11-19T01:50:12Z,"tools/ci.sh: Add zsh and fish shell completion support.  This commit adds custom command completion functions for both the zsh and fish shell.  The behaviour for those new completions follow the existing completion for the bash shell, including the way to generate the completion alias (with appropriately named command line switches).  Signed-off-by: Alessandro Gatti <a.gatti@frob.it>",https://github.com/micropython/micropython/commit/4633d2a0374f79c3306e60b603377606664e8a24
micropython/micropython,https://github.com/micropython/micropython,d1caa9d,Alex Tran,2025-11-22T05:37:05Z,unix/modsocket: Add IP ADD and DROP MEMBERSHIP to socket constants.  Add the IP_ADD_MEMBERSHIP and IP_DROP_MEMBERSHIP to modsocket in the Unix port so that the directives take on the values defined in the system headers. This is needed because the values of these directives are different for MacOS vs other Unix systems.  Fixes issue #8456.  Signed-off-by: Alex Tran <alex.t.tran@gmail.com>,https://github.com/micropython/micropython/commit/d1caa9df07d07a9c2897d106fe5fb7f4b595203e
micropython/micropython,https://github.com/micropython/micropython,c22ff43,dependabot[bot],2025-11-20T19:06:26Z,github/workflows: Bump actions/checkout from 5 to 6.  Bumps [actions/checkout](https://github.com/actions/checkout) from 5 to 6. - [Release notes](https://github.com/actions/checkout/releases) - [Changelog](https://github.com/actions/checkout/blob/main/CHANGELOG.md) - [Commits](https://github.com/actions/checkout/compare/v5...v6)  --- updated-dependencies: - dependency-name: actions/checkout   dependency-version: '6'   dependency-type: direct:production   update-type: version-update:semver-major ...  Signed-off-by: dependabot[bot] <support@github.com>,https://github.com/micropython/micropython/commit/c22ff43753c0679d375db32c9f8752558c8d7511
micropython/micropython,https://github.com/micropython/micropython,938e2c0,Angus Gratton,2025-11-20T02:01:42Z,tests/multi_espnow: Add test case for espnow rate changes.  Uses constants added in previous commit.  This work was funded through GitHub Sponsors.  Signed-off-by: Angus Gratton <angus@redyak.com.au>,https://github.com/micropython/micropython/commit/938e2c0f2b79c983202cbeccd0bc91e13eff13d2
micropython/micropython,https://github.com/micropython/micropython,7e10d22,Angus Gratton,2025-11-20T01:52:56Z,"esp32,docs: Add constants and documentation for espnow data rates.  Changes are: - Add constants for some of the supported ESP-NOW data rates. - Add constants for switching an ESP32 WLAN radio in/out of   Long Range mode. - Document the new constants and their usage.  This work was funded through GitHub Sponsors.  Signed-off-by: Angus Gratton <angus@redyak.com.au>",https://github.com/micropython/micropython/commit/7e10d22134dabf41e2208aea292774c852d95d13
micropython/micropython,https://github.com/micropython/micropython,de2ace7,Angus Gratton,2025-11-19T06:59:25Z,"esp32/modespnow: Fix espnow rate setting.  Only set the rate on interfaces that are active.  It seems ESP-IDF 5.4.x or so added checks that the interface is enabled, whereas previous versions silently did nothing.  This work was funded through GitHub Sponsors.  Signed-off-by: Angus Gratton <angus@redyak.com.au>",https://github.com/micropython/micropython/commit/de2ace72e943c8b38d77b7d68e8fe73e48459f76
micropython/micropython,https://github.com/micropython/micropython,be8d5fc,Angus Gratton,2025-07-29T00:23:31Z,"esp32/README: Update the README details to account for newer chips.  Noted while adding C2 support that some of these comments are a bit out of date. Spun out to its own commit, and also mention C5 as well.  This change also adds some recommendation on which ESP32 board to pick, as we occasionally see issues or questions that would be non-issues on a board with more RAM (and for small production or personal projects the savings of picking a cheaper ESP32 chip are basically neglible).  This work was funded through GitHub Sponsors.  Signed-off-by: Angus Gratton <angus@redyak.com.au>",https://github.com/micropython/micropython/commit/be8d5fc27b30ade25bdd272368fd8b91e4d4b338
micropython/micropython,https://github.com/micropython/micropython,207562d,Damien George,2025-11-17T04:18:07Z,"shared/tinyusb: Remove macro guard for tx_overwritabe_if_not_connected.  It's now available in the version of TinyUSB used by this repository.  Also, update to the newer `tud_cdc_configure_t` struct name and newer `tud_cdc_configure()` function name.  Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/207562dfab728211a59503eccec924e68a2b233f
micropython/micropython,https://github.com/micropython/micropython,7059e07,Damien George,2025-11-12T03:22:23Z,"lib/tinyusb: Update to version 0.19.0-24.  This is 0.19.0 plus the following changes: - remove obsolete dcd_esp32sx - fix for HID stylus descriptor and HID example - typos, docs and generator scripts - MTP fix - DWC2 enumeration when EP0 size=8 - DWC2 fix for EP0 IN - stm32 FSDEV IRQ remapping fix - DWC2 ZLP fix  The reason we need the extra 24 commits is due to a bug with TinyUSB's handling of zero-length-packets in the DWC2 (Synopsis) backend, which affects the stm32 port.  That's fixed by https://github.com/hathach/tinyusb/pull/3293  Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/7059e0769e5b53ae838ec4988ed70b246cc2b2fb
micropython/micropython,https://github.com/micropython/micropython,25dde83,Damien George,2025-11-12T05:12:03Z,nrf/drivers/usb: Provide macros for nrf errata.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/25dde8397fc26321bebf24a70cee0ce85de8e3cf
micropython/micropython,https://github.com/micropython/micropython,c9af4e1,Anson Mansfield,2025-11-09T18:16:07Z,"tools/mpy-tool.py: Add Compiler Explorer JSON output.  This commit adds a `--json` option to `mpy-tool.py`, in order to generate Compiler-Explorer-compatible JSON annotation information for the bytecode disassembly. Some of this information might be theoretically possible to parse out from the text itself, but not all of it is, e.g. disambiguating child references with non-unique simple names.  Signed-off-by: Anson Mansfield <amansfield@mantaro.com>",https://github.com/micropython/micropython/commit/c9af4e1a7e4820bd6702902b415a9a89942d2844
micropython/micropython,https://github.com/micropython/micropython,db8273d,iabdalkader,2025-11-21T08:18:20Z,"shared/tinyusb: Add macro to override TinyUSB callbacks.  Add wrapper macros that by default expand to the callback name. Users can define this macro to add a prefix (e.g., mp_) to callback implementations, to redirect or completely override MicroPython's TinyUSB callbacks.  Signed-off-by: iabdalkader <i.abdalkader@gmail.com>",https://github.com/micropython/micropython/commit/db8273def84510d71cd4d3017b345d83fe8b90bc
micropython/micropython,https://github.com/micropython/micropython,a686410,Andrew Leech,2025-11-05T05:35:41Z,"shared/runtime/pyexec: Set PYEXEC_FORCED_EXIT flag for SystemExit.  When `MICROPY_PYEXEC_ENABLE_EXIT_CODE_HANDLING` is enabled, `SystemExit` now sets the `PYEXEC_FORCED_EXIT` flag in addition to the exit code. This allows the REPL to properly detect and exit when SystemExit is raised, while still preserving the exit code in the lower bits.  Fixes `repl_lock.py` test which expects REPL to exit on `SystemExit`.  Signed-off-by: Andrew Leech <andrew.leech@planetinnovation.com.au>",https://github.com/micropython/micropython/commit/a6864109db645045790d97b2e2b471d24a9a0560
micropython/micropython,https://github.com/micropython/micropython,5f815b8,Andrew Leech,2025-11-05T05:35:31Z,"unix: Enable exit code handling for sys.exit().  Enable `MICROPY_PYEXEC_ENABLE_EXIT_CODE_HANDLING` to propagate `sys.exit()` exit codes properly. Update `convert_pyexec_result()` to handle return values where pyexec returns the exit code with `PYEXEC_FORCED_EXIT` flag set for `SystemExit`. Extract the exit code from the lower 8 bits when the flag is set, otherwise return as-is (0 for success, 1 for exception).  Signed-off-by: Andrew Leech <andrew.leech@planetinnovation.com.au>",https://github.com/micropython/micropython/commit/5f815b8a2d15a31298386d58eff5ac3c4d0fba92
micropython/micropython,https://github.com/micropython/micropython,fd1ddc3,Damien George,2025-10-08T02:11:23Z,shared/runtime/pyexec: Call mp_hal_stdio_mode_orig/raw as appropriate.  This ensures that ctrl-C works on the unix port when executing code at the REPL.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/fd1ddc3f12b40e99faaf24dd099fd512fddcb62c
micropython/micropython,https://github.com/micropython/micropython,e06ac9c,Andrew Leech,2025-07-22T05:28:28Z,"unix/main: Replace execute_from_lexer with pyexec in do_file and do_str.  Consolidates file and string execution to use the standard pyexec interface for consistency with other ports.  Simplify execute_from_lexer for remaining usage: Remove unused LEX_SRC_VSTR and LEX_SRC_FILENAME cases, keeping only LEX_SRC_STR for REPL and LEX_SRC_STDIN for stdin execution.  Signed-off-by: Andrew Leech <andrew.leech@planetinnovation.com.au>",https://github.com/micropython/micropython/commit/e06ac9ce089c5eda9cbd9ec035cdf56fe75be0ab
micropython/micropython,https://github.com/micropython/micropython,e067d96,Andrew Leech,2025-05-26T09:31:30Z,"tests/run-tests.py: Add general newline normalization function.  Add a general normalize_newlines() function that handles newline variations (\\r\\r\\n, \\r\\n) to \\n while preserving literal \\r characters that are part of test content.  This provides a robust solution for cross-platform test compatibility, particularly addressing PTY double-newline issues that can occur with some terminal implementations.  The function is applied to all test output before comparison, eliminating platform-specific newline issues.  Includes a unit test to verify the normalization behavior.  Signed-off-by: Andrew Leech <andrew.leech@planetinnovation.com.au>",https://github.com/micropython/micropython/commit/e067d96c8b71b3fe258583fd6cddb1094cb4efe5
micropython/micropython,https://github.com/micropython/micropython,7ac8fcf,Andrew Leech,2025-05-26T10:25:01Z,unix: Enable compile-only mode with shared pyexec REPL.  Provides support for command line `-X compile-only` option on unix port.  Signed-off-by: Andrew Leech <andrew.leech@planetinnovation.com.au>,https://github.com/micropython/micropython/commit/7ac8fcf752389e2af37b49994478bd9d93f48434
micropython/micropython,https://github.com/micropython/micropython,7b3a0fc,Andrew Leech,2025-05-26T09:28:02Z,"shared/runtime/pyexec: Provide support for compile-only mode.  When `MICROPY_PYEXEC_COMPILE_ONLY` is enabled and the global `mp_compile_only` is True, code is compiled but not executed.  Also add comprehensive tests for compile-only functionality covering both successful compilation and syntax error detection.  Signed-off-by: Andrew Leech <andrew.leech@planetinnovation.com.au>",https://github.com/micropython/micropython/commit/7b3a0fc6b7fe935be008d2518eb480b75a8809d1
micropython/micropython,https://github.com/micropython/micropython,3b2b8dd,Andrew Leech,2025-05-26T09:28:40Z,"shared/runtime/pyexec: Set __file__ for file input when enabled.  When `MICROPY_MODULE___FILE__` is enabled and parsing file input, set the global `__file__` variable to the source filename. This matches the behavior of the unix port and provides the current filename to the executing script.  Signed-off-by: Andrew Leech <andrew.leech@planetinnovation.com.au>",https://github.com/micropython/micropython/commit/3b2b8dd53826ef3b7ef755013e1ecdccd368cb8c
micropython/micropython,https://github.com/micropython/micropython,5b3c928,Andrew Leech,2023-10-25T22:02:16Z,"unix/main: Use standard pyexec REPL for unix and windows ports.  This improves REPL usage consistency across ports, by utilizing the pyexec code for the unix REPL.  Only enabled when MICROPY_USE_READLINE == 1 (the default).  Signed-off-by: Andrew Leech <andrew.leech@planetinnovation.com.au>",https://github.com/micropython/micropython/commit/5b3c928f53a0f0e2a1d6178569e594dbe9cf8f92
micropython/micropython,https://github.com/micropython/micropython,40df953,Phil Howard,2025-07-16T16:47:29Z,"rp2: Fix RP2350 and RP2350B pin alt functions.  RP2350 builds were using the incomplete `rp2_af.csv` alt function table (originally made for RP2040) which broke pins > 31 in RP2350B (48-pin QFN-80) builds:      >>> machine.Pin(31)     Pin(GPIO31, mode=IN, pull=PULL_DOWN)      >>> machine.Pin(32)     Pin(GPIO32, mode=ALT, pull=PULL_DOWN, alt=31)  To fix this, separate alt-functions tables for RP2350 and RP2350B are added in this commit.  UART_AUX (alt function 11) was also missing, along with XIP_CS1 and CORESIGHT_TRACE, and they are  now added as well.  Signed-off-by: Phil Howard <github@gadgetoid.com> Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/40df95357c7b3270dc60421a0078fd73b122473f
micropython/micropython,https://github.com/micropython/micropython,7a15c97,Alex Tran,2025-11-19T05:43:55Z,"docs/library/os: Clarify ilistdir tuples size element.  The currently documentation for ilistdir tuples says that the size element is included based on the platform. However, this is not the case as it is included based on the filesystem type. This commit makes the according adjustment.  Fixes issue #17516.  Signed-off-by: Alex Tran <alex.t.tran@gmail.com>",https://github.com/micropython/micropython/commit/7a15c97f069ed11fe0f7e697e240bec7eea4d0fb
micropython/micropython,https://github.com/micropython/micropython,1284203,Damien George,2025-11-19T03:41:31Z,"py/objdict: Implement bool and len unary ops for dict views.  Currently, dict views (eg `dict.keys()`, `dict.values()`) do not implement the `bool` or `len` unary operations.  That may seem like a reasonable omission for MicroPython to keep code size down, but it actually leads to silently incorrect bool operations, because by default things are true.  Eg we currently have:      >>> bool(dict().keys())     True  which is wrong, it should be `False` because the dict is empty.  This commit implements `bool` and `len` unary operations on dict views by simply delegating to the existing dict unary op function.  Fixes issue #12385.  Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/128420359e9144369df2ed24e99217b3dc54446f
micropython/micropython,https://github.com/micropython/micropython,4593843,Chris Liechti,2020-12-01T23:38:30Z,extmod/asyncio: Pass globals in __import__ call.  `globals()` needs to be provided in case `__import__` is a Python function.,https://github.com/micropython/micropython/commit/45938432c6616fe684e67fdf4c5a9615a7c2fc73
micropython/micropython,https://github.com/micropython/micropython,48d96b4,Chris Liechti,2020-11-30T15:40:56Z,py/builtinimport: Support relative import in custom __import__ callback.  The globals need to be forwarded from the caller's context.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/48d96b400e73e7fbcca8365d0bebc0c41402dde5
micropython/micropython,https://github.com/micropython/micropython,c07fda7,robert-hh,2025-11-15T07:58:32Z,"docs/mimxrt/pinout: Use Dxx pin identifiers for Teensy boards.  The documentation used integers to specify Teensy board pins, which match the board's silkscreen. But in Python code Dxx have to be used, since integers are not accepted as a Pin identifier.  This commit changes the Pinout tables accordingly, consistent with the other MIMXRT boards.  Signed-off-by: robert-hh <robert@hammelrath.com>",https://github.com/micropython/micropython/commit/c07fda73f7115d2d2d4e2d4bba00a3e8dfd1367e
micropython/micropython,https://github.com/micropython/micropython,0ebaad2,Vdragon,2025-10-25T23:36:14Z,zephyr/modules: Add Zephyr FileSystem support to _boot.py.  Signed-off-by: Vdragon <mail@massdriver.space>,https://github.com/micropython/micropython/commit/0ebaad2ba041aeab8655d03881c15bb062b1bfc2
micropython/micropython,https://github.com/micropython/micropython,a40aba3,Vdragon,2025-10-01T16:17:34Z,"zephyr/boards: Setup rpi_pico to use Zephyr FS instead of MPY FS.  Use new Zephyr FS, and be a demonstration of that configuration.  This is still on-disk compatible with existing filesystems on the internal flash.  Signed-off-by: Vdragon <mail@massdriver.space>",https://github.com/micropython/micropython/commit/a40aba345545f42ee0ad533ddb735bb597b63ad7
micropython/micropython,https://github.com/micropython/micropython,559eb7c,Vdragon,2025-10-01T13:00:18Z,zephyr/CMakeLists.txt: Fix FS config options being ignored.  This makes CONFIG_MICROPY_VFS_* actually do things.  Signed-off-by: Vdragon <mail@massdriver.space>,https://github.com/micropython/micropython/commit/559eb7cdb36030cd12d502055d7d126520ebc750
micropython/micropython,https://github.com/micropython/micropython,e743676,Vdragon,2025-04-06T16:31:48Z,"zephyr: Introduce Zephyr native filesystem VFS interface.  This allows using Zephyr's supported VFS and interface it to MicroPython's VFS.  That makes the MicroPython-side filesystem drivers unecessary, eg you can disable LFS2 in MicroPython but still do LFS2 because it's using Zephyr's.  An advantage of this is that the filesystem can be shared between Zephyr C code and MicroPython.  Signed-off-by: Vdragon <mail@massdriver.space>",https://github.com/micropython/micropython/commit/e74367684e3642441edccca1b41b061c06587cf0
micropython/micropython,https://github.com/micropython/micropython,53189f9,Damien George,2025-10-21T13:17:30Z,stm32/boards/OPENMV_N6: Enable RGMII Ethernet.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/53189f9b92cfc7aa421af6a66ae3fc61f42b3219
micropython/micropython,https://github.com/micropython/micropython,5bd6840,Damien George,2025-10-27T03:47:59Z,stm32/network_lan: Allow a board to configure the default LAN PHY.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/5bd684081e5bfa1c449cb14d224e1f9f07097e2d
micropython/micropython,https://github.com/micropython/micropython,9f87b79,Damien George,2025-11-11T06:37:09Z,"stm32/eth: Implement zero-copy of lwIP pbufs for TX path.  This option (currently only enabled for N6) allows the TX path to hold on to a pbuf reference while the DMA accesses the pbuf's memory directly, instead of copying the entire pbuf data into the internal buffers.  This is necessary to achieve gigabit speeds on the N6, although actually achieving that speed requires higher up parts of the stack to be efficient as well.  Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/9f87b7914294ede82c4e0f35621624a26bf9923c
micropython/micropython,https://github.com/micropython/micropython,f5a65b3,Damien George,2025-11-11T06:37:09Z,"stm32/eth: Don't pad eth_dma_t struct on H5 and N6 MCUs.  It's not necessary (and wastes RAM), the MPU can handle regions of arbitrary size.  Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/f5a65b39944c85955ecfeca086cce8d27c2c8551
micropython/micropython,https://github.com/micropython/micropython,ba5711a,Damien George,2025-11-20T01:12:57Z,"stm32/eth: Move DMA TX/RX index variables to normal RAM.  RAM shared with DMA needs caching disabled, which is slower for the MCU to access.  So move these index variables (which are not shared with DMA) to normal RAM.  Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/ba5711a011c84f5fab2c04a07424d9788aa36710
micropython/micropython,https://github.com/micropython/micropython,3202d57,Damien George,2025-11-03T14:04:30Z,"stm32/eth: Make TX and RX buffer sizes a multiple of 8.  Needed by N6, and doesn't hurt for other MCUs.  Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/3202d57cfd9575182345e14d7d364d5e0e1a4967
micropython/micropython,https://github.com/micropython/micropython,45956a9,Damien George,2025-10-27T03:49:15Z,stm32/eth: Add support for gigabit RGMII peripheral interface.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/45956a951651481f9eb062e843f4de6d4dc14d12
micropython/micropython,https://github.com/micropython/micropython,d1e993f,Damien George,2025-11-03T12:54:03Z,stm32/eth_phy: Add support for RTL8211 inititialization.  This gets the status indicator working on the RTL8211.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/d1e993f872293fc74b72d0d189c9610b66c61d21
micropython/micropython,https://github.com/micropython/micropython,0acac07,Damien George,2025-11-03T12:53:45Z,stm32/eth_phy: Move PHY initialization to a dedicated function.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/0acac07a16dd900eead199e506d6dc001692e88d
micropython/micropython,https://github.com/micropython/micropython,7713cdd,Damien George,2025-10-27T03:48:33Z,stm32/eth_phy: Add support for RTL8211 ETH PHY.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/7713cdd8fe9e57832ccd4794313d84f3480438f5
micropython/micropython,https://github.com/micropython/micropython,769f5cf,Damien George,2025-10-28T06:19:25Z,stm32/eth_phy: Add support for 1000Mbit PHY.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/769f5cf1a96a64454c837d3d201f8c06e44baaad
micropython/micropython,https://github.com/micropython/micropython,15acd6d,Damien George,2025-09-29T02:16:13Z,stm32/boards/NUCLEO_N657X0: Enable Ethernet.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/15acd6d8f79a081bf9ae8a4b761b556011da26bb
micropython/micropython,https://github.com/micropython/micropython,6c4b05d,Damien George,2025-11-11T06:34:23Z,"stm32/lwip_inc: Further increase N6 lwIP memory.  This MCU has a lot of memory and gigabit ethernet, so it benefits from improved lwIP performance.  Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/6c4b05d8325b518ec620208e3d1fec72a53b86cb
micropython/micropython,https://github.com/micropython/micropython,c8a818c,Damien George,2025-10-31T10:35:18Z,stm32/lwip_inc: Include HAL header to get MCU define.  Otherwise the custom memory settings don't take place.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/c8a818cf13747252349ffdee9cf1cb9ad6b3408a
micropython/micropython,https://github.com/micropython/micropython,5a69d47,Damien George,2025-07-26T06:22:36Z,stm32/eth: Add support for Ethernet on N6 MCUs.  This adds working support for 100MBit Ethernet on N6 MCUs.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/5a69d4756751b92e13a6ea9a0c7b755dd3b43f7c
micropython/micropython,https://github.com/micropython/micropython,2ad1d29,iabdalkader,2025-11-15T09:42:41Z,alif/tinyusb_port: Add missing license header.  The full Alif license texit is available in `lib/alif_ensemble-cmsis-dfp/License.txt` if it's needed.  Signed-off-by: iabdalkader <i.abdalkader@gmail.com>,https://github.com/micropython/micropython/commit/2ad1d29747df1f35c638b32477684c6e141d0f81
micropython/micropython,https://github.com/micropython/micropython,3d2eb3b,garywill,2025-11-15T03:40:39Z,ports: Guard calls to machine_*_deinit_all() with #if where appropriate.  To allow these features to be properly disabled.,https://github.com/micropython/micropython/commit/3d2eb3b8e907ee74350a69ff92af7a14d7c2f7c7
micropython/micropython,https://github.com/micropython/micropython,4e79698,Peter Harper,2025-11-05T10:19:27Z,"rp2/pendsv: Fix PendSV_Handler dispatch check when threading enabled.  If MICROPY_PY_THREAD is set, PendSV_Handler acquires a mutex and calls the dispatch functions. If pendsv_schedule_dispatch is called by a higher priority interrupt while the mutex is acquired by PendSV_Handler it's possible for the dispatch to not be triggered.  Add a check for dispatch calls at the end of PendSV_Handler once the mutex has been released.  Fixes issue #18365.  Signed-off-by: Peter Harper <peter.harper@raspberrypi.com>",https://github.com/micropython/micropython/commit/4e79698a997465b1043fa8cbc4a72cdac889341f
micropython/micropython,https://github.com/micropython/micropython,0944376,Ihor Nehrutsa,2025-09-19T10:04:37Z,tests/extmod_hardware/machine_encoder.py: Use target_wiring for encoder.  Signed-off-by: Ihor Nehrutsa <Ihor.Nehrutsa@gmail.com>,https://github.com/micropython/micropython/commit/094437686fc53727318eea82e5609106c26e882a
micropython/micropython,https://github.com/micropython/micropython,d980bbd,Ihor Nehrutsa,2025-08-13T14:13:49Z,"tests/extmod_hardware/machine_encoder.py: Fix initial rotation count.  ESP32 requires initial high levels of the channels before starting the count, in order to have 4 pulse for the first rotation.  Also add tests for encoder phases x2 and x4.  Signed-off-by: Ihor Nehrutsa <Ihor.Nehrutsa@gmail.com>",https://github.com/micropython/micropython/commit/d980bbd23717d504b8be8613e119467ca2136b2b
micropython/micropython,https://github.com/micropython/micropython,f3804c6,Damien George,2025-11-06T02:26:20Z,tests/import: Remove .py.exp files where they match CPython.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/f3804c65896fd1471df723977f941f46e7b8bd26
micropython/micropython,https://github.com/micropython/micropython,8b7d981,Damien George,2025-11-06T02:34:38Z,tests/import: Make import_override and pkg7 tests behave under CPython.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/8b7d9819b72f5c07ece0eefff556bf54bc35a161
micropython/micropython,https://github.com/micropython/micropython,787d85e,Jos Verlinde,2025-11-08T23:08:42Z,"tests/extmod/machine_i2s_rate.py: Adjust pins when running on ESP32-C3.  Changed the pin numbers used for the I2S rate testing as the pin numbers used were incompatible with the limited GPIO pins availalbe on the ESP32-C3, causing the tests to fail.  Signed-off-by: Jos Verlinde <jos_verlinde@hotmail.com>",https://github.com/micropython/micropython/commit/787d85e0001089eb92f1c3643f29c14b3273b795
micropython/micropython,https://github.com/micropython/micropython,713f9dc,Angus Gratton,2025-11-12T05:37:25Z,esp32: Fix USB Zero Length Packet issue with patched tinyusb.  Temporarily switch from the espressif TinyUSB component to a MicroPython fork where this fix has been cherry-picked: https://github.com/hathach/tinyusb/pull/3293  This work was funded through GitHub Sponsors.  Signed-off-by: Angus Gratton <angus@redyak.com.au>,https://github.com/micropython/micropython/commit/713f9dcd229e9bfaf3a1a4f9e91b1cef6ca08258
micropython/micropython,https://github.com/micropython/micropython,4f19313,Angus Gratton,2025-11-12T04:48:59Z,"esp32: Remove dependency on esp_tinyusb.  Instead, depend directly on espressif/tinyusb component (which is otherwise transitively included via esp_tinyusb).  Turns out esp_tinyusb builds a bunch of source files with symbols that conflict with our tinyusb symbols (i.e. descriptors_control.c).  This only works because nothing in MicroPython causes the linker to include the esp_tinyusb.a library, however in order to override the dcd_int_handler (in following commit) this caused the linker to pull this library in and break the build.  There's also a problematic header skew - TinyUSB component was building with the tusb_config.h file from esp_tinyusb component, but we have our own tusb_config.h file in shared/tinyusb. The changes in parent commit allow us to build the TinyUSB component with our tusb_config.h header.  User-facing impacts are:  - Can no longer override USB VID & PID via sdkconfig, have to set   MICROPY_HW_USB_VID/PID instead (changes applied in this commit).  - esp32 boards will have the same USB serial number as other ports   (i.e. based on the hardware MAC address, not hard-coded).  Side effects include:  - CFG_TUD_DWC2_SLAVE_ENABLE is now set, DMA mode is disabled.  Signed-off-by: Angus Gratton <angus@redyak.com.au>",https://github.com/micropython/micropython/commit/4f193132d2de4b464bbed29c9029727440da486a
micropython/micropython,https://github.com/micropython/micropython,a435e4e,Angus Gratton,2025-11-12T04:47:27Z,"esp32: Take global dependencies out of mpconfigport.h.  This is necessary so the ESP-IDF TinyUSB component can include py/mpconfig.h, but is also a good design goal (less creep of symbols into unrelated parts of the code).  This work was funded through GitHub Sponsors.  Signed-off-by: Angus Gratton <angus@redyak.com.au>",https://github.com/micropython/micropython/commit/a435e4ecfd87b8aa7720d0429acbd4043965b7e5
micropython/micropython,https://github.com/micropython/micropython,4766f56,Angus Gratton,2025-11-06T00:05:09Z,"esp32: Fix USB deinit/reinit path via soft reset.  Fixes problems with USB-CDC state after soft reset if USBDevice has been active with the default USB-CDC driver also enabled.  This also brings ESP32 behaviour in line with RP2 and other ports, where boot.py is executed before the runtime USB device is initialised. This allows setting up a custom USB device in boot.py.  There is still a bug here, because calling tud_disconnect() doesn't cause any UNPLUG or BUS_RESET events to arrive from TinyUSB - which means the USB device state stays out of sync until we call mp_usbd_init() again...  This work was funded through GitHub Sponsors.  Signed-off-by: Angus Gratton <angus@redyak.com.au> Signed-off-by: Angus Gratton <angus@redyak.com.au>",https://github.com/micropython/micropython/commit/4766f5680e25d608bb4200d01ca414dd503b2e3f
micropython/micropython,https://github.com/micropython/micropython,8d05a8f,Angus Gratton,2025-11-18T23:15:08Z,"shared/tinyusb/mp_usbd: Reorder the mp_usbd_init/deinit functions.  Not a functional change, but makes it easier to see that mp_usbd_init() is available regardless of whether MICROPY_HW_ENABLE_USB_RUNTIME_DEVICE is set.  Also adds a no-op inline mp_usbd_deinit() implementation, which means both a port's calls to mp_usbd_init()/deinit() can both be guarded on the same MICROPY_HW_ENABLE_USBDEV.  This work was funded through GitHub Sponsors.  Signed-off-by: Angus Gratton <angus@redyak.com.au>",https://github.com/micropython/micropython/commit/8d05a8fc8a78dc6592e87ed5e87616bc01dce37c
micropython/micropython,https://github.com/micropython/micropython,4441fd6,Daniël van de Giessen,2025-08-18T14:00:04Z,lib/littlefs: Update LittleFS to v2.11.2.  Signed-off-by: Daniël van de Giessen <daniel@dvdgiessen.nl>,https://github.com/micropython/micropython/commit/4441fd655c514dd92363ad00aa2e832c9f103b2f
micropython/micropython,https://github.com/micropython/micropython,336d463,Damien George,2025-11-15T07:29:43Z,tools/ci.sh: Build ESP32_GENERIC_C5 as part of esp32 CI.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/336d463eb287b8249451b23389517199e3e0fcc8
micropython/micropython,https://github.com/micropython/micropython,30c74fc,yuan_mo,2025-08-14T01:15:59Z,esp32/boards: Add ESP32_GENERIC_C5 board definition.  Signed-off-by: yuan_mo <2286087148@qq.com>,https://github.com/micropython/micropython/commit/30c74fc3b49a6a77c9fa8634c3902a895bfefea2
micropython/micropython,https://github.com/micropython/micropython,713f40d,yuan_mo,2025-08-14T01:15:59Z,esp32: Add support for ESP32-C5 SoCs.  Signed-off-by: yuan_mo <2286087148@qq.com> Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/713f40d20446240fcc340ffc5180802b0a22452a
micropython/micropython,https://github.com/micropython/micropython,2a3b9b0,Elvis Pfutzenreuter,2024-11-22T23:38:58Z,"esp32/esp32_rmt: Update RMT module to use the new RMT API.  The current `esp32.RMT` class uses a legacy API from ESP-IDF 4.x.  The ESP-IDF 5.x offers a new API, which is overall better, and easier to implement the RX side in the future.  This commit updates the module and the documentation, preserving the current MicroPython RMT API as much as possible.  The bitstream RMT implementation was updated as well, since ESP-IDF does not allow firmware to reference legacy and new APIs at the same time (it resets right after boot with an error message, even if neither module is imported).  The documentation is updated accordingly.  Signed-off-by: Elvis Pfutzenreuter <elvis.pfutzenreuter@gmail.com>",https://github.com/micropython/micropython/commit/2a3b9b0b4bed6ea51f1053e224278e9dbb266c35
micropython/micropython,https://github.com/micropython/micropython,27544a2,Patrick Van Oosterwijck,2025-08-04T23:13:34Z,esp32/boards: Add Silicognition ManT1S board definition.  New board planned to be launched on Crowd Supply in late 2025.  ESP32-based core module with IEEE 802.3cg 10BASE-T1S Single Pair Ethernet networking and power distribution over data lines.  Signed-off-by: Patrick Van Oosterwijck <patrick@silicognition.com>,https://github.com/micropython/micropython/commit/27544a2d81da5b0d804a932d98d680f121a22b8f
micropython/micropython,https://github.com/micropython/micropython,b4ab3a8,Meir Armon,2025-06-16T04:57:00Z,"esp32/modesp32: Add esp32.wake_on_gpio() function.  Some boards support waking up via GPIO pins, but this is not currently supported by MicroPython.  This commit adds support for waking with GPIO in a similar interface to waking with ext0, ext1, touch and ulp.  This commit adds documentation for this new function as well.  Signed-off-by: Meir Armon <meirarmon@gmail.com>",https://github.com/micropython/micropython/commit/b4ab3a893c55858c9bf5d644c56abc0d9f7e7f44
micropython/micropython,https://github.com/micropython/micropython,2762fe6,Angus Gratton,2025-11-05T04:41:35Z,tests/serial_test.py: Allow up to 2 seconds between bytes.  Only a problem when UART TX is also enabled and goes first (i.e. esp32 port) as sending 16384 bytes in one go triggers the timeout.  This work was funded through GitHub Sponsors.  Signed-off-by: Angus Gratton <angus@redyak.com.au>,https://github.com/micropython/micropython/commit/2762fe680a03706d3c21efe51db9b1f8d193d2d0
micropython/micropython,https://github.com/micropython/micropython,10b7dfd,Damien George,2025-11-04T05:58:02Z,top: Include tools/cc1 in ruff search path.  So that pre-commit and CI will check formatting and linting.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/10b7dfd9f20f58987da511d87684662d3a38ef01
micropython/micropython,https://github.com/micropython/micropython,2a5c509,Damien George,2025-11-05T01:46:29Z,tools/cc1: Fix ruff lint check with list length.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/2a5c5093ec69baf1460d1dadb617b7f5371b5b60
micropython/micropython,https://github.com/micropython/micropython,509207c,Christian Clauss,2025-02-25T12:41:32Z,tools/cc1: Apply ruff formatting to cc1 script.  Running `ruff format tools/cc1` picks up `tools/cc1` which is a Python file that does not have a .py file extension.  Signed-off-by: Christian Clauss <cclauss@me.com> Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/509207c9d03c6116899350d7e3ae06962c0b4df2
micropython/micropython,https://github.com/micropython/micropython,1e5da26,John Smith,2024-08-29T08:29:35Z,"shared/runtime: Set exit code according to the SystemExit exception.  Add abort setup code `nlr_set_abort` to the standard runtime executor. This makes the standard runtime respond to abort signal without any further modifications.  - When aborted, the program exits with 137 exit code (configurable, same as   posix sig abort), to differentiate from a normal shutdown.  - When exited by exception/crash, the program will exit with exit code 1   (configurable).  - When exited by exception KeyboardInterrupt, the program will exit with   exit code 130 (configurable, same as posix sig int).  - When exited with a exit code (from Python environment), this code is   propagated.  When a different object is passed, exit code is set to 1 and   the value printed, to be consistent with Python docs:   https://python.readthedocs.io/en/latest/library/exceptions.html#SystemExit  Signed-off-by: John Smith <jsmith@jsmith.cz>",https://github.com/micropython/micropython/commit/1e5da2642cbb0b4c808323173b7a703c3a3cf24f
micropython/micropython,https://github.com/micropython/micropython,4f2f520,Yanfeng Liu,2025-10-18T06:44:25Z,unix/modtime: Add type casting for mktime return value.  This adds type casting to avoid build errors on certain systems.  Signed-off-by: Yanfeng Liu <yfliu2008@qq.com>,https://github.com/micropython/micropython/commit/4f2f520dc282f3b666e29aa7f316932cc9af8016
micropython/micropython,https://github.com/micropython/micropython,2b5669d,Alessandro Gatti,2025-11-04T00:56:33Z,"py/emitnative: Generate shorter RV32 code for exception handling.  This commit lets the native emitter generate shorter code when clearing exception objects on RV32.  Since there are no direct generic ASM functions to set a specific immediate to a local variable, the native emitter usually generates an immediate assignment to a temporary register and then a store of that register into the chosen local variable.  This pattern is also followed when clearing certain local variables related to exception handling, using MP_OBJ_NULL as the immediate value to set.  Given that at the moment MP_OBJ_NULL is defined to be 0 (with some other spots in the native emitter that leverage that fact when checking the state of the variables mentioned earlier), and that the RV32 CPU has a dedicated register that is hardwired to read 0, a new method to set local variables to MP_OBJ_NULL is introduced.  When generating RV32 code, the new macro will skip the intermediate register assignment and directly uses the X0/ZERO register to set the chosen local variable to MP_OBJ_NULL.  Other platforms will still generate the same code sequence as before this change.  This is a followup to 40585eaa8f1b603f0094b73764e8ce5623812ecf.  Signed-off-by: Alessandro Gatti <a.gatti@frob.it>",https://github.com/micropython/micropython/commit/2b5669d193f2a2e41d7a57cedd86ec3130d2dab3
micropython/micropython,https://github.com/micropython/micropython,e0a9b70,Anson Mansfield,2025-11-02T16:41:43Z,"py/objcode: Remove `mp_obj_code_t.lnotab` field from v2 preview.  This field exists to cache the lnotab field removed from v2 in #17639 by ddf2c3afb17c0ea3dd678d02d9c2f01bed5a3020, and is now unused.  Signed-off-by: Anson Mansfield <amansfield@mantaro.com>",https://github.com/micropython/micropython/commit/e0a9b7023b28ac920b9e8e82f9bb4e8fda49ab3e
micropython/micropython,https://github.com/micropython/micropython,3cd95dd,Alessandro Gatti,2025-10-30T21:47:23Z,"py/asmrv32: Generate better comparison sequences.  This commit changes the sequences generated for not-equal and less-than-or-equal comparisons, in favour of better replacements.  The new not-equal comparison generates a sequence of equal size but without the burden of a jump to set the output value, this also had the effect of reducing the size of the code generator as only two opcodes need to be generated instead of three.  The less-than-or-equal sequence, on the other hand, is actually two bytes shorter and does not contain any jumps.  If Zcb opcodes can be used for performing the final XOR operation then two more bytes could be saved on each comparison.  The same remarks about having a shorter generator due to two opcodes being generated instead of three still applies here.  Signed-off-by: Alessandro Gatti <a.gatti@frob.it>",https://github.com/micropython/micropython/commit/3cd95dda649b1b3c855a577cb8f97c874c7047d6
micropython/micropython,https://github.com/micropython/micropython,a1684ad,Alessandro Gatti,2025-10-28T14:38:38Z,"py/asmrv32: Refactor register-indexed load/store emitters.  This commit shortens register-indexed load/store emitter functions, by reusing integer-indexed equivalent operations as part of the sequence generation process.  Before these changes, register-indexed load/store emitters would follow two steps to generate the sequence: generate opcodes to fix up the register offset to make it point to the exact position in memory where the operation should take place, and then perform the load/store operation itself using 0 as an offset from the recalculated address register.  Since there is already a generic optimised emitter for integer-indexed load/stores, that bit of code can be reused rather than having an ad-hoc implementation that is tailored to operate on an offset of 0.  Removing the custom emitter code in favour of calling the general integer-indexed emitter saves around 150 bytes without any changes in the emitter behaviour (generating the same opcode sequence and making use of future improvement in that emitter too).  Signed-off-by: Alessandro Gatti <a.gatti@frob.it>",https://github.com/micropython/micropython/commit/a1684ad2c142e804cffce8f4f14b7293c1ac44b4
micropython/micropython,https://github.com/micropython/micropython,385e4f3,Alessandro Gatti,2025-10-26T19:21:15Z,"py/emitinlinerv32: Refactor load/store opcodes validation.  This commit minimises the amount of code required to perform validation of load/store opcodes, streamlining their validation and serialisation.  Load/store opcodes used to be handled as a special case due to how its peculiar syntax yields parse node arguments that cannot be handled by the regular validation and serialisation functions.  The changes in this commit attempt to reduce the amount of special code needed for those opcodes to its bare minimum, by removing the special opcode handling step, merging the validation and serialisation pass for the combined offset + base register operand, and integrate said changes in the existing argument handling structure.  That allowed to rework the special operand parsing function to make it smaller, and remove the code that performed the special case validation and emitted the opcode.  Signed-off-by: Alessandro Gatti <a.gatti@frob.it>",https://github.com/micropython/micropython/commit/385e4f3d0cb726a33beaca17bf403f1850bb3cbf
micropython/micropython,https://github.com/micropython/micropython,3da5295,Alessandro Gatti,2025-10-25T16:39:08Z,"py/emitinlinerv32: Refactor opcode arguments validation.  This commit simplifies the way arguments are validated when processing RV32 inline assembler opcodes.  Opcode arguments were handled in two separate passes, one that performed a pure validation (with an early rejection in case of errors), and another that converted the parse node into a serialised value but without any error checking.  Considering that the validation pass effectively performed the parse node conversion and then discarded its result once validated, it is preferable to hold onto the serialised result to reuse it later at opcode generation time.  With these changes, those two passes are merged into one single operation when applicable (basically any opcode that doesn't use an integer offset), removing a fair amount of duplicate code.  The size savings should be around half a kilobyte, with no other changes in the assembler's behaviour.  Signed-off-by: Alessandro Gatti <a.gatti@frob.it>",https://github.com/micropython/micropython/commit/3da529554d013cce2eec7736dea3f2c561563a52
micropython/micropython,https://github.com/micropython/micropython,27b7bf3,Andrew Leech,2025-10-22T22:48:00Z,"stm32/usb: Add VBUS sensing configuration for TinyUSB on F4/F7.  TinyUSB's `dwc2_phy_init()` only sets the PWRDWN bit in the GCCFG register but doesn't configure VBUS sensing, which is required for the DWC2 USB controller to detect host connection on STM32F4 and STM32F7 series.  Without VBUS sensing configured, USB devices fail to enumerate on these platforms when using the TinyUSB stack, while the legacy STM32 USB stack works because it includes this configuration.  This commit adds VBUS sensing configuration in `pyb_usbd_init()` for TinyUSB mode on STM32F4/F7: - When VBUS detect pin is configured (typically PA9): Enable ""B device""   VBUS sensing (USB_OTG_GCCFG_VBUSBSEN) - When no VBUS pin: Force VBUS valid (USB_OTG_GCCFG_NOVBUSSENS)  Tested on: - NUCLEO-F429ZI: USB now enumerates successfully (CDC + MSC) - NUCLEO-H563ZI: No regression (STM32H5 uses different register layout)  Signed-off-by: Andrew Leech <andrew.leech@planetinnovation.com.au>",https://github.com/micropython/micropython/commit/27b7bf36a33f7c51a976c41b8682d7acfb4201cb
micropython/micropython,https://github.com/micropython/micropython,faae8e7,Andrew Leech,2025-10-28T05:20:31Z,"stm32/usb: Add TinyUSB Mass Storage support.  Implements USB MSC functionality for STM32 port when using TinyUSB stack, supporting both internal Flash and SD card storage mediums.  Signed-off-by: Andrew Leech <andrew@alelec.net>",https://github.com/micropython/micropython/commit/faae8e73ef654339bd2adfab2b658e6e7f5ef368
micropython/micropython,https://github.com/micropython/micropython,9bb266e,Andrew Leech,2025-10-28T05:20:31Z,"stm32/usb: Add support for using TinyUSB stack.  This commit adapts the stm32 port to allow switching from STM USB stack to TinyUSB stack.  Using TinyUSB improves consistancy with other MicroPython ports and brings in the ability to use the runtime USB definition support recently added to other TinyUSB based ports.  By default the existing STM USB stack is used.  TinyUSB can be enabled in a board configuration with:      #define MICROPY_HW_TINYUSB_STACK (1)  Or, it can be enabled from the command line with:      make -C ports/stm32 CFLAGS_EXTRA='-DMICROPY_HW_TINYUSB_STACK=1'  Signed-off-by: Andrew Leech <andrew@alelec.net>",https://github.com/micropython/micropython/commit/9bb266e31162ba80ec06a6bc9a6b94b9cbafa9b2
micropython/micropython,https://github.com/micropython/micropython,6b0e1c2,Andrew Leech,2024-08-09T09:37:10Z,shared/runtime/pyexec: Remove legacy USB IRQ enable code.  It's very STM32 USB stack specific and doesn't generalise well to other ports.  So remove it.  Signed-off-by: Andrew Leech <andrew.leech@planetinnovation.com.au>,https://github.com/micropython/micropython/commit/6b0e1c2701490260cb81bbe884f42a9c18bea020
micropython/micropython,https://github.com/micropython/micropython,4efc5e1,ennyKey,2024-12-04T16:52:42Z,stm32/machine_uart: Implement TX/RX inversion parameter for UART on H7.  Implemented the keyword-only parameter `invert` for the `UART.init` method in accordance with the docs: - added constants `UART.INV_TX` and `UART.INV_RX` - added the new `invert` keyword parameter to the `uart_init` function - adapted the `uart_init` call - added invert setting to `uart_print` output  The feature applies only to STM32H7.  Signed-off-by: ennyKey <ennyKey@fn.de>,https://github.com/micropython/micropython/commit/4efc5e12b94082af16520e73ecdd53a67ceddfcf
micropython/micropython,https://github.com/micropython/micropython,e58425a,Yuuki NAGAO,2025-07-22T14:25:29Z,stm32/boards: Add NUCLEO-U5A5ZJ-Q board support.  This change adds NUCLEO-U5A5ZJ-Q support to the STM32 port. NUCLEO-U5A5ZJ-Q: https://www.st.com/ja/evaluation-tools/nucleo-u5a5zj-q.html This board use STM32U5A5ZJ: https://www.st.com/ja/microcontrollers-microprocessors/stm32u5a5zj.html  Signed-off-by: Yuuki NAGAO <wf.yn386@gmail.com>,https://github.com/micropython/micropython/commit/e58425a5133399215e3a70bae2add40d78555ef9
micropython/micropython,https://github.com/micropython/micropython,d20d197,Yuuki NAGAO,2025-07-22T14:17:09Z,stm32: Add STM32U5 support.  This change adds STM32U5 support to the STM32 port. STM32U5A5ZJ: https://www.st.com/ja/microcontrollers-microprocessors/stm32u5a5zj.html  Signed-off-by: Yuuki NAGAO <wf.yn386@gmail.com>,https://github.com/micropython/micropython/commit/d20d19783d28972367db1fcf1c134f67e5e99dc7
micropython/micropython,https://github.com/micropython/micropython,673524f,Andrew Leech,2025-09-23T23:08:18Z,"lib/stm32lib: Update N6, U5 & WB.  Added STM32N6 with HAL1.2.0 Added STM32U5 with HAL1.8.0 Updated STM32WB from HAL1.10.0 to HAL1.23.0  Signed-off-by: Andrew Leech <andrew.leech@planetinnovation.com.au>",https://github.com/micropython/micropython/commit/673524f55d8019d612a27c1d69992d061652cbb8
micropython/micropython,https://github.com/micropython/micropython,6773051,Craftzman7,2025-10-15T23:53:36Z,rp2/boards: Add missing RP2350 RISC-V variants.  There are multiple RP2350 boards missing RISC-V builds.  Some were missing entries in their `board.json` or a CMake file altogether.  This commit fixes them.  Signed-off-by: Craftzman7 <zezetta@icloud.com>,https://github.com/micropython/micropython/commit/6773051b5adf9ede2b82ce649717b3f40de29969
micropython/micropython,https://github.com/micropython/micropython,72e67f0,robert-hh,2025-10-20T06:52:18Z,"samd/machine_bitstream: Tune ticks for SAMD51 and set pin to output.  Changes in this commit: - Change ticks overhead value for SAMD51.  The value was too large and thus   timing was quite bad.  At 120Mhz it's now within +/- 30ns. - Set the pin to output mode.  That way, all Pin identifiers are accepted   as argument, not only Pin objects.  Tested with ItsyBitsy M4 and M0 boards.  Signed-off-by: robert-hh <robert@hammelrath.com>",https://github.com/micropython/micropython/commit/72e67f0f027e6427b14b5cd126d6d9edd832e3d2
micropython/micropython,https://github.com/micropython/micropython,2e74f0b,Jeff Epler,2025-10-12T02:13:46Z,"py/objlist: Make a small code size optimization in mp_quicksort.  While clarifying the meaning of the arguments to `mp_quicksort`, I noticed that by pre-adjusting the `head` argument similar to what was already done for `tail`, code size could be saved by eliminating repeated calculation of `h + 1`.  Signed-off-by: Jeff Epler <jepler@unpythonic.net>",https://github.com/micropython/micropython/commit/2e74f0b6be27d9c2b510cfe42cf4b7119d414260
micropython/micropython,https://github.com/micropython/micropython,a080585,Alessandro Gatti,2025-09-24T23:10:50Z,"tests/ports/qemu: Add arch flags MPY import checks test.  This commit introduces a test file (along with its necessary data) to test MPY files pass/reject cases, due to either mismatching architecture flag requirements or unneeded ""no-flags"" values set.  Signed-off-by: Alessandro Gatti <a.gatti@frob.it>",https://github.com/micropython/micropython/commit/a080585ffdc628ab14d70a1489e31ede485e9a88
micropython/micropython,https://github.com/micropython/micropython,849c67b,Alessandro Gatti,2025-09-24T22:12:00Z,"tests/run-tests.py: Pass auto-detected architecture flags to mpy-cross.  This commit lets ""run-tests.py"" use the encoded architecture flags provided by the interpreter when invoking ""mpy-cross"".  If architecture flags are detected, they're mapped into the necessary strings needed by ""mpy-cross""'s ""-march-flags"" argument, so that tests will always use all available extensions reported by the target.  Currently this is limited to the RV32 platform, as it is the only one that is making use of this facility as of now.  This also lets the QEMU port remove forced arguments to ""mpy-cross"" when running the test suite.  Signed-off-by: Alessandro Gatti <a.gatti@frob.it>",https://github.com/micropython/micropython/commit/849c67bcdc9f848a674554f3e03ef850a8f70692
micropython/micropython,https://github.com/micropython/micropython,331a5c4,Alessandro Gatti,2025-09-24T21:03:21Z,"tests/micropython: Extend MPY import tests for RV32.  This commit extends the ""micropython/import_mpy_native_gc"" test with a pre-built serialised MPY file built for RV32.  Before this commit, the test was skipped on said platform due to the lack of a known-good MPY file to test the import procedure against. Now the test is executed as part of the general CI test checks.  The MPY file's Makefile script was also updated to cater for modern Linux environments where the required Python interpreter's command name isn't ""python"", but ""python3"" instead (this occurs when using the past two LTS Ubuntu releases for example).  This is the same kind of change made in 31a008c6e26eccc3798a9ab4169019a02eadb830.  Signed-off-by: Alessandro Gatti <a.gatti@frob.it>",https://github.com/micropython/micropython/commit/331a5c46aa21a2ff973a9060d2d62ed73247ffed
micropython/micropython,https://github.com/micropython/micropython,4308379,Alessandro Gatti,2025-09-24T20:26:39Z,"py/modsys: Add architecture flags to MicroPython metadata.  This commit adds the currently supported architecture flags value as the upper part of ""sys.implementation._mpy"".  This had the side effect of perturbing quite a bit of testing infrastructure and invalidating documentation related to MPY files.  To make the test suite run successfully and keep the documentation in sync the following changes have been made:  * The target info feature check file now isolates eventual architecture   flags and adds them as a separate field * The test runner now picks up the new architecture flags field, reports   it to STDOUT if needed and stores it for future uses * Relevant test files for MPY files import code had to be updated to   mask out the architecture flags bits in order to perform correctly * MPY file format documentation was updated to show how to mask off and   properly display the architecture flags information.  This works out of the box if the flag bits can fit in a smallint value once merged with the MPY file header value.  Signed-off-by: Alessandro Gatti <a.gatti@frob.it>",https://github.com/micropython/micropython/commit/430837996b3cbb85849be92cc4d9ce98ce2a0905
micropython/micropython,https://github.com/micropython/micropython,3e2b41f,Alessandro Gatti,2025-10-24T15:08:05Z,"mpy-cross/main: Parse raw integer arch flags values too.  This commit extends ""mpy-cross""'s parsing of the architecture flags value command line, allowing raw integer values as well as flag strings.  Integers can be represented as either decimal, binary, or hexadecimal values, using the usual C language prefixes to mark non-base 10 values.  Signed-off-by: Alessandro Gatti <a.gatti@frob.it>",https://github.com/micropython/micropython/commit/3e2b41f8f60d39226320aad93ed3490d5add1799
micropython/micropython,https://github.com/micropython/micropython,b255224,Alessandro Gatti,2025-09-22T23:20:18Z,"tools/mpy-tool.py: Add architecture flags to disassembly output.  This commit extends ""mpy-tool.py""'s disassembly output of a given MPY file (triggered via the ""-d"" command line option) to include newly added fields.  Now the target architecture for the chosen MPY file is printed out to screen in human-readable format and, if present, architecture-specific flags.  Signed-off-by: Alessandro Gatti <a.gatti@frob.it>",https://github.com/micropython/micropython/commit/b255224d096086cba3d51ecd4206b233eeced6ac
micropython/micropython,https://github.com/micropython/micropython,64971f1,Alessandro Gatti,2025-09-23T20:52:44Z,"py/persistentcode: Add architecture flags check for RV32 platforms.  This commit introduces the MPY architecture flags checking code specific for the RV32 target, currently checking for the only additional extension that is supported by the runtime: Zba.  The warnings inside ""mpy-cross"" have also been removed since now there is a way to reject incompatible MPY files at runtime.  Signed-off-by: Alessandro Gatti <a.gatti@frob.it>",https://github.com/micropython/micropython/commit/64971f1a65aed54e6a1c041d069c2cb75f2dd64b
micropython/micropython,https://github.com/micropython/micropython,a6bc1cc,Alessandro Gatti,2025-09-22T22:50:51Z,"py/persistentcode: Add architecture flags compatibility checks.  This commit extends the MPY file format in a backwards-compatible way to store an encoded form of architecture-specific flags that have been specified in the ""mpy-cross"" command line, or that have been explicitly set as part of a native emitter configuration.  The file format changes are as follows:  * The features byte, previously containing the target native   architecture and the minor file format version, now claims bit 6 as a   flag indicating the presence of an encoded architecture flags integer * If architecture flags need to be stored, they are placed right after   the MPY file header.  This means that properly-written MPY parsers, if encountering a MPY file containing encoded architecture flags, should raise an error since no architecture identifiers have been defined that make use of bits 6 and 7 in the referenced header byte.  This should give enough guarantees of backwards compatibility when this feature is used (improper parsers were subjected to breakage anyway).  The encoded architecture flags could have been placed at the end, but:  * Having them right after the header makes the architecture   compatibility checks occur before having read the whole file in memory   (which still happens on certain platforms as the reader may be backed   by a memory buffer), and prevents eventual memory allocations that do   not take place if the module is rejected early * Properly-written MPY file parsers should have checked the upper two   bits of the flags byte to be actually zero according to the format   specification available right before this change, so no assumptions   should have been made on the exact order of the chunks for an   unexpected format.  The meaning of the architecture flags value is backend-specific, with the only common characteristic of being a variable-encoded unsigned integer for the time being.  The changes made to the file format effectively limit the number of possible target architectures to 16, of which 13 are already claimed. There aren't that many new architectures planned to be supported for the lifetime of the current MPY file format, so this change still leaves space for architecture updates if needed.  Signed-off-by: Alessandro Gatti <a.gatti@frob.it>",https://github.com/micropython/micropython/commit/a6bc1ccbe51e582d39c6bf7b484c75bfb662357b
micropython/micropython,https://github.com/micropython/micropython,7373338,Yuuki NAGAO,2025-07-05T13:33:21Z,stm32/boards/NUCLEO_H7A3ZI_Q: Add NUCLEO_H7A3ZI_Q board support.  This change adds NUCLEO_H7A3ZI_Q Core Board support to the STM32 port.  NUCLEO_H7A3ZI_Q: https://www.st.com/en/evaluation-tools/nucleo-h7a3zi-q.html  This board uses STM32H7A3ZI: https://www.st.com/en/microcontrollers-microprocessors/stm32h7a3zi.html  Signed-off-by: Yuuki NAGAO <wf.yn386@gmail.com>,https://github.com/micropython/micropython/commit/7373338fa9afb31dc12c52546ca24b32dd3edaa2
micropython/micropython,https://github.com/micropython/micropython,a9d04ed,Yuuki NAGAO,2025-07-05T13:32:26Z,"stm32/usbd_conf: Change USB pin configuration for STM32H7A3.  STM32H7A3 uses PA11, PA12 to enable USB function via built-in USB OTG port on NUCLEO board.  Signed-off-by: Yuuki NAGAO <wf.yn386@gmail.com>",https://github.com/micropython/micropython/commit/a9d04ed0a23415b41553702eaee301da5bd5cad5
micropython/micropython,https://github.com/micropython/micropython,dbcfec7,Yuuki NAGAO,2025-07-05T13:32:04Z,"stm32/adc: Use macros defined by HAL for H7.  For STM32H7, the following macro's value are different by ADC's version: * ADC_CAL_ADDRESS * ADC_CAL1 * TEMPSENSOR_CAL2_ADDR  Using macros defined by HAL become less dependent on ADC's version.  Signed-off-by: Yuuki NAGAO <wf.yn386@gmail.com>",https://github.com/micropython/micropython/commit/dbcfec7df87184392737288ee685beb8637f0e52
micropython/micropython,https://github.com/micropython/micropython,842657a,Yuuki NAGAO,2025-07-05T13:31:47Z,stm32/flash: Change Flash sector size for STM32H7A3.  STM32H7A3 has 2MB internal flash and each sector size is 8KB.  Signed-off-by: Yuuki NAGAO <wf.yn386@gmail.com>,https://github.com/micropython/micropython/commit/842657a0b8bc1e5dd6ca6542e979432742260afa
micropython/micropython,https://github.com/micropython/micropython,3808ccd,Kwabena W. Agyeman,2025-10-22T05:34:51Z,stm32/boards: Add missing AF options to N6 AF file.  Signed-off-by: Kwabena W. Agyeman <kwagyeman@live.com>,https://github.com/micropython/micropython/commit/3808ccd5222a61fe9b5b0ec93220f489c12ee0e2
micropython/micropython,https://github.com/micropython/micropython,62cf075,iabdalkader,2025-10-15T07:10:04Z,stm32/boards/OPENMV_N6: Fix float implementation.  32-bit floats are needed for object representation C.  Signed-off-by: iabdalkader <i.abdalkader@gmail.com>,https://github.com/micropython/micropython/commit/62cf07540cfbf99aade3a2d8e11999db155e5e2e
micropython/micropython,https://github.com/micropython/micropython,d05f32f,stijn,2025-10-15T09:29:03Z,"windows/msvc: Make the PP defs for manifest freezing global.  This is consistent with the other ports (see py/mkrules.mk) and makes more sense overall because it makes everything which is compiled use the same flags; until now all compilation steps which ran before or in absence of FreezeModules (e.g. qstr generation, compiling a single file on the command line or in the IDE) would use different PP defs.  This didn't happen to cause any issues apparently but it's just more consistent/safer to not do that.  Signed-off-by: stijn <stijn@ignitron.net>",https://github.com/micropython/micropython/commit/d05f32f1eb6ce3a88eb5d6e9330a9feae571f823
micropython/micropython,https://github.com/micropython/micropython,15401a3,iabdalkader,2025-10-12T18:53:46Z,"tools/mpremote: Fix exception when using pts.  Setting RTS/DTR raises ""Inappropriate ioctl for device"" for pts devices.  Signed-off-by: iabdalkader <i.abdalkader@gmail.com>",https://github.com/micropython/micropython/commit/15401a3ae83c5e5652d30544eeaf189585066f52
micropython/micropython,https://github.com/micropython/micropython,28919ab,iabdalkader,2025-10-14T15:37:23Z,qemu/boards: Add new MPS3_AN547 board definition.  This is a Cortex-M55 board.  Signed-off-by: iabdalkader <i.abdalkader@gmail.com>,https://github.com/micropython/micropython/commit/28919abb17fb645c9c5e89af44f9df85b8635e86
micropython/micropython,https://github.com/micropython/micropython,557290f,iabdalkader,2025-10-14T15:36:42Z,qemu/mcu/arm: Enable the FPU init for ARMv8-M.  Signed-off-by: iabdalkader <i.abdalkader@gmail.com>,https://github.com/micropython/micropython/commit/557290f49d1398cf350cdc9c6fd6fe86a4384eb1
micropython/micropython,https://github.com/micropython/micropython,debac3e,iabdalkader,2025-10-14T15:33:46Z,qemu/uart: Fix UART0 address for MPS3.  Signed-off-by: iabdalkader <i.abdalkader@gmail.com>,https://github.com/micropython/micropython/commit/debac3e3bd89c4022f4c9aa14287d5296338a7d9
micropython/micropython,https://github.com/micropython/micropython,0cf1a58,iabdalkader,2025-10-11T13:51:38Z,"qemu/mpconfigport: Enable time, select and stdio buffer.  Signed-off-by: iabdalkader <i.abdalkader@gmail.com>",https://github.com/micropython/micropython/commit/0cf1a58c3dd02fa3faa0c49f75ac89a2f3ad23da
micropython/micropython,https://github.com/micropython/micropython,7ca70ed,iabdalkader,2025-10-15T08:00:50Z,qemu/mphalport: Implement stdin poll and mp-hal ticks functions.  Using the newly added `uart_rx_any()` and system ticks functions.  Signed-off-by: iabdalkader <i.abdalkader@gmail.com>,https://github.com/micropython/micropython/commit/7ca70edae7a05b3be64e615630e52e1f5a1825df
micropython/micropython,https://github.com/micropython/micropython,abbe883,iabdalkader,2025-10-18T12:15:26Z,qemu/mcu/riscv: Implement ticks using the RDTIME control register.  Signed-off-by: iabdalkader <i.abdalkader@gmail.com>,https://github.com/micropython/micropython/commit/abbe883c0719c683fbb8382e204e4b50783fac24
micropython/micropython,https://github.com/micropython/micropython,e1f063a,iabdalkader,2025-10-11T13:50:37Z,qemu/mcu/arm: Implement a SysTick driver.  Signed-off-by: iabdalkader <i.abdalkader@gmail.com>,https://github.com/micropython/micropython/commit/e1f063a1fa622b0317a22e907ddb643d17514f40
micropython/micropython,https://github.com/micropython/micropython,c04d2d6,iabdalkader,2025-10-11T12:41:13Z,qemu/uart: Implement uart_rx_any function.  So it can be used for polling.  Signed-off-by: iabdalkader <i.abdalkader@gmail.com>,https://github.com/micropython/micropython/commit/c04d2d691c77ca3a4a623e0af866e58f67914573
micropython/micropython,https://github.com/micropython/micropython,be48920,Daniël van de Giessen,2025-09-29T11:20:30Z,"tools/autobuild: Use same length Git hash abbreviation in file names.  This makes the version string consistent with the one used in code, see commit 9e89c752cb.  Signed-off-by: Daniël van de Giessen <daniel@dvdgiessen.nl>",https://github.com/micropython/micropython/commit/be4892097eb88c53ee53a41b9725fc5565d5ff22
micropython/micropython,https://github.com/micropython/micropython,6f4fd6a,Jeff Epler,2025-10-19T20:15:24Z,"tools/ci.sh: Use a better default reference ref in code_size_build.  Now the default reference commit is the first parent of the selected commit, instead of the first parent of HEAD.  Signed-off-by: Jeff Epler <jepler@unpythonic.net>",https://github.com/micropython/micropython/commit/6f4fd6aed9df777a53e765ca926a7a6e58d79b01
micropython/micropython,https://github.com/micropython/micropython,3bea897,Jeff Epler,2025-10-16T15:02:42Z,"tools/metrics.py: Tersely show the commits in the size report.  This will show a line for both the reference and comparison, e.g.,      Reference:  zephyr/boards: Add PocketBeagle 2 rev A1… [00a926e99e]     Comparison: metrics: Tersely show the commi… [merge of c7ac411e22]  When the comparison is a merge commit (as it is during CI) the second parent of that commit is shown instead.  This will be helpful when checking which revision of the code size report comment on a PR corresponds to which revision of the code.  Signed-off-by: Jeff Epler <jepler@unpythonic.net>",https://github.com/micropython/micropython/commit/3bea8970730b4d4746d67081257befbb905308d1
micropython/micropython,https://github.com/micropython/micropython,2af0c52,Jeff Epler,2025-10-13T16:26:54Z,"lib/libm_dbl: Allow building when DBL_EPSILON is defined in <float.h>.  This is the case in arm-none-eabi-gcc 14.2.1 (debian trixie).  This fixes a diagnostic like:      ../../lib/libm_dbl/libm.h:92:9: error:         ""DBL_EPSILON"" redefined [-Werror]     /usr/lib/gcc/arm-none-eabi/14.2.1/include/float.h:114:9: note:         this is the location of the previous definition  when building MPS2_AN500 (qemu port).  Signed-off-by: Jeff Epler <jepler@unpythonic.net>",https://github.com/micropython/micropython/commit/2af0c52a91769077908e24e18d2d9df87aa2eca8
micropython/micropython,https://github.com/micropython/micropython,007f127,Jeff Epler,2025-10-12T00:12:55Z,"all: Simplify mp_int_t/mp_uint_t definition.  Assuming proper C99 language support, we can select ""the int type as big as a pointer"" (most of the time) or ""the 64-bit int type"" (nanboxing with REPR_D), and then define everything else automatically.  This simplifies port configuration files.  And the types can still be overridden if needed.  Signed-off-by: Jeff Epler <jepler@unpythonic.net>",https://github.com/micropython/micropython/commit/007f127a61ea058ca010b85883072bdefe0234c0
micropython/micropython,https://github.com/micropython/micropython,eac81de,Jeff Epler,2025-10-12T00:27:08Z,tools/ci.sh: Cross build 64-bit windows on Linux.  Signed-off-by: Jeff Epler <jepler@unpythonic.net>,https://github.com/micropython/micropython/commit/eac81de4e0a462dd8121f93b42271774ced3c85f
micropython/micropython,https://github.com/micropython/micropython,0e1d857,Damien George,2025-10-02T02:59:11Z,"README: Define and describe the port Tier levels.  MicroPython has quite a few ports now (20 of them), but not all are in the same stage of development.  This commit attempts to define port Tier levels and assign a Tier to each of the existing ports.  The main aim here is to set expectations for the level of support and development each port gets.  And also lower the bar of entry for new ports so they can enter at a low Tier and gradually rise up to Tier 1.  See prior art here: - https://peps.python.org/pep-0011/ - https://doc.rust-lang.org/rustc/target-tier-policy.html - https://docs.zephyrproject.org/latest/project/release_process.html#hardware-support-tiers  Signed-off-by: Damien George <damien@micropython.org> Signed-off-by: Angus Gratton <angus@redyak.com.au>",https://github.com/micropython/micropython/commit/0e1d857f807395683d6eb37caf0faea6d94594dd
micropython/micropython,https://github.com/micropython/micropython,2082a4d,Ned Konz,2025-10-05T17:45:41Z,"zephyr/boards: Add NXP MIMXRT1020 EVK board.  This board has plenty of RAM, flash, and peripherals, including Ethernet. It also has a microSD slot, which also works.  Access to the REPL is via UART1, which is available via the DAPLink connector J23.  Signed-off-by: Ned Konz <ned@metamagix.tech>",https://github.com/micropython/micropython/commit/2082a4d18967d23bbc77efebde20c5851422e21f
micropython/micropython,https://github.com/micropython/micropython,7bb78fb,Ned Konz,2025-10-01T21:16:44Z,"zephyr/boards: Add XIAO BLE NRF52840 SENSE board.  This commit adds Zephyr support for the XIAO BLE NRF52840 SENSE board from Seeed Studio.  It also provides a good example of a richer Zephyr port than the default, adding: - Frozen modules (including asyncio, upysh, aioble and aiorepl). - Enough MicroPython features to support using aioble (at least for the   `temp_sensor.py` example). - JSON, random, re, struct, etc.  Signed-off-by: Ned Konz <ned@metamagix.tech>",https://github.com/micropython/micropython/commit/7bb78fb6dfecf1edb9f1ba2943d558ed991111ab
micropython/micropython,https://github.com/micropython/micropython,4c11f64,Ned Konz,2025-10-17T17:51:56Z,"zephyr: Add erase block size to FlashArea.areas entries.  This commit changes the values in the `FlashArea.areas` dictionary from simple integer IDs to (ID, erase-block-size) tuples.  `_boot.py` was changed to use the newly available erase block size.  Signed-off-by: Ned Konz <ned@metamagix.tech>",https://github.com/micropython/micropython/commit/4c11f64faa3841e2939ccf11aad618d213a236a4
micropython/micropython,https://github.com/micropython/micropython,7090fc5,Ned Konz,2025-10-01T17:56:41Z,"zephyr: Mount all disks and flash partition, formatting if necessary.  Existing C code in `main.c` only mounts a flash filesystem if one exists, and doesn't do anything if the 'storage' partition is not formatted.  This commit moves the mounting logic from `main.c` to frozen code using `modules/_boot.py` and adds the formatting of a previously unformatted partition if the mount fails.  Every available disk (in the newly added `DiskAccess.disks` tuple) will be mounted on separate mount points (if they're formatted), and the 'storage' flash partition (if any) will be mounted on /flash (and will be formatted as LFS2 if necessary).  Also, `sys.path` will be updated with appropriate 'lib' subdirectories for each mounted filesystem.  The current working directory will be changed to the last `DiskAccess.disk` mounted, or to /flash if no disks were mounted.  Then `boot.py` and `main.py` will be executed from the current working directory if they exist.  Thanks to @VynDragon for the logic in `zephyr/zephyr_storage.c`.  Signed-off-by: Ned Konz <ned@metamagix.tech>",https://github.com/micropython/micropython/commit/7090fc5dd63bc1dcbe5470e2000ed333cb867d64
micropython/micropython,https://github.com/micropython/micropython,b1802eb,Damien George,2025-10-15T20:19:36Z,tools/ci.sh: Init micropython-lib submodule for zephyr build.  The zephyr port doesn't have a Makefile so can't run `make submodules`. Instead they must be explicitly initialized.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/b1802eb0e1363fb7d0d2c618a3522b84978c77d2
micropython/micropython,https://github.com/micropython/micropython,ea2fdeb,Damien George,2025-09-23T06:54:45Z,"tests/run-tests.py: Allow port:<dev> specification in run-multitests.py.  This moves the `port:<dev>` check for the test instance to the `convert_device_shortcut_to_real_device()` helper function, which means that `run-multitests.py` can use this specification.  Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/ea2fdebce29f655fcae7b79214b063618e26ab69
micropython/micropython,https://github.com/micropython/micropython,196a865,Damien George,2025-09-26T05:19:48Z,"tests/extmod/time_res.py: Properly skip functions not in time module.  If `time.time` doesn't exist, it tries to use `globals()['time']` which is the time module itself, and that causes the test to fail.  Instead it should just skip `time.time`.  Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/196a8653a24abe26d474899570398426877c7563
micropython/micropython,https://github.com/micropython/micropython,3b46c00,Damien George,2025-07-31T03:49:16Z,tests/net_hosted/ssl_verify_callback.py: Skip if no verify_callback.  axTLS does not implement the `verify_callback` attribute.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/3b46c0018a0656bd98f0320efb00c11c268b44d3
micropython/micropython,https://github.com/micropython/micropython,c5c03e7,Damien George,2025-10-07T01:35:41Z,"tests/net_inet/tls_text_errors.py: Add exp file to run on axTLS.  axTLS will print a warning, and the added .exp file will skip that line.  Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/c5c03e74ab207ef1c97f6dffe955669e8237a334
micropython/micropython,https://github.com/micropython/micropython,e1a6c11,Damien George,2025-10-07T01:52:14Z,tests/net_inet/tls_num_errors.py: Switch to tls mod and require mbedTLS.  This test is very specific to mbedTLS and how it raises errors when the heap is locked.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/e1a6c11f4238cc31e6f11133d9e8c237919baee0
micropython/micropython,https://github.com/micropython/micropython,a386759,Damien George,2025-07-31T02:24:51Z,"tests/net_inet: Skip tests on axTLS when necessary.  These tests cannot run with axTLS, eg on esp8266.  Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/a3867590f917176c5276042a9edc2f400b665d4f
micropython/micropython,https://github.com/micropython/micropython,6fef4eb,Damien George,2025-08-16T14:42:17Z,tests/net_inet/resolve_on_connect.py: Convert to use unittest.  This makes it clear what this test is expected to return/do.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/6fef4eb55ce0ea02ecedc7788ff5a7a042e352d5
micropython/micropython,https://github.com/micropython/micropython,c5dc84c,Damien George,2025-10-03T13:02:55Z,"tests: Move ports/esp32/resolve_on_connect.py to net_inet.  The main reason for moving this test is that it needs internet connection to pass.  So putting it in `net_inet` makes sure it's alongside other tests that need the internet.  Also, it's a general test that could eventually run on other ports, if/when they support doing an address resolution as part of `socket.connect()`.  Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/c5dc84c7972e58f127f8c70a2c1fe2f49e488bc9
micropython/micropython,https://github.com/micropython/micropython,60edfee,Damien George,2025-10-03T12:50:20Z,"tests/run-tests.py: Raise OSError on invalid file open for injected FS.  This makes sure that `open()` raises `OSError(ENOENT)` if the test script attempts to open a file that does not exist.  For example, the test `tests/ports/esp32/check_err_str.py` attempts to do this and this test currently fails when run with `--via-mpy` because the injected filesystem lets a file by any name be opened.  The fix here tries to be as minimal as possible, so includes a size optimisation for `stat()` to use a fixed 10-tuple.  It also fixes the `OSError` argument, which should be positive.  Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/60edfeeead49cba018c9695a0fa10f812b1e04d9
micropython/micropython,https://github.com/micropython/micropython,93f13dd,Damien George,2025-10-18T08:02:14Z,"github/workflows: Free up more disk space on zephyr workflow.  Zephyr CI is currently failing, because the runner is out of space.  Free up some more space using the existing plugin.  Fixes issue #18290.  Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/93f13dd88291b54d4fcd8acafe5c1f8ac6d823df
micropython/micropython,https://github.com/micropython/micropython,9999553,Angus Gratton,2025-10-15T04:15:48Z,"esp32/boards: Apply additional IRAM savings.  Saves approx 19KB on ESP32-C6 and 11KB on ESP32-C2, meaning IDF V5.5.1 builds now have more free RAM than V5.4.2.  This work was funded through GitHub Sponsors.  Signed-off-by: Angus Gratton <angus@redyak.com.au>",https://github.com/micropython/micropython/commit/9999553aaed6f9fba09382f9615da254748f7a0c
micropython/micropython,https://github.com/micropython/micropython,0f49a1d,Damien George,2025-10-01T07:02:47Z,"esp32: Update to use ESP-IDF v5.5.1.  Tested with ESP32_GENERIC, ESP32_GENERIC_C3, ESP32_GENERIC_C6 and ESP32_GENERIC_S3 firmware, using the full test suite.  There do not seem to be any regressions.  Signed-off-by: Damien George <damien@micropython.org>",https://github.com/micropython/micropython/commit/0f49a1d240959fb7f7100124b1f7bdfdf10c45ed
micropython/micropython,https://github.com/micropython/micropython,cfea71d,Florent,2025-09-28T11:52:22Z,"esp32/boards: Add new board variant for esp32c2 devices with 2MiB flash.  Factors out the space-saving config options from `sdkconfig.d2wd` to a new `sdkconfig.flash_2MiB` file, and uses that in the new C2 FLASH_2M variant.  Signed-off-by: Florent <florent@frizoncorrea.fr>",https://github.com/micropython/micropython/commit/cfea71da507b5f40e86d81efd7ac24c4acd73b27
micropython/micropython,https://github.com/micropython/micropython,2f88c1e,Angus Gratton,2025-10-14T22:58:41Z,esp32: Update tools/metrics_esp32.py to use JSON output.  Much cleaner. Also add deltas to the output table for easier interpretation.  This work was funded through GitHub Sponsors.  Signed-off-by: Angus Gratton <angus@redyak.com.au>,https://github.com/micropython/micropython/commit/2f88c1e795334ab064b058bf28dfb38a59836a71
micropython/micropython,https://github.com/micropython/micropython,00a926e,Ayush Singh,2025-09-15T09:39:27Z,zephyr/boards: Add PocketBeagle 2 rev A1 m4 support.  Same configuration as rev A0.  Signed-off-by: Ayush Singh <ayush@beagleboard.org>,https://github.com/micropython/micropython/commit/00a926e99e45cf17cc96f73476fb9def2af567aa
micropython/micropython,https://github.com/micropython/micropython,2995029,Ayush Singh,2025-09-01T07:48:20Z,"zephyr/boards: Add PocketBeagle 2 rev A0 m4 support.  Add support for PocketBeagle 2 rev A0 m4.  Since it has 256K of SRAM (split into 192K instruction and 64K data regions), some things need to be disabled in MicroPython to make it fit.  Signed-off-by: Ayush Singh <ayush@beagleboard.org>",https://github.com/micropython/micropython/commit/29950295c4e99690e1907fb731020a4e3361a8ac
micropython/micropython,https://github.com/micropython/micropython,c6a7851,Ned Konz,2025-09-30T20:22:10Z,"zephyr/modzsensor: Add set/get sensor attributes to zsensor.  This commit adds `Sensor.attr_set()` and `Sensor.attr_get_*()` methods that are necessary to set various sensor attributes if they haven't been set statically in the device tree.  This is needed, for example, because the LSM6DS3TR-C sensor on the XIAO BLE NRF52840 SENSE board will not work with `zsensor` because it doesn't have any default configuration for sampling frequency.  Various `SENSOR_ATTR_*` constants from `zephyr/incude/zephyr/drivers/sensor.h` have been added as `ATTR_*` constants in the `zsensor` module.  Signed-off-by: Ned Konz <ned@metamagix.tech>",https://github.com/micropython/micropython/commit/c6a78515fba853ecfe3083cba5f5a09fb72d475d
micropython/micropython,https://github.com/micropython/micropython,d42a301,Ned Konz,2025-09-30T19:52:25Z,"zephyr/machine_adc: Add ADC support.  This commit adds support for ADC peripherals in the Zephyr port.  As is typical for Zephyr, the ADC channel setup is done in the devicetree (typically using an overlay).  This code requires ADC channels to be listed in the io-channels property of the zephyr,user root node.  Signed-off-by: Ned Konz <ned@metamagix.tech>",https://github.com/micropython/micropython/commit/d42a301afd2661618e2a1a6a09c668b2f044c3d8
micropython/micropython,https://github.com/micropython/micropython,c9a16e8,Vdragon,2025-10-04T12:04:19Z,zephyr: Add boards files for rp2350's m33 on pico 2.  Adds overlay and conf for RPi Pico2 ARM cpu on the zephyr port.  Signed-off-by: Vdragon <mail@massdriver.space>,https://github.com/micropython/micropython/commit/c9a16e862caed343a55d6d192c833def3910d53a
micropython/micropython,https://github.com/micropython/micropython,01448d0,Vdragon,2025-10-04T12:03:03Z,"zephyr: Remove defaulting to newlib.  Remove CONFIG_NEWLIB_LIBC=y, as it seems it is now unecessary.  Signed-off-by: Vdragon <mail@massdriver.space>",https://github.com/micropython/micropython/commit/01448d03f3b6eb6e8d8da3c26e06699cd6d14f79
micropython/micropython,https://github.com/micropython/micropython,ddd6ca7,Damien George,2025-09-25T14:57:30Z,docs/develop/porting: Use mp_cstack_init_with_sp_here in docs.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/ddd6ca75be81711b0c44e076867989dd18d62bdb
micropython/micropython,https://github.com/micropython/micropython,6ab3c3c,Damien George,2025-09-25T14:56:04Z,mpy-cross/main: Replace mp_stack calls with mp_cstack_init_with_sp_here.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/6ab3c3cb173bc28d39b8342cb7b66afeb29fae09
micropython/micropython,https://github.com/micropython/micropython,639150e,Damien George,2025-09-25T14:54:44Z,samd/main: Replace mp_stack_set calls with mp_cstack_init_with_top.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/639150e9f3fb8144368537b72187ee4890ba9b37
micropython/micropython,https://github.com/micropython/micropython,12220b8,Damien George,2025-09-25T14:53:25Z,renesas-ra/main: Replace mp_stack_set with mp_cstack_init_with_top.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/12220b821e5c1a9469fa54309b075e9afd01a9be
micropython/micropython,https://github.com/micropython/micropython,cbe137c,Damien George,2025-09-25T14:51:58Z,qemu/main: Replace mp_stack calls with mp_cstack_init_with_sp_here.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/cbe137c4b8b6402be95ebe173653f0ea1e9dab66
micropython/micropython,https://github.com/micropython/micropython,1737a69,Damien George,2025-09-25T14:49:30Z,esp8266/boards: Replace stackctrl.o with cstack.o in obj file list.  This was missed in d441788975a6dfb277ad9a3d54d651ae48817d16.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/1737a690bc71d92daf27fe45d9a398ded02dcd59
micropython/micropython,https://github.com/micropython/micropython,73d6a09,Damien George,2025-09-25T14:45:59Z,powerpc/main: Replace mp_stack calls wih mp_cstack_init_with_sp_here.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/73d6a0973c44e9e1846de9fc1400582a40eed369
micropython/micropython,https://github.com/micropython/micropython,8160743,Damien George,2025-09-25T14:42:39Z,nrf/main: Replace mp_stack_set calls with mp_cstack_init_with_top.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/816074339a5633454795399e5be1d1560f5fb4d3
micropython/micropython,https://github.com/micropython/micropython,af22318,Damien George,2025-09-25T14:38:07Z,mimxrt/main: Replace mp_stack_set calls with mp_cstack_init_with_top.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/af2231896169bd409324cc99d9a72896b370ee69
micropython/micropython,https://github.com/micropython/micropython,2399b4e,Damien George,2025-09-25T14:36:13Z,cc3200/mptask: Replace mp_stack_set_top with mp_cstack_init_with_top.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/2399b4ea68ba7978d00b3bd3d315dcd57ac02ef3
micropython/micropython,https://github.com/micropython/micropython,76efdfa,Damien George,2025-09-25T14:34:06Z,alif/main: Replace mp_stack_set with mp_cstack_init_with_top.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/76efdfa4d017e88ad4aeae9aa22f01dcc9229f8b
micropython/micropython,https://github.com/micropython/micropython,b68574e,Damien George,2025-09-25T14:29:13Z,zephyr/main: Replace mp_stack_set with mp_cstack_init_with_sp_here.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/b68574e59171e509d0e4b1b12e490726e460b5c3
micropython/micropython,https://github.com/micropython/micropython,f498ebc,Damien George,2025-09-25T14:30:43Z,stm32/main: Remove unused include of stackctrl.h.  Signed-off-by: Damien George <damien@micropython.org>,https://github.com/micropython/micropython/commit/f498ebcdda54d99608da28822996fa03aa34b80a
micropython/micropython,https://github.com/micropython/micropython,f7b30aa,iabdalkader,2025-10-06T14:07:18Z,stm32/boards/OPENMV_N6: Switch to object REPR_C.  Signed-off-by: iabdalkader <i.abdalkader@gmail.com>,https://github.com/micropython/micropython/commit/f7b30aa423410d3c757f7463372035af206b16d4
micropython/micropython,https://github.com/micropython/micropython,8995a29,Angus Gratton,2025-10-08T06:03:52Z,tools/ci: Fix typo of pipefail.  Regression from 449866cb0af3fc547df6538a6552517cc8974616.  Signed-off-by: Angus Gratton <angus@redyak.com.au>,https://github.com/micropython/micropython/commit/8995a291e05aef6c2ab1a24647355eae87dca391
micropython/micropython,https://github.com/micropython/micropython,13d4975,Jeff Epler,2025-09-26T20:30:09Z,tools/ci.sh: Re-add IGNORE_ERRORS to ci_code_size_build.  It was removed (possibly inadvertently) in 4c55b0879b38b373b44e84552d6754b7842b5b72  Signed-off-by: Jeff Epler <jepler@unpythonic.net>,https://github.com/micropython/micropython/commit/13d49751f4f656c4ea12f3ed4cde2c404cf557ae

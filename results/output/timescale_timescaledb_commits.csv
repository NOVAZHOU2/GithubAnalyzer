项目名称,项目URL,提交ID,提交者,提交时间,提交信息,提交链接
timescale/timescaledb,https://github.com/timescale/timescaledb,399a82d,Sven Klemm,2025-12-04T17:47:10Z,Remove cagg_try_repair  This is no longer needed and was used to repair caggs created with 1.7.0,https://github.com/timescale/timescaledb/commit/399a82ddf0d6eba14f44fadc4d9bdb91fc8adcff
timescale/timescaledb,https://github.com/timescale/timescaledb,7036785,Fabrízio de Royes Mello,2025-12-04T18:11:09Z,Remove deprecated partialize/finalize functions  This is a following up of #8859 to remove deprecated `partialize_agg` and `finalize_agg` functions.,https://github.com/timescale/timescaledb/commit/703678530c1a60af58e07933c0f821cd8fa2ff95
timescale/timescaledb,https://github.com/timescale/timescaledb,e6a33d0,Fabrízio de Royes Mello,2025-12-04T19:02:41Z,Fix latest-dev.sql EOL character  In #9012 we inadvertently changed the latest-dev.sql EOL character from Unix (CR) to Windows (CRLF).  Fixing it by reverting it back to Unix EOL (CR) character.,https://github.com/timescale/timescaledb/commit/e6a33d0ce62d7832fde46a02771a6021e1584381
timescale/timescaledb,https://github.com/timescale/timescaledb,e8e98ba,Sven Klemm,2025-12-04T11:21:46Z,Move bgw_job table into _timescaledb_catalog schema  This allows us to drop the _timescaledb_config schema and have all catalog tables in the same schema,https://github.com/timescale/timescaledb/commit/e8e98ba50dd3c0ffc1555c416d066d6b6f442add
timescale/timescaledb,https://github.com/timescale/timescaledb,ec2f38c,Alexander Kuzmenkov,2025-12-04T15:23:01Z,Use UTF-8 encoding for make installcheck for APT packages (#9014)  Otherwise there are no collations available to run some of our collation tests.  Also enable scheduled runs on main now that it passes.,https://github.com/timescale/timescaledb/commit/ec2f38c87edc96cbc607b9595f06dde3f938eaaa
timescale/timescaledb,https://github.com/timescale/timescaledb,f712be6,Sven Klemm,2025-12-04T09:14:32Z,Remove _timescaledb_debug schema  To reduce the amount of schemas we have drop the _timescaledb_debug schema since it only had 1 function and move the function to _timescaledb_functions schema.,https://github.com/timescale/timescaledb/commit/f712be6ca3be480627fa89c3092209ed4b8cd443
timescale/timescaledb,https://github.com/timescale/timescaledb,509c759,Sven Klemm,2025-12-04T07:57:01Z,Use latest github release to determine current expected version  The workflows verifying packages used version.config to determine most recent version which required the forward PR to be merged to main branch. This change uses github releases instead which means workflow will use the new version as soon as it is released.,https://github.com/timescale/timescaledb/commit/509c7596f01f9b87438eac4dba07c4133c3954ca
timescale/timescaledb,https://github.com/timescale/timescaledb,5532e29,Sven Klemm,2025-12-03T11:07:18Z,Enable downgrade test for pg18 packages,https://github.com/timescale/timescaledb/commit/5532e2972a54a6655c42a331d6e3f2030cb8cfa5
timescale/timescaledb,https://github.com/timescale/timescaledb,10bcaf4,Philip Krauss,2025-12-04T06:42:35Z,Forwardport 2.24.0 (#9012)  - add up & down files - register CMakeList.txt with 2.24.0  - adjust version.config - remove the shipped .unreleased files,https://github.com/timescale/timescaledb/commit/10bcaf4200c3fd67d177e8a0431ba5216946fb06
timescale/timescaledb,https://github.com/timescale/timescaledb,5007c45,Poroma Banerjee,2025-12-03T04:38:26Z,"Add validation for compression index key limits  Compression creates implicit indexes on compressed chunks using segmentby and orderby columns. Each segmentby column contributes 1 index key, and each orderby column contributes 2 keys (for min and max metadata). This can exceed PostgreSQL's INDEX_MAX_KEYS limit of 32.  Add validate_compression_index_key_limit() to check that the total number of index keys doesn't exceed INDEX_MAX_KEYS when setting up compression.  Fixes #8218",https://github.com/timescale/timescaledb/commit/5007c4504d5267a57261b78ef664063a25c6240b
timescale/timescaledb,https://github.com/timescale/timescaledb,d01e59c,Alexander Kuzmenkov,2025-12-03T14:14:27Z,"Use baserestrictinfo for chunk exclusion (#8987)  Not sure why we're going through the parse tree here again.  Our custom code probably went out of sync with PG starting with version 16, so chunk exclusion is not working in some cases. It's compensated for by the standard Postgres chunk exclusion, so there is no visible effect, but we shouldn't really be doing that because it leads to planning performance regressions.",https://github.com/timescale/timescaledb/commit/d01e59cbb0f2a398de5b5a642d303a9c66278914
timescale/timescaledb,https://github.com/timescale/timescaledb,3a91965,Fabrízio de Royes Mello,2025-11-20T15:15:49Z,"Remove Continuous Aggregate old format support  In release 2.7.0 (2022-05-24) we introduced a new CAgg format without storing partials. So starting in the version was possible to create either the old and new format by using the `finalized` option when creating a new CAgg.  In release 2.8.0 (2022-08-31) we added the `cagg_migrate` procedure for users migrate their old format CAggs into the new format.  In release 2.12.0 (2023-09-26) we restricted creating CAggs in the old format starting on PG15.  More than three years passed since we introduced the new format that optimized significantly query performance and storage leading customers to cost savings. So is time to say good bye to the old format and completely remove support for it from our code base. It means if for some reason a user still have the old format the extension update will be blocket, so is good to use the `cagg_migrate` procedure to migrate to the old format and make sure to really remove the old format CAgg and then try update the extension again.  Related PRs: #4294 #4269 #4941  Related Releases: https://github.com/timescale/timescaledb/releases/tag/2.7.0 https://github.com/timescale/timescaledb/releases/tag/2.8.0 https://github.com/timescale/timescaledb/releases/tag/2.12.0",https://github.com/timescale/timescaledb/commit/3a919651413c5c676a703edf008f52aaf18720fb
timescale/timescaledb,https://github.com/timescale/timescaledb,bddc1ea,Alexander Kuzmenkov,2025-12-03T10:15:17Z,"Use ECs and joininfo when checking the need for Ordered Append (#8994)  At the moment we go over the parse tree to collect these clauses independently. This seems excessive, because during the hypertable expansion all this data is already prepared by the Postgres planner.",https://github.com/timescale/timescaledb/commit/bddc1ea238232a7037cf6ca7d1a1501273717dce
timescale/timescaledb,https://github.com/timescale/timescaledb,d486eab,Ante Kresic,2025-12-02T11:20:23Z,Fix sort limiting for direct compress  Previous limit introduced an off-by-one bug where you would flush limit+1 tuples and thus potentially creating single tuple batch. This would negatively affect compression ratio and ingest speed of direct compress.,https://github.com/timescale/timescaledb/commit/d486eab153e0dda9881ad4032e5fe0de82db15ae
timescale/timescaledb,https://github.com/timescale/timescaledb,3d0afb0,Poroma Banerjee,2025-12-02T16:24:59Z,Test recompress with convert_to_columnstore  convert_to_columnstore() is a procedure and should work the same as compress_chunk().,https://github.com/timescale/timescaledb/commit/3d0afb062e6a9f54412c47182a807449f2c7af69
timescale/timescaledb,https://github.com/timescale/timescaledb,bfb3949,Mostafa Moradian,2025-12-02T12:23:30Z,Convert tabs to spaces to make it a valid YAML file,https://github.com/timescale/timescaledb/commit/bfb3949c268bd926e92f44cb1bb488de0164d183
timescale/timescaledb,https://github.com/timescale/timescaledb,65959a6,Alexander Kuzmenkov,2025-12-02T12:48:30Z,"Remove some wrong uses of ""internal error"" (#8996)  Internal error code is reserved for bugs and must not happen under normal operation.",https://github.com/timescale/timescaledb/commit/65959a61f994ea179f7e3f0feb3e122146523b08
timescale/timescaledb,https://github.com/timescale/timescaledb,4cee21d,Sven Klemm,2025-12-02T09:54:49Z,Fix race condition in regresscheck-shared  Hypertables with caggs have direct batch delete optimization disabled so when the cagg test that was creating addition caggs was running at the same time as the compression dml tests certain optimizations would be skipped leading to flaky tests.,https://github.com/timescale/timescaledb/commit/4cee21d273660de13c8f8b71d89e04e5c3dfd902
timescale/timescaledb,https://github.com/timescale/timescaledb,02bb6d4,Fabrízio de Royes Mello,2025-11-07T20:34:06Z,"Avoid processing pending ranges far from refresh range  If the materialization phase of the Continuous Aggregate refresh don't finish successful it left behing pending range rows in the metadata table `_timescaledb_catalog.continuous_aggs_materialization_ranges`. It is not a problem when refreshing small ranges because an next attempt will pick this pending range left behind and process it.  The problem happens when refresh a big range and for some reason it don't finish successful lefting behing this big range, so an next attempt for a small range that overlaps with the big range will pick up this big range and try to refresh it again leading to performance issues.  Improved it by limiting the overlaping ranges that start and end at maximum one bucket before and after the refresh range.",https://github.com/timescale/timescaledb/commit/02bb6d45d2f6f2b93f220dbd9b4a3b821688275a
timescale/timescaledb,https://github.com/timescale/timescaledb,0da6f18,Poroma Banerjee,2025-11-27T04:43:29Z,Add pathkey replacement for ColumnarScanPath  Pathkey replacement in sort_transform.c only handled the standard Path.pathkeys field. ColumnarScanPath has an additional required_compressed_pathkeys field that also needs replacement during sort transformation.  Introduce a new TSL hook sort_transform_replace_pathkeys to handle pathkey replacement for TSL-specific custom path types like ColumnarScan that have additional pathkey fields.  Fixes #8963,https://github.com/timescale/timescaledb/commit/0da6f1827d2fe1feace69c0b5fcc15970837cb5e
timescale/timescaledb,https://github.com/timescale/timescaledb,017f727,Poroma Banerjee,2025-10-26T00:52:04Z,Add GUC for in-memory recompression,https://github.com/timescale/timescaledb/commit/017f727c756f9a92bcf544b7f41d4e81c327b0b1
timescale/timescaledb,https://github.com/timescale/timescaledb,91ce04d,Sven Klemm,2025-11-27T13:35:37Z,Don't ignore additional filters on same column when building scankeys  This would lead to assertion failure in debug builds and ignore additional filter in non-debug builds. This would not lead to data corruption but it could lead to more data being decompressed than necessary for DML operations on compressed chunks.  Found by sqlsmith,https://github.com/timescale/timescaledb/commit/91ce04d828d728151097cc506ea05514a4952c90
timescale/timescaledb,https://github.com/timescale/timescaledb,8bd6048,Poroma Banerjee,2025-11-27T16:37:54Z,"Fix EquivalenceClass index update for RelOptInfo  Add new EquivalenceClass to RelOptInfo->eclass_indexes so that compressed_rel_setup_equivalence_classes() can consider the transformed EC when selecting paths, enabling optimal index scan selection on compressed chunks.",https://github.com/timescale/timescaledb/commit/8bd604842d01f73bf2bd2969f0e9d8e50bebb6f1
timescale/timescaledb,https://github.com/timescale/timescaledb,e6c6a9c,Eon,2025-11-25T11:52:09Z,Increase minor version 2.25.0-dev (#8978)  Bump to next minor for the upcoming 2.23.1 release  Co-authored-by: timescale-automation <123763385+github-actions[bot]@users.noreply.github.com>,https://github.com/timescale/timescaledb/commit/e6c6a9c77d1231040c5a94e1f3b93e997558c9d3
timescale/timescaledb,https://github.com/timescale/timescaledb,cf9fa5c,Erik Nordström,2025-11-13T17:00:57Z,"Refactor time_bucket() transform to support UUIDv7  TimescaleDB performs a plan-time optimization to enable chunk exclusion for time_bucket() queries where a time_bucket() expression is part of the WHERE clause. The general form of the WHERE clause is:  `time_bucket(width, column) OP value`  The optimization transforms such expressions so that the restriction is directly on the time column instead of the bucket expression. This makes chunk exclusion work.  This change adds support for transforming UUIDv7 time_bucket() expressions. One complication of the UUIDv7 bucket is that it doesn't follow the exact same pattern as other buckets where the time input type is of the same type as the compared value. The bucket input ""time"" is a UUIDv7 while the output type and type of the compared to value is TIMESTAMPTZ. Therefore, the timestamp value needs to be converted to a boundary UUIDv7.  To make this work without too much of a special case for UUID, the code for the optimization needed some refactoring.",https://github.com/timescale/timescaledb/commit/cf9fa5ce43e37a74e004b3e0ba0dcda0a2aa2566
timescale/timescaledb,https://github.com/timescale/timescaledb,e1a9812,Sven Klemm,2025-11-25T09:20:07Z,Run update tests for PG18  Update tests for PG18 were initially not added because we didnt have multiple versions supporting PG18.,https://github.com/timescale/timescaledb/commit/e1a9812ada211eb38958547e1a00f4d33fefa974
timescale/timescaledb,https://github.com/timescale/timescaledb,5619cc5,Sven Klemm,2025-11-25T09:08:04Z,Remove redundant entry from latest-dev.sql  All functions are created when the update script is compiled so creating functions in latest-dev is not required.,https://github.com/timescale/timescaledb/commit/5619cc5ea8aa81f963ccc589584e4ba0db3879ed
timescale/timescaledb,https://github.com/timescale/timescaledb,4e64e9e,Erik Nordström,2025-11-12T12:36:14Z,"Support continuous aggregates on UUIDv7-partitioned hypertables  When refreshing a continuous aggregate, the materialization process needs to find the ""latest"" bucket using a max query on the partitioning dimension. This was an issue for UUIDv7 since there is no `max()` function defined for the UUID type. To make this work for UUIDv7-partitioned hypertables, make this max query first extract the timestamp from the UUID using `uuid_timestamp()`.",https://github.com/timescale/timescaledb/commit/4e64e9ed7593a8ff4a43b3af3f7bf6001067994e
timescale/timescaledb,https://github.com/timescale/timescaledb,b51087e,Poroma Banerjee,2025-11-24T20:42:58Z,Exclude date/time columns from default segmentby,https://github.com/timescale/timescaledb/commit/b51087eacdf6ae67c625ad0172c5f90acc757bf4
timescale/timescaledb,https://github.com/timescale/timescaledb,5684f0b,Sven Klemm,2025-11-06T08:17:19Z,Add support for continuous aggregate invalidation to direct compress  When we initially introduced direct compress we blocked hypertables with continuous aggregates from using it because invalidation would not work for these hypertables. This patch enables direct compress for hypertables with continuous aggregates and adds invalidation for data added with direct compress.,https://github.com/timescale/timescaledb/commit/5684f0b5c389995455fa62a69396672f0ebb1406
timescale/timescaledb,https://github.com/timescale/timescaledb,9741d94,Ante Kresic,2025-11-24T10:14:47Z,"Add sorting tuple limit for direct compress  To avoid dealing with too many tuples at once and potentially spilling the sort to disk, limit the number of tuples that we sort at the same time. This should improve memory usage on large ingest transactions.",https://github.com/timescale/timescaledb/commit/9741d94380ee7125f5ad1d0a6e896a0ffba428fe
timescale/timescaledb,https://github.com/timescale/timescaledb,e8cca5e,Sven Klemm,2025-11-19T18:53:39Z,"Track continuous aggregate invalidation at chunk level  This change will cap the maximum range an invalidation can cover to a single chunk, preventing stray time values from creating huge invalidation ranges.",https://github.com/timescale/timescaledb/commit/e8cca5e8107dd128bfdb5bebad263fd2509859ab
timescale/timescaledb,https://github.com/timescale/timescaledb,bea804f,Sven Klemm,2025-11-23T05:51:53Z,Gracefully handle missing jobstat in background worker  This would lead to an assertion in debug builds and a segfault in production builds.,https://github.com/timescale/timescaledb/commit/bea804f0cdee8ce26b932922d2676105f474f9a7
timescale/timescaledb,https://github.com/timescale/timescaledb,cf7da8b,Sven Klemm,2025-11-23T07:12:48Z,Skip trying to upload test results when not running installcheck,https://github.com/timescale/timescaledb/commit/cf7da8bb8db992088147fc58e5c04658a95ca9a2
timescale/timescaledb,https://github.com/timescale/timescaledb,ec4e0d5,Sven Klemm,2025-11-24T05:58:21Z,Disable postgres build cache for macos  Caching for MacOS is currently broken in GitHub https://github.com/actions/runner-images/issues/13341,https://github.com/timescale/timescaledb/commit/ec4e0d567374d343152512d74aa7e44d96123610
timescale/timescaledb,https://github.com/timescale/timescaledb,6144a2e,Sven Klemm,2025-11-23T18:57:57Z,Add missing ORDER BY clauses to cagg watermark test,https://github.com/timescale/timescaledb/commit/6144a2e3daaefbcfeb29e7fa372f93707c7fc4c9
timescale/timescaledb,https://github.com/timescale/timescaledb,ae1f8e4,Keyur Panchal,2025-11-21T18:52:32Z,Fix if_not_exists behaviour when adding refresh policy (#8958)  The check that blocks hierarchical CAggs from having multiple concurrent policies did not respect the `if_not_exists` parameter. This fixes the behaviour to be as expected by moving the check till after we check if the policy already exists.,https://github.com/timescale/timescaledb/commit/ae1f8e4afc3143218171b925891a6a3b86c3cef6
timescale/timescaledb,https://github.com/timescale/timescaledb,a04f790,Alexander Kuzmenkov,2025-11-20T18:16:29Z,"Bump bloom filter metadata column type to 2 (#8761)  The bloom1 sparse indexes hashing depends on build options. This leads to index corruption when people mix different builds. We observed this with some customers in cloud.  Hashing is also different between our current arm and amd64 packages.  This PR makes the bloom filter index column name dependent on the hashing scheme, therefore avoiding the incompatibility. The old prefix is ""bloom1"", the new options are ""bloomH"" (modern hashing we also use for vectorized aggregation) and ""bloomG"" (standard postgres hashing).  After this change, the old ""bloom1"" sparse index column will be ignored, so the bloom filter indexes will stop working for the chunks created before the migration. The index can be restored by decompressing the chunk and compressing it again.",https://github.com/timescale/timescaledb/commit/a04f79035e8450fbe49b7bfe304df21a2051d70a
timescale/timescaledb,https://github.com/timescale/timescaledb,caaaa76,Poroma Banerjee,2025-11-04T03:27:55Z,Fix dead code in  PG 18 sort_transform_ec  The loop condition prevents execution. Change to use the standard bms_next_member() iteration pattern using while loop instead of for.,https://github.com/timescale/timescaledb/commit/caaaa76a9a603e8f2704cbada475bc048cc6bbd8
timescale/timescaledb,https://github.com/timescale/timescaledb,4ef99c6,Ante Kresic,2025-11-20T09:27:23Z,Speed up compression_sorted_merge test  This change speeds up the test around 35% on my local machine.,https://github.com/timescale/timescaledb/commit/4ef99c6cd3ec576bfb4e639d9b9b54edff913a31
timescale/timescaledb,https://github.com/timescale/timescaledb,fb5a627,Sven Klemm,2025-11-19T13:45:08Z,Small refactoring of invalidation code  This is in preparation of capping invalidation ranges,https://github.com/timescale/timescaledb/commit/fb5a6271480679ee7fa8bc81d7bfd869b080e90f
timescale/timescaledb,https://github.com/timescale/timescaledb,bb6c9c9,Alexander Kuzmenkov,2025-11-19T14:53:15Z,"Don't run the libfuzzer check on every commit on main (#8956)  It's very heavy, and our CI is overloaded at the moment.",https://github.com/timescale/timescaledb/commit/bb6c9c90fa2ef0c85a141435b468d24f413c50d3
timescale/timescaledb,https://github.com/timescale/timescaledb,cde099a,Alexander Kuzmenkov,2025-11-19T14:24:21Z,"Prepare bloom filter tests for column name change (#8950)  This replaces the metadata column of the bloom filter sparse index with a placeholder in the regression test output, and also makes some places less sensitive to formatting. There are a lot of changes, so I'm making a separate commit without functional changes, not to miss anything.",https://github.com/timescale/timescaledb/commit/cde099a402ebd9023fac8be20bfcd214e08bb291
timescale/timescaledb,https://github.com/timescale/timescaledb,066b511,Melih,2025-11-19T13:38:20Z,"Declarative partitioning for hypertables (#8890)  Adopt PostgreSQL's declarative partitioning for hypertables. This makes hypertables partitioned tables and their chunks partitions.  This commit is the first step of declarative partitioning efforts. It includes minimal set of features initially and everything is behind a new GUC `enable_partitioned_hypertables`. If the GUC is enabled, hypertables will be created as partitioned tables. Chunks will be created during inserts as needed, but they'll be attached as partitions instead.  To create partitioned hypertable, use `CREATE TABLE ... WITH (tsdb.hypertable)`. Only single dimensional hypertables are supported.  This commit does not introduce support for all TimescaleDB. It's planned to support missing features in later commits. Until this work is completed, it is only available in debug builds.  This commit still requires more testing. Included tests are to show how hypertables use declarative partitioning, and features like partition-wise joins, hypertable to hypertable foreign keys work.",https://github.com/timescale/timescaledb/commit/066b5117d2dfc8586066af5a009f9255fc8a612b
timescale/timescaledb,https://github.com/timescale/timescaledb,4da2c12,Alexander Kuzmenkov,2025-11-19T13:37:38Z,Fix missing collation in a test (#8954)  This leads to failure on MacOS 15.,https://github.com/timescale/timescaledb/commit/4da2c127e8546567756c330b6892b2609be10399
timescale/timescaledb,https://github.com/timescale/timescaledb,3288dbe,Ante Kresic,2025-11-19T11:51:36Z,Fix formatting issues in ModifyHypertable code,https://github.com/timescale/timescaledb/commit/3288dbe38ca1d917a62cc9f1a620f6d0903efe82
timescale/timescaledb,https://github.com/timescale/timescaledb,41d4e95,Alexander Kuzmenkov,2025-11-19T12:06:35Z,Use getconf _NPROCESSORS_ONLN instead of nproc (#8948)  The former also works on MacOS.,https://github.com/timescale/timescaledb/commit/41d4e9580c6af16b73b6a83f3d04f06a9dcba553
timescale/timescaledb,https://github.com/timescale/timescaledb,9faf292,Ante Kresic,2025-11-17T13:40:36Z,Remove frozen chunk custom node  It was only useful for DML commands and we can achieve the same result with a simple check during execution time.,https://github.com/timescale/timescaledb/commit/9faf2928e9df850270d068b515c09cb445160e1d
timescale/timescaledb,https://github.com/timescale/timescaledb,5a3b91f,Sven Klemm,2025-11-19T09:50:49Z,Remove some leftover stuff from invalidation trigger removal,https://github.com/timescale/timescaledb/commit/5a3b91f329918230ed720872aef8e4d8ae1e9cce
timescale/timescaledb,https://github.com/timescale/timescaledb,4b57de6,Poroma Banerjee,2025-11-18T04:04:03Z,"Fix lateral join handling for compressed chunks  Compressed relations now properly inherit lateral_relids from chunk relations and correctly handle parameterized paths during decompression. Parameterized partial paths are checked with an assertion, and parallel paths are skipped for laterally-dependent compressed relations.  Fixes #8848",https://github.com/timescale/timescaledb/commit/4b57de653f23def6d5d55f75e0d1e970025ae3b3
timescale/timescaledb,https://github.com/timescale/timescaledb,6b765f8,Alexander Kuzmenkov,2025-11-18T20:34:33Z,"Bump macos to 15 (#8949)  GitHub is cancelling the job on MacOS 13 with the following messages:  This is a scheduled macos-13 brownout. The macOS-13 based runner images are being deprecated. For more details, see https://github.com/actions/runner-images/issues/13046.  The macOS-13 based runner images are being deprecated, consider switching to macOS-15 (macos-15-intel) or macOS 15 arm64 (macos-latest) instead. For more details see https://github.com/actions/runner-images/issues/13046  Use intel for now, because there are mystery errors on Apple Silicon: clang: error: unable to execute command: posix_spawn failed: Resource temporarily unavailable.",https://github.com/timescale/timescaledb/commit/6b765f8d70a7d5db1396aa7b7ae5e7758f9c83e0
timescale/timescaledb,https://github.com/timescale/timescaledb,fb3c79b,Sven Klemm,2025-11-18T09:17:49Z,Enable windows package test for PG18,https://github.com/timescale/timescaledb/commit/fb3c79b78e0caebac329afeafbfa5841ed64c4b5
timescale/timescaledb,https://github.com/timescale/timescaledb,a576783,Alexander Kuzmenkov,2025-11-18T15:52:06Z,Fix wrong usage of \if in upgrade tests (#8946)  It doesn't perform boolean operations and only evaluates the argument as a bool GUC value.,https://github.com/timescale/timescaledb/commit/a5767837c5dd4c0fa0bbf6c52cec5c1253a9337c
timescale/timescaledb,https://github.com/timescale/timescaledb,7f7c6ec,Alexander Kuzmenkov,2025-11-18T14:11:25Z,"Test for old metadata column layout in shared database (#8937)  The metadata columns used to go last before 2.15, and we had bugs caused before that were not caught by tests because they all use the new layout.",https://github.com/timescale/timescaledb/commit/7f7c6ec33dd5b7b80235dcd7819ae8ed53695950
timescale/timescaledb,https://github.com/timescale/timescaledb,8226d24,Erik Nordström,2025-11-13T16:27:24Z,Disable time_bucket() transforms for UUID bucket  The time_bucket() transform optimization does not work on a time_bucket() taking UUID as input since the transformed expression will compare a UUID and a timestamptz.  It might be possible to support this in the future by also transforming the timestamptz to a boundary UUID or implementing operators to compare UUID and timestamptz.,https://github.com/timescale/timescaledb/commit/8226d2476be1991e6d983850f7fcd2f812f83c2f
timescale/timescaledb,https://github.com/timescale/timescaledb,c51421a,Erik Nordström,2025-10-10T16:28:12Z,"Add time bucketing support for UUIDv7  Implement `time_bucket` functions for UUIDv7. The functions take a UUID as input instead of the normal ""time value"", but outputs a timestamp with time zone. In other words, the bucketing function is similar to first extracting the timestamp from the UUID with `uuid_timestamp` and passing the result to the existing `time_bucket` function.  Having time bucketing support is a pre-requisite for being able to create continuous aggregates. However, creating continuous aggregates is currently blocked due to additional support needed to handle UUIDs in the materialization code. Full support for continuous aggregates will be added in a follow-up change.",https://github.com/timescale/timescaledb/commit/c51421a6c35f9cb81ff4b5c3b3283fcb44e641aa
timescale/timescaledb,https://github.com/timescale/timescaledb,2d8bf93,Melih,2025-11-18T10:10:29Z,Fix builds on macos13 due to missing cast (#8938)  Added a missing cast that's been causing debug build failures on macos13 with PG18 after PR #8465  Disable-check: force-changelog-file,https://github.com/timescale/timescaledb/commit/2d8bf93e89b0b2856cc4a3593cea6cba93324c09
timescale/timescaledb,https://github.com/timescale/timescaledb,60c63ba,Sven Klemm,2025-11-18T08:16:24Z,Enable PG18 tests for windows  PG18 packages for windows are available now so we can enable it in CI,https://github.com/timescale/timescaledb/commit/60c63baeaec35dd51336cd545d61dcf803ab3793
timescale/timescaledb,https://github.com/timescale/timescaledb,20c6ba3,Alexander Kuzmenkov,2025-11-17T14:43:22Z,"Section for backward-incompatible changes in the changelog (#8941)  In addition to the existing ""fixes"" and ""implements"" sections.",https://github.com/timescale/timescaledb/commit/20c6ba35cbdd213f931f234863de4f36983e5a69
timescale/timescaledb,https://github.com/timescale/timescaledb,ff980e6,Philip Krauss,2025-11-14T07:23:25Z,Forwardport 2.23.1 release (#8932)  Disable-check: force-changelog-file Disable-check: approval-count  ---------  Co-authored-by: Eon <123763385+timescale-automation@users.noreply.github.com> Co-authored-by: timescale-automation <123763385+github-actions[bot]@users.noreply.github.com>,https://github.com/timescale/timescaledb/commit/ff980e62efd97d7012975853ca550b309cfd2d9a
timescale/timescaledb,https://github.com/timescale/timescaledb,9992893,Alexander Kuzmenkov,2025-11-13T23:37:30Z,Fix an OOB write in sparse minmax selectivity estimation (#8933)  Made an off-by-one error. It appeared only on old chunks where the max column is the last column in the compressed chunk tables. Such chunks can't be created on modern versions because the metadata columns now go before the corresponding data column. This is why it was not caught by any tests.,https://github.com/timescale/timescaledb/commit/99928933e47b53e6fc9efa5451492c83d5c2c7c3
timescale/timescaledb,https://github.com/timescale/timescaledb,d425423,Sven Klemm,2025-11-13T15:06:59Z,Bump PG versions used in CI,https://github.com/timescale/timescaledb/commit/d42542388d15239eabde8057a9d19c204ece270c
timescale/timescaledb,https://github.com/timescale/timescaledb,2c01660,Ante Kresic,2025-11-10T13:31:47Z,Tweak pull request CI jobs  - Run only compile tests on Windows - Run only compile test on macos - Run only compile test on 32bit Linux,https://github.com/timescale/timescaledb/commit/2c016600deb01d47b2c20a9d3576825783bc2f2a
timescale/timescaledb,https://github.com/timescale/timescaledb,84e027e,Fabrízio de Royes Mello,2025-11-11T20:36:40Z,Use stack allocated StringInfoData  Instead of using long living StringInfo we can use StringInfoData cause it don't need to exist beyond the function scope.  Inspired by Postgres upstream commit: https://github.com/postgres/postgres/commit/6d0eba66275b125bf634bbdffda90c70856e3f93,https://github.com/timescale/timescaledb/commit/84e027e3b78eec865e0c7496ebb6bbe142044aae
timescale/timescaledb,https://github.com/timescale/timescaledb,f649fbb,Sven Klemm,2025-11-12T06:57:34Z,Add CI check timescaledb-extras diagnostic script,https://github.com/timescale/timescaledb/commit/f649fbb67f675b7817a91a90f16cdf64caf225fe
timescale/timescaledb,https://github.com/timescale/timescaledb,e4721e8,Sven Klemm,2025-11-12T07:19:44Z,Add missing ORDER BY to merge_chunks test,https://github.com/timescale/timescaledb/commit/e4721e8c082f31be84c9a024e963979ef33e9938
timescale/timescaledb,https://github.com/timescale/timescaledb,8a72490,Erik Nordström,2025-05-27T11:27:13Z,"Add concurrent mode for merging chunks  Add an option to merge chunks in concurrent mode, allowing concurrent transactions to query and execute modifications on the hypertable while chunks are being merged. Any modifying operations on the chunks being merged (e.g., inserts) are still blocked.  Example of a concurrent merge of two chunks:  ```sql call merge_chunks('chunk1', 'chunk2', concurrently => true); ```  The concurrent mode runs across two transactions. The first transaction locks the chunks to merge in ExclusiveLock mode. Then it writes the chunks' data to a new (temporary) relation, rebuilds indexes, and then commits. Just before committing, the merge takes session locks on all chunks to protect them against changes across the two transactions. The next transaction takes local locks on all chunks (including the temporary merged relations) in AccessExclusiveLock mode and completes the merge by swapping the heaps on the result chunk and its indexes.  While concurrent mode technically does a lock upgrade from ExclusiveLock to AccessExclusiveLock (via session locks), it still prevents a number of deadlock scenarios because all other locks are released when the first transaction commits. Since no other transaction can acquire a conflicting lock while the merge holds the session locks, and the merge holds no other locks, it can simply wait until the AccessExclusiveLock is available.  A merge could fail in the second transaction and leave behind the rewritten heaps for the merged relation. To handle such failures, the merge records the merge relations and temporary heaps in a new catalog table `chunk_rewrite`. If a merge command detects a previously failed merge via this catalog table, it will clean up any leftover heaps. An explicit cleanup procedure is also provided to clean up all failed merges.",https://github.com/timescale/timescaledb/commit/8a72490e06a1beeff3fbea94168a62c9d1522147
timescale/timescaledb,https://github.com/timescale/timescaledb,e1f8c06,Erik Nordström,2025-11-11T14:21:23Z,Avoid triggering flaky test check when injecting errors  Use error code TRIGGERED_ACTION_EXCEPTION instead of INTERNAL_ERROR in debug point error injections in order to avoid triggering the flaky tests check.,https://github.com/timescale/timescaledb/commit/e1f8c0698695255489c22e2f75eea615b8515dca
timescale/timescaledb,https://github.com/timescale/timescaledb,f00020f,Philip Krauss,2025-11-11T08:10:29Z,Fix Postgres version matching in labelling (#8915)  Follow up of #8902 - Regex matching the Postgres version from bug issues missed the new line.  Disable-check: force-changelog-file Disable-check: approval-count  Signed-off-by: Philip Krauss <35487337+philkra@users.noreply.github.com>,https://github.com/timescale/timescaledb/commit/f00020fddc21d712e0a0920ef32303d8d7c0f79c
timescale/timescaledb,https://github.com/timescale/timescaledb,4e9f2df,Alexander Kuzmenkov,2025-11-10T13:50:27Z,Scalar array operation pushdown to bloom filters (#8465)  Transform `x = any(array[...])` into `bloom1_contains_any` function call that checks the array elements against the bloom filter sparse index.,https://github.com/timescale/timescaledb/commit/4e9f2df345fc3cbac906b25981f2438eb282c3be
timescale/timescaledb,https://github.com/timescale/timescaledb,c943d7f,Sven Klemm,2025-11-08T09:40:19Z,Refactor logging in continuous aggregate materialization  Remove some indirection in the materialization logging code. Also fixes a bug where we would log the progress message even when an error code.,https://github.com/timescale/timescaledb/commit/c943d7fee35f05e5e9eded26faacddc5cce9a116
timescale/timescaledb,https://github.com/timescale/timescaledb,8d408f2,bezpechno,2025-10-27T19:29:57Z,Allow ALTER COLUMN TYPE when no compressed chunks are present  Relaxes the check to allow ALTER COLUMN TYPE when compression is enabled but no compressed chunks exist.  Fixes #8840,https://github.com/timescale/timescaledb/commit/8d408f251f0f648b8c655c7e089299e79bac917f
timescale/timescaledb,https://github.com/timescale/timescaledb,4a50b21,Sven Klemm,2025-11-06T11:10:19Z,Small refactor to cagg invalidation functions,https://github.com/timescale/timescaledb/commit/4a50b2164ba532a862dc01eacb703c2371863f51
timescale/timescaledb,https://github.com/timescale/timescaledb,657812a,Alexander Kuzmenkov,2025-11-06T18:02:57Z,Mark the variable changed inside PG_TRY/CATCH block as volatile (#8907)  Otherwise its modification might not survive the setjmp/longjmp.,https://github.com/timescale/timescaledb/commit/657812a309ed4b00b4f7aac90f42882a9e92bf26
timescale/timescaledb,https://github.com/timescale/timescaledb,b756434,Fabrízio de Royes Mello,2025-11-04T14:03:50Z,Avoid creating invalid ranges for CAggs invalidations  In #8467 we'd added some safeguards to don't read invalid invalidation ranges from our invalidation metadata but then we added another metadata table in #8514 without adding the same safeguard.  Now added the safeguard when saving and reading the ranges for the materialization phase of the CAgg refresh.,https://github.com/timescale/timescaledb/commit/b756434a84c3bba0eb1e6fd2374f9c8ed642fd1b
timescale/timescaledb,https://github.com/timescale/timescaledb,4b0aaa4,Philip Krauss,2025-11-06T09:51:00Z,"Automatic TimescaleDB & Postgres version labelling for bug tickets (#8902)  If a bug issue is opened, try to parse the affected TimescaleDB and Postgres version used, the add the labels to the issue. If the labels don't exist, created them. The format must be semver `d.d.d+`, any other format gets rejected and no label gets created. * TimescaleDB labels are prefixed with a `v`, e.g. `v2.23.0`` * Postgres labels are prefixed with `postgres`, e.g. `postgres-17.4`  Disable-check: force-changelog-file Disable-check: approval-count",https://github.com/timescale/timescaledb/commit/4b0aaa4fcfc9d6f7676117e20c6b269e9735d429
timescale/timescaledb,https://github.com/timescale/timescaledb,0c2a92f,Alexander Kuzmenkov,2025-11-05T15:41:45Z,Label released PRs in smaller batches (#8905)  We're hitting the GitHub usage limits.,https://github.com/timescale/timescaledb/commit/0c2a92f6a5235e2a0b273823f70c3b48e7d36ea0
timescale/timescaledb,https://github.com/timescale/timescaledb,35df524,Johannes Westphal,2025-10-31T21:15:32Z,"Fix decoding of UUID v7 timestamp microseconds  Fixes #8875, decoding was 1 microsecond off for most microsecond values due to truncation when encoding the value.",https://github.com/timescale/timescaledb/commit/35df524da45e4f1926f7b26c25b1cc17aab9c2cd
timescale/timescaledb,https://github.com/timescale/timescaledb,0e9f581,Sven Klemm,2025-11-05T11:28:30Z,Remove unused struct fields in RowCompressor  Support for generating batches with sequence numbers has been removed so we dont need these fields anymore.,https://github.com/timescale/timescaledb/commit/0e9f581d48c4cff4a3c38681167443a3fee28104
timescale/timescaledb,https://github.com/timescale/timescaledb,6ea9c1b,Alexander Kuzmenkov,2025-11-05T12:51:15Z,"Remove scheduled runs for APT package installcheck (#8904)  It's broken at the moment, we can enable it with the new release that fixes the tests.",https://github.com/timescale/timescaledb/commit/6ea9c1b4dbcee8e3e940ec61e86baba12b08e3bd
timescale/timescaledb,https://github.com/timescale/timescaledb,87589bf,Sven Klemm,2025-11-03T20:02:16Z,Add PG18 to pg_upgrade test,https://github.com/timescale/timescaledb/commit/87589bf4fc7f3b0d0ff2ef5b022ec92fbf174a6b
timescale/timescaledb,https://github.com/timescale/timescaledb,b03024e,Erik Nordström,2025-11-03T11:08:43Z,"Fix umash compiler warnings  The umash code initializes some character arrays using strings, but the arrays lack space for the terminating null character. This is probably intentional, so add __attribute__((nonstring)) to these variables to quench compiler warnings on newer clang and gcc compilers.",https://github.com/timescale/timescaledb/commit/b03024e3a5c1c80368b1a98ace499cef8f848609
timescale/timescaledb,https://github.com/timescale/timescaledb,769178b,Erik Nordström,2025-11-03T11:05:15Z,Fix uninitialized string buffer in compression unit test,https://github.com/timescale/timescaledb/commit/769178b38f84c4db1f99932b44448d63f405ea6c
timescale/timescaledb,https://github.com/timescale/timescaledb,487e4e7,Alexander Kuzmenkov,2025-11-04T10:06:47Z,"Run make installcheck in package tests (#8827)  The tests are failing at the moment, the fixes require repackaging.",https://github.com/timescale/timescaledb/commit/487e4e723f32d4bf42fd7bd5a6672e8a84562eba
timescale/timescaledb,https://github.com/timescale/timescaledb,7ac5571,Erik Nordström,2025-10-15T14:38:27Z,"Show chunks view range as timestamps for UUIDv7  When using the chunks view, it makes sense to show the time range as timestamp for UUIDv7-partitioned tables. Previously, the range was a unix timestamp integer.",https://github.com/timescale/timescaledb/commit/7ac55714ae1780bb53faf723a8ad13a853f76cf5
timescale/timescaledb,https://github.com/timescale/timescaledb,498bcf2,Alexander Kuzmenkov,2025-11-03T14:44:28Z,Fix the batch size estimation test with no statistics (#8824),https://github.com/timescale/timescaledb/commit/498bcf2272d5e837281a0406b4ce0bf78506e1bc
timescale/timescaledb,https://github.com/timescale/timescaledb,67ec098,Sven Klemm,2025-11-02T13:15:03Z,Fix signature for policy_job_stat_history_retention  Policy functions have void return value,https://github.com/timescale/timescaledb/commit/67ec098936b79424741e17be24bcf2961d0e57ea
timescale/timescaledb,https://github.com/timescale/timescaledb,7cfd24e,Alexander Kuzmenkov,2025-11-03T13:32:20Z,"Report the commit information while building the extension (#8830)  For some reason our APT packages report `_timescaledb_functions.get_git_commit().commit_tag` as ""2.22.1-dirty"", this will help to debug it.  Disable-check: force-changelog-file",https://github.com/timescale/timescaledb/commit/7cfd24ed9469f9855ed34dbe037096c09452765e
timescale/timescaledb,https://github.com/timescale/timescaledb,7377076,Sven Klemm,2025-11-02T07:19:14Z,Fix blocker for multiple hierarchical continuous aggregate policies  The blocker for adding multiple policies on hierarchical continuous aggregates would block adding any policies to hierarchical continuous aggregates and also block altering policies for hierarchical continuous aggregates.,https://github.com/timescale/timescaledb/commit/737707673ee5eca2d09e4da0675cf92b0be8c060
timescale/timescaledb,https://github.com/timescale/timescaledb,206c48b,Sven Klemm,2025-11-02T20:04:46Z,Fix crash in policy creation  Fixes: #5920,https://github.com/timescale/timescaledb/commit/206c48b238f57a555efcb9ef59684628544e4c81
timescale/timescaledb,https://github.com/timescale/timescaledb,b325221,Sven Klemm,2025-11-03T06:54:02Z,Adjust package workflow to build changes,https://github.com/timescale/timescaledb/commit/b325221381be63a0051b71f76f906bb6088e6e25
timescale/timescaledb,https://github.com/timescale/timescaledb,1388ab7,Sven Klemm,2025-11-02T20:09:40Z,Remove accidentally added file,https://github.com/timescale/timescaledb/commit/1388ab736c119c615efc5ce9fc3b7a78082e9997
timescale/timescaledb,https://github.com/timescale/timescaledb,40ddde3,Sven Klemm,2025-11-02T10:33:33Z,Make bgw_job_stat_history timezone independant,https://github.com/timescale/timescaledb/commit/40ddde3a0ba6292d732c684a7589a3bd9ac4a29e
timescale/timescaledb,https://github.com/timescale/timescaledb,1762c7c,Sven Klemm,2025-11-01T11:09:45Z,Unify APT package tests  Dont use emulation for the arm package test and instead use arm runner,https://github.com/timescale/timescaledb/commit/1762c7c06f58fcc8e6b884cfc9f34990e595a0e5
timescale/timescaledb,https://github.com/timescale/timescaledb,03bba13,natalya-aksman,2025-10-31T20:37:50Z,Add/fix unit tests for direct_compress_insert (#8843)  Fix a typo in the unit test (meant to be reverse order but non-reverse order was actually used) plus added more test cases.  Disable-check: approval-count,https://github.com/timescale/timescaledb/commit/03bba13b9b9b4da6ee347dfa46368fb9d01eb85b
timescale/timescaledb,https://github.com/timescale/timescaledb,3176651,Sven Klemm,2025-10-31T09:59:35Z,Don't error on failure to update job stat  Failing to update job stats should not result in the job producing an error instead this should be debug logged. This can happen when jobs concurrently with job stat retention policy.,https://github.com/timescale/timescaledb/commit/3176651f940c3a9d7380338cdb99c8c4651cfe0a
timescale/timescaledb,https://github.com/timescale/timescaledb,904c928,Sven Klemm,2025-10-28T09:43:34Z,Change log level of cagg refresh messages to DEBUG1,https://github.com/timescale/timescaledb/commit/904c928b7a0e04b00442627bbc49d88af9c2d485
timescale/timescaledb,https://github.com/timescale/timescaledb,59824a7,Philip Krauss,2025-10-30T14:34:55Z,Add file existence check in changelog format script (#8863)  Disable-check: force-changelog-file,https://github.com/timescale/timescaledb/commit/59824a7ac6f97a23be7141ab2956fbbd16501f5c
timescale/timescaledb,https://github.com/timescale/timescaledb,8773f9e,Sven Klemm,2025-10-30T07:35:38Z,Dont try downgrade test for pg18 packages  Since there is only 1 version for pg18 we cant do downgrade test atm.,https://github.com/timescale/timescaledb/commit/8773f9ed9a1f2ccaefad9da70aa1c0d895b0aa36
timescale/timescaledb,https://github.com/timescale/timescaledb,c99b8cb,Sven Klemm,2025-10-29T16:32:24Z,Remove kerberos dependency from ci  Kerberos library was needed for multinode but now its no longer needed for building timescaledb,https://github.com/timescale/timescaledb/commit/c99b8cb9b79cebc32b3ef7e713baf38e090e5b0d
timescale/timescaledb,https://github.com/timescale/timescaledb,338c5a4,Philip Krauss,2025-10-29T14:08:03Z,Forwardport 2.23.0 release (#8862)  Disable-check: force-changelog-file Disable-check: approval-count  ---------  Signed-off-by: Philip Krauss <35487337+philkra@users.noreply.github.com> Signed-off-by: Brandon <bpurcell@timescale.com> Co-authored-by: Eon <123763385+timescale-automation@users.noreply.github.com> Co-authored-by: timescale-automation <123763385+github-actions[bot]@users.noreply.github.com> Co-authored-by: Anastasiia Tovpeko <114177030+atovpeko@users.noreply.github.com> Co-authored-by: Brandon <bpurcell@timescale.com>,https://github.com/timescale/timescaledb/commit/338c5a40f15f8ac56e6f1ff0025c7854633a5fcb
timescale/timescaledb,https://github.com/timescale/timescaledb,e66a87f,Philip Krauss,2025-10-29T13:35:27Z,Add Postgres 18 packaging tests (#8861)  Disable-check: force-changelog-file Disable-check: approval-count  ---------  Signed-off-by: Philip Krauss <35487337+philkra@users.noreply.github.com>,https://github.com/timescale/timescaledb/commit/e66a87fc6085b31da79f5f6ea42a9914a9e968e3
timescale/timescaledb,https://github.com/timescale/timescaledb,f549770,Thao Pham,2025-10-28T19:01:10Z,"Make is_valid_query volatile (#8857)  Test cagg_utils failed in package test for ARM, in the part that test if a query is a valid cagg query. The error codes are messages were correct, just the ""is valid"" flag was true instead of false despite the error. My theory is that not declaring is_valid_query as volatile somehow enabled the compiler to reorder instructions incorrectly on arm. I am not 100% sure making this variable volatile will fix the issue (need repackaging to test), but it is the right way regardless  Disable-check: force-changelog-file",https://github.com/timescale/timescaledb/commit/f5497702f8798113feaa80a06de82383107df154
timescale/timescaledb,https://github.com/timescale/timescaledb,b7e04c9,Philip Krauss,2025-10-28T18:49:10Z,Take db name from connection string in smoke tests (#8855)  Smoke test assumed the database name is always `tsdb`. This PR takes the db name from the connection string.  Disable-check: changelog,https://github.com/timescale/timescaledb/commit/b7e04c9ce9bf55a36fb6d8bae336a706879f000b
timescale/timescaledb,https://github.com/timescale/timescaledb,78e85dc,Ante Kresic,2025-10-28T09:29:29Z,Remove UNLOGGED check during truncation  We enabled creating unlogged hypertables so removing an outdated assertion.,https://github.com/timescale/timescaledb/commit/78e85dc35928aacf051506663aeee3d5df17c0cd
timescale/timescaledb,https://github.com/timescale/timescaledb,d849b39,Sven Klemm,2025-10-26T17:52:31Z,Improve error handling of cagg_watermark  Found by sqlsmith  Fixes: #8837,https://github.com/timescale/timescaledb/commit/d849b3923e05ff16acc98de453d865a290e09fb1
timescale/timescaledb,https://github.com/timescale/timescaledb,6e26ffb,Sven Klemm,2025-10-25T09:08:09Z,Remove ROLE_CLUSTER_SUPERUSER from tests  This was used for multinode testing and is identical to ROLE_SUPERUSER so change all the tests that were still using ROLE_CLUSTER_SUPERUSER to user ROLE_SUPERUSER,https://github.com/timescale/timescaledb/commit/6e26ffb2246bfad2d9b534138929d41c24cc31cd
timescale/timescaledb,https://github.com/timescale/timescaledb,f367569,Ante Kresic,2025-10-26T08:33:33Z,Add ANALYZE to split chunk test  This is to reduce flakes.,https://github.com/timescale/timescaledb/commit/f367569134b0251661c57393c1cc5138cc6e30dd
timescale/timescaledb,https://github.com/timescale/timescaledb,ed66ed3,Sven Klemm,2025-10-25T10:00:27Z,Make test timeout configurable  Some tests configurations like sanitizer take longer to finish to not increase the timeout globally this patch adds a cmake option to make the timeout configurable.,https://github.com/timescale/timescaledb/commit/ed66ed3a92d7b6d6bd7c6158d35d5fcfefb44691
timescale/timescaledb,https://github.com/timescale/timescaledb,051c27b,Sven Klemm,2025-10-25T10:30:41Z,Remove pg_hba related settings  These were needed for multinode testing but are no longer needed,https://github.com/timescale/timescaledb/commit/051c27b10f3720fd717753dd9ff88cb0a03eae73
timescale/timescaledb,https://github.com/timescale/timescaledb,7464a68,natalya-aksman,2025-10-24T19:08:26Z,"Fix lossy index quals check for skipscan (#8829)  Thanks to @akuzm for uncovering a bug in handling of lossy Index quals when checking whether SkipScan can be used in not-null mode.  If index clause is lossy we extract index quals which may not filter out all needed rows, but if they filter out NULLs it's good for our purpose i.e. for deciding whether SkipScan is in NOT NULL mode.",https://github.com/timescale/timescaledb/commit/7464a68ec29211a89706b3a19acd25ff1e4eb58b
timescale/timescaledb,https://github.com/timescale/timescaledb,ada4163,Alexander Kuzmenkov,2025-10-24T18:04:20Z,Stabilize the collation test (#8828)  The chosen collation must match the database encoding.,https://github.com/timescale/timescaledb/commit/ada41633083f3ea0872145b19e3167e0506bac06
timescale/timescaledb,https://github.com/timescale/timescaledb,6991c20,Alexander Kuzmenkov,2025-10-24T15:40:06Z,"Fix a misnomer in a warning (#8826)  We mean compression ""ratio"" not ""rate"" here. Use the former consistently.",https://github.com/timescale/timescaledb/commit/6991c203245f1cee67d615ccb20b5cb3095e37d6
timescale/timescaledb,https://github.com/timescale/timescaledb,9a77b84,Alexander Kuzmenkov,2025-10-24T15:39:52Z,"Add missing snapshot handling to background job entry point (#8825)  It's used in some places but missing in others, which can lead to assertion failures in AssertHasSnapshotForToast() when modifying the job history table.",https://github.com/timescale/timescaledb/commit/9a77b84184810e3e4ec8d230d7b01ed44f3b6d68
timescale/timescaledb,https://github.com/timescale/timescaledb,e255fb8,Poroma Banerjee,2025-09-17T20:37:17Z,Refactor chunk compression logic  Simplify tsl_compress_chunk_wrapper by extracting recompression logic into a dedicated function and introducing helper functions for chunk state checks. Rename recompress_chunk_impl to recompress_chunk_in_memory_impl for clarity.,https://github.com/timescale/timescaledb/commit/e255fb83fa14f95c4c5a4d8d9318b53974fde865
timescale/timescaledb,https://github.com/timescale/timescaledb,d93aa31,Sven Klemm,2025-10-24T07:24:53Z,Fix flaky columnar_scan_cost test  Add missing vacuum analyze to make test stable,https://github.com/timescale/timescaledb/commit/d93aa31d1bc0f07b73019ed3705f80763911d93d
timescale/timescaledb,https://github.com/timescale/timescaledb,24e3ae9,Sven Klemm,2025-10-23T21:03:14Z,Add PG18 to ABI snapshot test,https://github.com/timescale/timescaledb/commit/24e3ae965a40f9b9fcd497ff90d2b0b8d811c520
timescale/timescaledb,https://github.com/timescale/timescaledb,01a9f6e,Sven Klemm,2025-10-24T06:29:37Z,Add missing space to guc description,https://github.com/timescale/timescaledb/commit/01a9f6e70fb121bd540330b4dd6ee28046cfca23
timescale/timescaledb,https://github.com/timescale/timescaledb,1fd3c64,Poroma Banerjee,2025-10-23T16:09:47Z,"Change ERRCODE for segmentwise recompression  Changed from ERRCODE_INTERNAL_ERROR to ERRCODE_OBJECT_NOT_IN_PREREQUISITE_STATE because this error can be triggered by client operations, not just internal bugs.",https://github.com/timescale/timescaledb/commit/1fd3c64f2b41375d1533a9ad6d93677cec44e1ea
timescale/timescaledb,https://github.com/timescale/timescaledb,0f55e9a,Sven Klemm,2025-10-23T12:16:59Z,Extend stale issue detection to cover PRs too,https://github.com/timescale/timescaledb/commit/0f55e9af7e0bbf6180046fea1ab7b711b0dcfb73
timescale/timescaledb,https://github.com/timescale/timescaledb,46ac77c,Sven Klemm,2025-10-23T07:01:51Z,Timeout tests after 120s  We want our CI to be snappy but some tests get stuck and take an hour to finish. This setting will abort those stuck tests early.,https://github.com/timescale/timescaledb/commit/46ac77c05d5ccb385d691ceb285b1c27cdb725da
timescale/timescaledb,https://github.com/timescale/timescaledb,ecdb5f7,Sven Klemm,2025-10-23T08:11:51Z,Test with max_worker_processes=0 in logrepl test  Modified the logical replication decompression marker test to set max_worker_processes=0 during node initialization,https://github.com/timescale/timescaledb/commit/ecdb5f796f6e984354919724117a1c631b279cb1
timescale/timescaledb,https://github.com/timescale/timescaledb,73c2c50,Ante Kresic,2025-10-22T11:10:36Z,Reduce recompression lock timeout for debug builds  Long lock timeout lead to isolation tests running for over 90s. Reducing its duration should lead to faster tests without affecting test results.,https://github.com/timescale/timescaledb/commit/73c2c5007ab2695f74eefe1242abb55e25729bad
timescale/timescaledb,https://github.com/timescale/timescaledb,a0b0012,Poroma Banerjee,2025-09-11T05:49:40Z,"Implement in-memory recompression functionality  Invoke `compress_chunk` with `:recompress=true` to recompress in-memory. Previously, to perform a full recompression, the data was first decompressed, saved to disk and then compressed.",https://github.com/timescale/timescaledb/commit/a0b0012dcf1a478f46ab6bf7210fd95254e84bb4
timescale/timescaledb,https://github.com/timescale/timescaledb,a90248a,Fabrízio de Royes Mello,2025-10-06T13:29:59Z,Fix cagg_migrate copy data step  In #7517 we made some performance improvements on Continuous Aggregate old format migration but it introduced a regression when setting the name of the old CAgg leading to errors when migrating materialized only CAggs.,https://github.com/timescale/timescaledb/commit/a90248a42af97b6af41894e6a05610d7daf9a619
timescale/timescaledb,https://github.com/timescale/timescaledb,5a55d14,Eon,2025-10-22T12:42:06Z,Increase minor version 2.24.0-dev (#8810)  Bump to next minor for the upcoming 2.22.1 release  Disable-check: force-changelog-file  Co-authored-by: timescale-automation <123763385+github-actions[bot]@users.noreply.github.com>,https://github.com/timescale/timescaledb/commit/5a55d14ff2f2c65354360ae3139b51953e3da421
timescale/timescaledb,https://github.com/timescale/timescaledb,630d984,Alexander Kuzmenkov,2025-10-22T11:54:32Z,Use the _ts_meta_count statistics to estimate compressed batch size (#8373)  This gives better estimates when there's a segmentby and we don't have full batches.,https://github.com/timescale/timescaledb/commit/630d984f9dd26daea583474ea675f1e2da644e47
timescale/timescaledb,https://github.com/timescale/timescaledb,64f5cb2,Sven Klemm,2025-10-21T05:54:34Z,Remove insert_blocker trigger  This trigger was protecting against accidental inserts into the hypertable when the extension was disabled. When the extension is active INSERTs are handled by ModifyHypertable and the trigger never comes into play. This simplifies our code as we no longer have to check for this special trigger when doing trigger specific logic.,https://github.com/timescale/timescaledb/commit/64f5cb207e9e705a12b5d7e00e0fab53c975b5d8
timescale/timescaledb,https://github.com/timescale/timescaledb,db59a34,David Beck,2025-10-20T12:11:24Z,"Enable uuid compression  This change sets the default for the GUC value:  `timescaledb.enable_uuid_compression=true`  The UUID compression feature was introduced in 2.22.x with the feature flag disabled. With this change I enable the feature for upcoming releases by default, 2.23 and upwards.",https://github.com/timescale/timescaledb/commit/db59a3456c7715fdf858d16acaac2f6ceec4afb7
timescale/timescaledb,https://github.com/timescale/timescaledb,3854a22,Alexander Kuzmenkov,2025-10-21T13:31:46Z,Allow compression when bloom sparse index is configured but disabled (#8807)  At the moment the compression would fail with an error which is disruptive if we want to temporarily disable the bloom filter indexes on a database. Lower the message severity to WARNING. Still treat it as an error when configuring new indexes.,https://github.com/timescale/timescaledb/commit/3854a227752aac483280b3372f0bccafb6554fd3
timescale/timescaledb,https://github.com/timescale/timescaledb,49bdae9,natalya-aksman,2025-10-20T19:19:24Z,"Remove PG18 skipscan check after PG patch made it unnecessary (#8802)  After PG18 included the patch to the issue described in the comment, we no longer need special processing for PG18 in SkipScan.",https://github.com/timescale/timescaledb/commit/49bdae9144fc9618fc1b344f17fec6ea48232ba3
timescale/timescaledb,https://github.com/timescale/timescaledb,b47ec69,Sven Klemm,2025-10-20T16:34:19Z,Don't do direct batch delete optimizations on hypertables with continuous aggregates  On hypertables with continuous aggregates direct batch deletes don't produce invalidation entries so we have to disable this optimization until we produce invalidations in direct batch delete.,https://github.com/timescale/timescaledb/commit/b47ec69ee301e5a24c63ee32d2cfc55f4517280f
timescale/timescaledb,https://github.com/timescale/timescaledb,1608217,Sven Klemm,2025-10-06T19:50:04Z,"Remove continuous aggregate trigger  Use our custom ModifyHypertable node to do invalidation for continuous aggregates instead of relying on triggers. This ensures that user triggers will not be able to interfere with invalidation for continuous aggregates.  This patch eliminates trigger overhead by handling invalidation directly in the execution path, which improves DML performance by 10-20%. It removes the need to manage triggers across hypertables and chunks and centralizes the invalidation logic. This integration allows for more precise control over when invalidation happens.",https://github.com/timescale/timescaledb/commit/1608217de8d4f0c43e292f7424353416fec24069
timescale/timescaledb,https://github.com/timescale/timescaledb,03b9d02,Ante Kresic,2025-10-20T13:52:19Z,"Set next_start for WITH clause compression policy  When adding the policy with initial_start, we also need to upsert the next_start column for the job in bgw_job_stat catalog table.",https://github.com/timescale/timescaledb/commit/03b9d02dcac3bbfb371360038863b648b43e6173
timescale/timescaledb,https://github.com/timescale/timescaledb,1d65dbf,Sven Klemm,2025-10-20T06:17:47Z,Remove PG18 from windows build test  PG18 packages are not yet available for Windows so we have to skip it for now.,https://github.com/timescale/timescaledb/commit/1d65dbf8a0cdfbf6b039755f60d9f259302a24da
timescale/timescaledb,https://github.com/timescale/timescaledb,d15b558,Sven Klemm,2025-10-18T21:12:22Z,Decompress sql files used in cagg_migrate test  Compressing SQL files makes it hard to follow changes in PR and since these files are small there is not much gain in compressing them.,https://github.com/timescale/timescaledb/commit/d15b5589350c6f774b75124ccbeda25ecabfc13e
timescale/timescaledb,https://github.com/timescale/timescaledb,644c783,Sven Klemm,2025-10-19T10:05:08Z,Fix typo in abi workflow,https://github.com/timescale/timescaledb/commit/644c783e80e095462313856de9cca7d1df6e73c8
timescale/timescaledb,https://github.com/timescale/timescaledb,a7eb8b8,Sven Klemm,2025-10-18T14:04:41Z,Ignore bgw_job_stat_history  Ignore this test for now since it is flaky.,https://github.com/timescale/timescaledb/commit/a7eb8b8fe1ceee4027f063d1c8e3becf27618b54
timescale/timescaledb,https://github.com/timescale/timescaledb,1882ad6,Sven Klemm,2025-10-17T16:07:00Z,Rename direct compress tests to be consistent with GUC name,https://github.com/timescale/timescaledb/commit/1882ad670e535a7e2afaa2d7e784955cf7db433f
timescale/timescaledb,https://github.com/timescale/timescaledb,bcca38f,Sven Klemm,2025-10-18T05:53:48Z,Fix windows workflow  The windows workflow fails being unable to determine the platform to run on when using a variable for the platform.,https://github.com/timescale/timescaledb/commit/bcca38f72355238a3e8e4226a9aa500c3f8ed795
timescale/timescaledb,https://github.com/timescale/timescaledb,716148e,Ante Kresic,2025-10-17T09:33:50Z,"Add custom sanitizer patch for PG18  Due to a move of a patched function, we need to version out our patch file to apply the patch in the correct place.  https://github.com/postgres/postgres/commit/c91963da1",https://github.com/timescale/timescaledb/commit/716148e45ccec7c499c3ab6665e64efefdf46de2
timescale/timescaledb,https://github.com/timescale/timescaledb,eca469f,Sven Klemm,2025-10-17T10:41:52Z,Add continuous aggregates to shared databases  Since sqlsmith runs against the shared database we should have continuous aggregates present.,https://github.com/timescale/timescaledb/commit/eca469f740acdfdb9287b870f9d06c0ac552316f
timescale/timescaledb,https://github.com/timescale/timescaledb,7294bf6,Ante Kresic,2025-10-17T08:55:34Z,Reduce flakiness of compression_bgw  Index sizes can vary and can even increase in size with vacuuming. Changing the test to only check that index size reduces when reindexing the indexes.,https://github.com/timescale/timescaledb/commit/7294bf6464a812035396ca2f87d4cd62b06cada0
timescale/timescaledb,https://github.com/timescale/timescaledb,d4eac1b,Ante Kresic,2025-10-14T16:31:46Z,Add PG18 support,https://github.com/timescale/timescaledb/commit/d4eac1b2cfc798964c3bd8de45653c65f8f7d759
timescale/timescaledb,https://github.com/timescale/timescaledb,3a993d8,Sven Klemm,2025-10-13T13:10:52Z,"Add GUC for WAL based invalidation  Put WAL based invalidation behind a GUC and decouple it from trigger based invalidation. WAL based invalidation is experimental and and should require explicit opt-in before being available. This also removes the cagg seting for invalidation method, since invalidation is per hypertable the configuration at the cagg level was misplaced.  This patch also removes the field from the cagg view since we don't this feature to be user visible while it is still experimental.",https://github.com/timescale/timescaledb/commit/3a993d83aa6e8a387550ba2bd8e0ca194794d6bc
timescale/timescaledb,https://github.com/timescale/timescaledb,acbfd4e,Poroma Banerjee,2025-10-15T08:45:14Z,"Fix sparse index bug that allowed multiple options  Add check to ensure sparse index configurations only provides one option. Previously, multiple options were being allowed but only the first one was getting considered.",https://github.com/timescale/timescaledb/commit/acbfd4e5a128a57504b7e90fd0b05f849d46ea37
timescale/timescaledb,https://github.com/timescale/timescaledb,2ef7275,Ante Kresic,2025-10-15T08:19:07Z,"Update constify now to check for RTE_GROUP  With PG18, we have another layer of traversal when going through RangeTblEntries. This change accounts for that when looking for it during constification validation steps.",https://github.com/timescale/timescaledb/commit/2ef727529d84ac94eb90ad6be21d9afaa51a073a
timescale/timescaledb,https://github.com/timescale/timescaledb,f3c53b8,Ante Kresic,2025-10-14T13:54:52Z,Include disabled nodes into columnar scan costing  PG18 changed how you disable nodes and scans by keeping recored of disabled nodes and including it into costing.  https://github.com/postgres/postgres/commit/e2225346,https://github.com/timescale/timescaledb/commit/f3c53b827ca96642acc3d05360697dd5d68dae02
timescale/timescaledb,https://github.com/timescale/timescaledb,aa94fb3,Ante Kresic,2025-10-14T13:58:06Z,"Use hashint4 hashing function for date type in PG18  For backwards compatibility, we need to use the old function for date type hashing in order to get accurate results from bloom sparse indexing.  https://github.com/postgres/postgres/commit/23d0b484",https://github.com/timescale/timescaledb/commit/aa94fb3334829d361ebfd57638ef9eaa9082de42
timescale/timescaledb,https://github.com/timescale/timescaledb,d55ce51,Ante Kresic,2025-10-13T08:54:37Z,"Don't create parameterized MergeAppend paths  With commit 53fbc362, we started creating parameterized MergeAppend paths which started triggering newly added asserts in PG18. Since these paths are not supported by Postgres for a while, skip creating them in the first place.  https://github.com/postgres/postgres/commit/f47b33a1",https://github.com/timescale/timescaledb/commit/d55ce51bc69d3d71be6a823851b0e9745544bf2c
timescale/timescaledb,https://github.com/timescale/timescaledb,0292b91,Fabrízio de Royes Mello,2025-10-09T21:18:10Z,Fix incremental policy refresh on variable sized buckets  In incremental refresh we produce batches (ranges) to execute the refresh in individual transactions in order to don't exhaust resources.  The problem is when producing the batches we align it to the bucket boundaries but when the refresh is executed we unnecessary recalculate the time bucket leading to overlaping ranges specially for CAggs using variable sized buckets.  Fixed it by don't calculating again the time bucket when we're refreshing ranges produced by the incremental policy refresh algorithm.,https://github.com/timescale/timescaledb/commit/0292b910d72765df13d83c4eca949fa4a4618983
timescale/timescaledb,https://github.com/timescale/timescaledb,a84205d,Sven Klemm,2025-10-12T14:08:17Z,Move isnull check before using it  This is mostly a cosmetic change since isnull should never be true here. This patch changes the check to Ensure and moves it before using the datum.,https://github.com/timescale/timescaledb/commit/a84205d8aef41d2cf71f71d2669e8e98f2ff0a7d
timescale/timescaledb,https://github.com/timescale/timescaledb,a55e7c5,Sven Klemm,2025-10-11T16:37:52Z,Fix forward port of 2.22.1 update script  Forwardport of 2.22.1 did not correctly adjust update script for 2.22.1 and added an empty file instead.,https://github.com/timescale/timescaledb/commit/a55e7c5e43aaa3b55bcce027b9b1efd1e01e0c01
timescale/timescaledb,https://github.com/timescale/timescaledb,2bda74a,Sven Klemm,2025-10-11T14:52:19Z,Don't alter cagg catalog directly in watermark test  Use proper continuous aggregate API to create continuous aggregate in watermark test.,https://github.com/timescale/timescaledb/commit/2bda74afc326a026016f3f85ea9d7d5855a9cfb6
timescale/timescaledb,https://github.com/timescale/timescaledb,272ab4f,Ante Kresic,2025-10-09T12:40:42Z,"Update EXPLAIN plan formatting in tests  Updating the cleanup script to remove any possibility of changes in explain plan width to mess with result output since we already do some changes to the plans to make them stable over multiple PG versions. Also, removing row counts and added a couple PG18 specific filters.",https://github.com/timescale/timescaledb/commit/272ab4fe6a6f6e00ef7613ec99397a8de02c3282
timescale/timescaledb,https://github.com/timescale/timescaledb,cb14558,Sven Klemm,2025-10-10T05:50:26Z,Rename decompress_chunk folder to columnar_scan  We renamed the custom scan node a while ago to ColumnarScan but kept the file names back then unchanged to not conflict with in flight PRs.,https://github.com/timescale/timescaledb/commit/cb14558c990a38dccefce61f86bda6816e805a7e
timescale/timescaledb,https://github.com/timescale/timescaledb,68b30f4,Ante Kresic,2025-10-10T11:35:32Z,Set SNI hostname data to SSL connections  This fixes telemetry test.,https://github.com/timescale/timescaledb/commit/68b30f4a9c8d3804cd6f07a6253341f58238c4f0
timescale/timescaledb,https://github.com/timescale/timescaledb,1e31343,Erik Nordström,2025-10-08T10:48:50Z,"Move heap swap code out of reorder code  The reorder functionality imported code for rebuilding and swapping heaps from PostgreSQL. This code should ideally not be in TSL-licensed code, so move it to `src/import` where other imported code lives under a PostgreSQL-compatible license.  This also makes the heap swap functionality available to other parts of the code, which will be useful for concurrent merge chunks.",https://github.com/timescale/timescaledb/commit/1e313439e73ce458b0ae95164f09f3b842935aaf
timescale/timescaledb,https://github.com/timescale/timescaledb,cebb8d1,Erik Nordström,2025-10-06T13:50:59Z,"Support show/drop chunks with UUIDv7 partitioning  The functions show_chunk() and drop_chunks() didn't accept timestamps or intervals as older_than arguments when calling these functions on a UUIDv7-partitioned hypertable.  To fix this, add explicit checks for UUIDv7-partitioned tables and accept timestamptz time ranges.",https://github.com/timescale/timescaledb/commit/cebb8d179f5c205daf4edba89802f5ba8aad7996
timescale/timescaledb,https://github.com/timescale/timescaledb,7211ccc,Sven Klemm,2025-10-09T09:10:46Z,Improve error message on catalog version mismatch,https://github.com/timescale/timescaledb/commit/7211ccce2ee09258ddbe00e7d8d201d81e9bc82e
timescale/timescaledb,https://github.com/timescale/timescaledb,7126ba8,Alexander Kuzmenkov,2025-10-09T09:57:10Z,"Enable backports for workflows (#8757)  There was a permission issue with the token that prevented this, now it should be fixed.",https://github.com/timescale/timescaledb/commit/7126ba871584cdb4dbbca29cd15eab9a963271ce
timescale/timescaledb,https://github.com/timescale/timescaledb,53fbc36,natalya-aksman,2025-10-08T15:17:48Z,"Allow sorts over decompressed index scans for ChunkAppend (#8753)  Customer had performance issues with query sorting order not matching compressed index sorting order and selecting ChunkAppend with LIMIT over SeqScans when IndexScans were dramatically cheaper because of restrictive index conditions.  The reason was that we would only add SortPath on top of decompressed SeqScans and not IndexScans, making decompressed IndexScans ineligible for ChunkAppend when their sort does not match query sort.",https://github.com/timescale/timescaledb/commit/53fbc36231fbfd5244c8397f6c9af8613782f851
timescale/timescaledb,https://github.com/timescale/timescaledb,b08cc53,Mats Kindahl,2025-10-06T13:47:06Z,"Modify schedule interval for job history pruning  The job is modified to run every 6 hours. There is no need to run VACUUM FULL since we truncate the table and re-insert the rows into the history, which is equivalent to doing a VACUUM FULL.  Fixes #8272",https://github.com/timescale/timescaledb/commit/b08cc53d1d7d7e9b1170b10cdf78d2ac7d17e1bd
timescale/timescaledb,https://github.com/timescale/timescaledb,3d13845,Alexander Kuzmenkov,2025-10-07T10:49:36Z,Enable vectorized grouping by bool columns (#8742)  Use the serialized grouping strategy. Somehow we completely missed this case and it fails with internal program error at the moment.,https://github.com/timescale/timescaledb/commit/3d13845ac00cfa62014adc465c64601da663190d
timescale/timescaledb,https://github.com/timescale/timescaledb,db2597e,Sven Klemm,2025-10-07T07:24:25Z,Stabilize shared tests  Stabilize shared test results by calling analyze after compression. Previously this would be called before compression and with recent addition of partial chunks statistics would change to not favor index scan cause the tables are too small.,https://github.com/timescale/timescaledb/commit/db2597e768698a3e8ba709ffbca1c685874ed81d
timescale/timescaledb,https://github.com/timescale/timescaledb,40fe5b9,Sven Klemm,2025-10-06T14:39:41Z,Remove dead FDW code from ModifyHypertable,https://github.com/timescale/timescaledb/commit/40fe5b9403d2affc836bf1e6a339f7321ba31bf8
timescale/timescaledb,https://github.com/timescale/timescaledb,87466de,Sven Klemm,2025-10-05T15:16:27Z,Add support for unlogged hypertables  This patch allows setting hypertables to unlogged. Unlogged tables provide a significant performance boost by sacrificing durability which can be a useful tradeoff when data can be restored from a different system.  Fixes: #836,https://github.com/timescale/timescaledb/commit/87466decff0db6b6ff095d8dc55d465f62aa64c1
timescale/timescaledb,https://github.com/timescale/timescaledb,91aa054,Sven Klemm,2025-10-03T14:28:55Z,"Add a partial chunk to the shared database setup  None of the tables in the shared test database had partially compressed chunks, to increase test coverage for partial chunks make the compressed hypertable have partial chunks as well.",https://github.com/timescale/timescaledb/commit/91aa054497992eca7eec59567b4deddc2d3007e8
timescale/timescaledb,https://github.com/timescale/timescaledb,0cf3981,Sven Klemm,2025-10-04T14:33:48Z,Fix cached utility statements  When using utility statements in functions that are cached we would alter the cached versions leading to malfunctions on repeated calls.  Fixes: #8600,https://github.com/timescale/timescaledb/commit/0cf3981d91487eec181955880819e51a3a6c92ce
timescale/timescaledb,https://github.com/timescale/timescaledb,752bdf9,Sven Klemm,2025-10-05T05:24:00Z,Error when chunk is not found during chunk tuple routing  Fix potential null pointer deference found by coverity. This is a false positive as pre checks for chunk tuple routing ensure either the hypertable lookup or chunk succeed. Nevertheless it's still useful to be explicit in the function call looking up the chunk.,https://github.com/timescale/timescaledb/commit/752bdf9ff555dfa6cda82142b10b1c2d1a3c094a
timescale/timescaledb,https://github.com/timescale/timescaledb,671e61e,Sven Klemm,2025-10-02T17:45:37Z,Use custom COPY code for direct COPY in chunk  Previously only COPY targetting hypertable would result in our custom COPY code being used. COPY targetting chunk directly would instead use postgres COPY code. This means DML into frozen chunks would not be prevented and direct compress would not be used.,https://github.com/timescale/timescaledb/commit/671e61e1d6c182c25ee03c118c788d14d71ea16e
timescale/timescaledb,https://github.com/timescale/timescaledb,0b2e777,Erik Nordström,2025-09-29T14:09:15Z,Test compressed chunk creation in compressed COPY  Make sure that concurrent direct compress COPY operations synchronize on creating a compressed chunk when both try to create the chunk at the same time.,https://github.com/timescale/timescaledb/commit/0b2e7776819ba183080b807991c37b685c41099d
timescale/timescaledb,https://github.com/timescale/timescaledb,40840b0,Erik Nordström,2025-05-27T11:27:13Z,"Refactor chunk locking for concurrency  Concurrent operations on chunks (e.g, a chunk merge, compress, concurrently with inserts) can easily lead to deadlocks due to each process taking locks on the chunk's metadata and its table in different orders.  For example, when tuple routing scans for a chunk, dimension slices are locked before any locks are taken on the chunk relation. Other operations, like merge/split and compression often take a lock on the relation first. This can easily lead to deadlock scenarios.  This change makes locking more consistent when getting a chunk object. It is now possible to specify a lock level in chunk scan functions to ensure that a lock is taken on the relation before any other related metadata (slices) are locked.  The old locking behavior for chunk scans (i.e., no relation locks) can be achieved by specifying the ""NoLock"" lock level.  These changes are in preparation for implementing better concurrency for chunk merges and other concurrent operations.",https://github.com/timescale/timescaledb/commit/40840b03ff05e21c060f09f00907756714fd10b0
timescale/timescaledb,https://github.com/timescale/timescaledb,168e5f8,Sven Klemm,2025-10-02T20:06:14Z,Fix UNION queries on compressed chunks  In UNION queries with compressed chunks the chunks would not be classified correctly leading to ColumnarScans not working.  An entry of reloptkind RELOPT_OTHER_MEMBER_REL might still be a hypertable chunk here if it was pulled up from a subquery as happens with UNION ALL for example.  Fixes #7821,https://github.com/timescale/timescaledb/commit/168e5f8e5606fa9fe9f1630af37cdae5e4e36f59
timescale/timescaledb,https://github.com/timescale/timescaledb,2aa2667,Sven Klemm,2025-10-02T05:32:58Z,Use winget to install postgres in windows tests  Replace chocolatey with winget to install postgres. chocolatey hasn't updated their postgres versions for half a year and is several patch releases behind.,https://github.com/timescale/timescaledb/commit/2aa26672ead653ebddab9e1b63369744ea08616d
timescale/timescaledb,https://github.com/timescale/timescaledb,d2ca89e,Ante Kresic,2025-10-02T08:57:15Z,Add WITH (FORCE) to DML compression test  This is to reduce the chance of tests failing due to stray bgw running during the drop.,https://github.com/timescale/timescaledb/commit/d2ca89ebb368f66d7e2644d825554a8ccee0a539
timescale/timescaledb,https://github.com/timescale/timescaledb,0cae0c7,Philip Krauss,2025-10-01T18:45:29Z,Forward port 2.22.1 (#8727)  * cherrypicked: 687331da33dce1be390d277cbaa0eef62e6ede9d * adjusted post release CHANGELOG message https://github.com/timescale/timescaledb/pull/8726 * added up & downgrade files * update pervious version in version.config  Disable-check: force-changelog-file Disable-check: approval-count  ---------  Signed-off-by: Philip Krauss <35487337+philkra@users.noreply.github.com> Co-authored-by: Eon <123763385+timescale-automation@users.noreply.github.com> Co-authored-by: timescale-automation <123763385+github-actions[bot]@users.noreply.github.com> Co-authored-by: Iain Cox <iain@timescale.com>,https://github.com/timescale/timescaledb/commit/0cae0c7c3f108172896840ae0d2c8914a251bc9f
timescale/timescaledb,https://github.com/timescale/timescaledb,00b5f21,Sven Klemm,2025-10-01T08:30:45Z,Don't block dropping hypertables with other objects  Fixes #2303,https://github.com/timescale/timescaledb/commit/00b5f21dcf06de8829cec12c9276d7ee2cc292d1
timescale/timescaledb,https://github.com/timescale/timescaledb,0cf35c1,Ante Kresic,2025-10-01T11:29:22Z,Add index def ordering to test output  Continuous aggs test can cause flakiness due to multiple indexes being out of order and causing test failures.,https://github.com/timescale/timescaledb/commit/0cf35c195244de4f72df501b42f1caf07ae91f70
timescale/timescaledb,https://github.com/timescale/timescaledb,cc7a81b,Sven Klemm,2025-09-28T06:56:30Z,Add chunk support for ModifyHypertable  When doing DML operations on a hypertable the postgres ModifyTable node would be wrapped into ModifyHypertable node. This patch makes DML operations work the same when working with chunks directly. Previously we would not intercept DML on chunks directly leading to some features not working correctly when operating on a chunk directly.,https://github.com/timescale/timescaledb/commit/cc7a81b00dc5df42c6dc1deed8620c54e05e643e
timescale/timescaledb,https://github.com/timescale/timescaledb,36d0af7,Ante Kresic,2025-10-01T10:53:06Z,Remove jobs from compression_hypertable test  Jobs could be the culprit for causing flakiness when we attempt to drop and recreate the DB in this test so removing them should help reduce the issue.,https://github.com/timescale/timescaledb/commit/36d0af72c4219740cec0faeb653b335fac58ad77
timescale/timescaledb,https://github.com/timescale/timescaledb,ffc88ff,Sven Klemm,2025-09-30T12:08:11Z,Use winget to install postgres in windows package test  Chocolatey hasnt updated their postgres versions for half a year and they are still on 17.4 while 17.6 is current. Since we want to test against latest we are switching to winget to install postgres.,https://github.com/timescale/timescaledb/commit/ffc88ff750aead14bd6be708907de85c1d393440
timescale/timescaledb,https://github.com/timescale/timescaledb,7aa0e6e,Sven Klemm,2025-09-29T05:48:32Z,Allow set-returning functions in continuous aggregates  Remove the blocker for set-returning functions from continuous aggregate definitions,https://github.com/timescale/timescaledb/commit/7aa0e6eeb8bdc64caac037bbb440354af2e47c3a
timescale/timescaledb,https://github.com/timescale/timescaledb,afdb4cd,Sven Klemm,2025-09-30T04:45:42Z,Use force option to drop database in compression_null_dump_restore  Try to make this test less flaky by forcefully dropping database,https://github.com/timescale/timescaledb/commit/afdb4cd2923e91ce42b2e975a6f1dbd80ddc7de4
timescale/timescaledb,https://github.com/timescale/timescaledb,60f2ad5,Fabrízio de Royes Mello,2025-09-29T20:38:02Z,Remove pointless warning message  In #8707 we blocked creating multiple concurrent refresh policies for Hierarchical Continuous Aggregate due to potential deadlocks and emit a warning message during the extension update.  This blocker will me removed in the feature so the warning message is pointless and should be part of the release notes instead so removing it.,https://github.com/timescale/timescaledb/commit/60f2ad5ba4ba0269fda3761bb71eb35e6d60fe1c
timescale/timescaledb,https://github.com/timescale/timescaledb,98797af,Fabrízio de Royes Mello,2025-09-29T13:00:51Z,Block concurrent refresh policies for Hierarchical CAggs  Due to potential deadlocks we decided to block concurrent refresh policies for Hierarchical Continuous Aggregates for now. We still investigating and when be save this blocker will be removed.,https://github.com/timescale/timescaledb/commit/98797af74e030c037067d5928dce4fdc4c741ecb
timescale/timescaledb,https://github.com/timescale/timescaledb,d84752e,Sven Klemm,2025-09-27T09:27:06Z,Ignore bgw tests on PG15 snapshot tests,https://github.com/timescale/timescaledb/commit/d84752e6692dfed84b37c7c51660d54b288eec44
timescale/timescaledb,https://github.com/timescale/timescaledb,9240722,Fabrízio de Royes Mello,2025-09-26T17:45:45Z,Don't close the scanner iterator after update watermark  In #8542 we made a change to use active and registered snapshots only due to some Postgres upstream changes but we unnecessary also closed the iterator that will be a Noop since the iterator is already closed after execute the callback function `cagg_watermark_update_scan_internal` that returns `SCAN_DONE`.,https://github.com/timescale/timescaledb/commit/9240722155d44a2a588445bdf8031c2e7a9828a6
timescale/timescaledb,https://github.com/timescale/timescaledb,fcc7e70,Philip Krauss,2025-09-29T07:02:07Z,Disable smoke tests schedule (#8705)  Disable-check: approval-count Disable-check: force-changelog-file  Signed-off-by: Philip Krauss <35487337+philkra@users.noreply.github.com>,https://github.com/timescale/timescaledb/commit/fcc7e7096ce290ccba704518fe4db331de5790a7
timescale/timescaledb,https://github.com/timescale/timescaledb,1ada5ba,Sven Klemm,2025-09-27T09:24:22Z,Call dropdb with force option  Tests seem to be flaky occasionally due to not being able to drop the database.,https://github.com/timescale/timescaledb/commit/1ada5ba4e7a84c11a29fe1403746cbbd63623488
timescale/timescaledb,https://github.com/timescale/timescaledb,94cab34,Sven Klemm,2025-09-28T05:59:44Z,Remove access method from chunk functions  With the removal of our table access method this is no longer needed.,https://github.com/timescale/timescaledb/commit/94cab340282144a7ec72de7ace0ebb50f446d12e
timescale/timescaledb,https://github.com/timescale/timescaledb,6dcd2f0,Sven Klemm,2025-09-27T17:09:54Z,Remove amoid from Chunk struct  With the removal of our table access method this was not used by any code.,https://github.com/timescale/timescaledb/commit/6dcd2f0e02caf0bba078d6cf7fc39377af25c7bd
timescale/timescaledb,https://github.com/timescale/timescaledb,91ef331,Sven Klemm,2025-09-27T09:09:21Z,Ignore timescaledb-toolkit availability on rockylinux 9 for PG17  We havent yet published timescaledb-toolkit on rockylinux:9 for PG17 due to build problems.,https://github.com/timescale/timescaledb/commit/91ef33189c617d35645f029fb0676c5e89ab6939
timescale/timescaledb,https://github.com/timescale/timescaledb,7529c68,Sven Klemm,2025-09-26T17:25:15Z,Ignore result of compression_bgw test on macos  On disk sizes of the resulting chunks are different on macos,https://github.com/timescale/timescaledb/commit/7529c6847651751ff5c46f3c018e4c9f5c1a5ac4
timescale/timescaledb,https://github.com/timescale/timescaledb,a349e25,Keyur Panchal,2025-09-26T21:13:54Z,Fix format specifier when printing uint64 (#8682)  Changed `%ld` to `UINT64_FORMAT` for compatibility to prevent warnings on MacOS when built against PG18.  Disable-check: force-changelog-file,https://github.com/timescale/timescaledb/commit/a349e25523c8c79f6396fc1662aab9b1f293e4aa
timescale/timescaledb,https://github.com/timescale/timescaledb,71845d6,natalya-aksman,2025-09-26T15:11:48Z,Fix compressed index not chosen for varchar segmentby column (#8693)  Fixes #8681,https://github.com/timescale/timescaledb/commit/71845d6acd925d886956f6056841c5ac8663625b
timescale/timescaledb,https://github.com/timescale/timescaledb,1de4950,Fabrízio de Royes Mello,2025-09-26T13:05:26Z,Fix wrong catalog macro usage,https://github.com/timescale/timescaledb/commit/1de4950cf179c53038f04db7831be4b4c6c0ffbc
timescale/timescaledb,https://github.com/timescale/timescaledb,c12ff05,Ante Kresic,2025-09-26T09:31:31Z,Track sorting order for caggs in PG18,https://github.com/timescale/timescaledb/commit/c12ff05c7b0aa19c3f462569408282d7a077857d
timescale/timescaledb,https://github.com/timescale/timescaledb,1d2f401,Sven Klemm,2025-09-26T04:56:40Z,Fix flaky compression_hypertable test,https://github.com/timescale/timescaledb/commit/1d2f40150cf9a2b3d7ba2171ceb2c9dda7b9071e
timescale/timescaledb,https://github.com/timescale/timescaledb,131f281,Sven Klemm,2025-09-26T04:40:09Z,Add missing ORDER BY to chunk_column_stats test queries,https://github.com/timescale/timescaledb/commit/131f281452cb6e17735d94e676db48baac8c24d4
